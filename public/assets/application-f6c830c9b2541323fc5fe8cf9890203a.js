function BestInPlaceEditor(e){this.element=e,this.initOptions(),this.bindForm(),this.initNil(),jQuery(this.activator).bind("click",{editor:this},this.clickHandler)}function stateDropDownEditor(e,t){$('<input required data-text-field="name" data-value-field="id" data-bind="value:'+t.field+'"/>').appendTo(e).kendoDropDownList({autoBind:!1,dataSource:{type:"json",transport:{read:{url:"/states",dataType:"json"}}}})}function projPhaseDropDownEditor(e,t){$('<input required data-text-field="name" data-value-field="id" data-bind="value:'+t.field+'"/>').appendTo(e).kendoDropDownList({autoBind:!1,dataSource:{type:"json",transport:{read:{url:"/project_phases",dataType:"json"}}}})}function projTypeDropDownEditor(e,t){$('<input required data-text-field="name" data-value-field="id" data-bind="value:'+t.field+'"/>').appendTo(e).kendoDropDownList({autoBind:!1,dataSource:{type:"json",transport:{read:{url:"/project_types",dataType:"json"}}}})}function sachseGroupDropDownEditor(e,t){$('<input required data-text-field="name" data-value-field="id" data-bind="value:'+t.field+'"/>').appendTo(e).kendoDropDownList({autoBind:!1,dataSource:{type:"json",transport:{read:{url:"/sachse_groups",dataType:"json"}}}})}function contractTypeDropDownEditor(e,t){$('<input required data-text-field="name" data-value-field="id" data-bind="value:'+t.field+'"/>').appendTo(e).kendoDropDownList({autoBind:!1,dataSource:{type:"json",transport:{read:{url:"/contract_types",dataType:"json"}}}})}function datePickerEditor(e,t){$('<input required data-text-field="name" data-value-field="id" data-bind="value:'+t.field+'"/>').appendTo(e).kendoDatePicker({format:"MM/dd"})}function jobNameAutoFill(e,t){$('<input required data-text-field="name" data-value-field="id" data-bind="value:'+t.field+'"/>').appendTo(e).kendoAutoComplete({dataSource:{type:"json",transport:{read:{url:"/jobs",dataType:"json"}}}})}function buildingNameAutoFill(e,t){$('<input required data-text-field="building" data-value-field="id" data-bind="value:'+t.field+'"/>').appendTo(e).kendoAutoComplete({dataSource:{type:"json",transport:{read:{url:"/jobs",dataType:"json"}},serverGrouping:!0}})}function SmartUnLoading(){$(".divMessageBox").fadeOut(300,function(){$(this).remove()}),$(".LoadingBoxContainer").fadeOut(300,function(){$(this).remove()})}function getInternetExplorerVersion(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=n.exec(t)&&(e=parseFloat(RegExp.$1))}return e}function checkVersion(){var e="You're not using Windows Internet Explorer.",t=getInternetExplorerVersion();t>-1&&(e=t>=8?"You're using a recent copy of Windows Internet Explorer.":"You should upgrade your copy of Windows Internet Explorer."),alert(e)}function isIE8orlower(){var e="0",t=getInternetExplorerVersion();return t>-1&&(e=t>=9?0:1),e}function nav_page_height(){var e=$("#main").height(),t=$(window).height()-$.navbar_height;e>t?($.left_panel.css("min-height",e+"px"),$.root_.css("min-height",e+$.navbar_height+"px")):($.left_panel.css("min-height",t+"px"),$.root_.css("min-height",t+"px"))}function check_if_mobile_width(){$(window).width()<979?$.root_.addClass("mobile-view-activated"):$.root_.hasClass("mobile-view-activated")&&$.root_.removeClass("mobile-view-activated")}function launchFullscreen(e){$.root_.hasClass("full-screen")?($.root_.removeClass("full-screen"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):($.root_.addClass("full-screen"),e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())}function runAllForms(){$.fn.slider&&$(".slider").slider(),$.fn.select2&&$(".select2").each(function(){var e=$(this),t=e.attr("data-select-width")||"100%";e.select2({allowClear:!0,width:t})}),$.fn.mask&&$("[data-mask]").each(function(){var e=$(this),t=e.attr("data-mask")||"error...",n=e.attr("data-mask-placeholder")||"X";e.mask(t,{placeholder:n})}),$.fn.autocomplete&&$("[data-autocomplete]").each(function(){var e=$(this),t=e.data("autocomplete")||["The","Quick","Brown","Fox","Jumps","Over","Three","Lazy","Dogs"];e.autocomplete({source:t})}),$.fn.datepicker&&$(".datepicker").each(function(){var e=$(this),t=e.attr("data-dateformat")||"dd.mm.yy";e.datepicker({dateFormat:t,prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>'})}),$("button[data-loading-text]").on("click",function(){var e=$(this);e.button("loading"),setTimeout(function(){e.button("reset")},3e3)})}function runAllCharts(){$.fn.sparkline&&$(".sparkline").each(function(){var e=$(this),t=e.data("sparkline-type")||"bar";if("bar"==t){var n=e.data("sparkline-bar-color")||e.css("color")||"#0000f0",i=e.data("sparkline-height")||"26px",a=e.data("sparkline-barwidth")||5,r=e.data("sparkline-barspacing")||2,o=e.data("sparkline-negbar-color")||"#A90329",s=e.data("sparkline-barstacked-color")||["#A90329","#0099c6","#98AA56","#da532c","#4490B1","#6E9461","#990099","#B4CAD3"];e.sparkline("html",{type:"bar",barColor:n,type:t,height:i,barWidth:a,barSpacing:r,stackedBarColor:s,negBarColor:o,zeroAxis:"false"})}if("line"==t){var i=e.data("sparkline-height")||"20px",l=e.data("sparkline-width")||"90px",d=e.data("sparkline-line-color")||e.css("color")||"#0000f0",c=e.data("sparkline-line-width")||1,u=e.data("fill-color")||"#c0d0f0",h=e.data("sparkline-spot-color")||"#f08000",p=e.data("sparkline-minspot-color")||"#ed1c24",f=e.data("sparkline-maxspot-color")||"#f08000",g=e.data("sparkline-highlightspot-color")||"#50f050",m=e.data("sparkline-highlightline-color")||"f02020",v=e.data("sparkline-spotradius")||1.5;thisChartMinYRange=e.data("sparkline-min-y")||"undefined",thisChartMaxYRange=e.data("sparkline-max-y")||"undefined",thisChartMinXRange=e.data("sparkline-min-x")||"undefined",thisChartMaxXRange=e.data("sparkline-max-x")||"undefined",thisMinNormValue=e.data("min-val")||"undefined",thisMaxNormValue=e.data("max-val")||"undefined",thisNormColor=e.data("norm-color")||"#c0c0c0",thisDrawNormalOnTop=e.data("draw-normal")||!1,e.sparkline("html",{type:"line",width:l,height:i,lineWidth:c,lineColor:d,fillColor:u,spotColor:h,minSpotColor:p,maxSpotColor:f,highlightSpotColor:g,highlightLineColor:m,spotRadius:v,chartRangeMin:thisChartMinYRange,chartRangeMax:thisChartMaxYRange,chartRangeMinX:thisChartMinXRange,chartRangeMaxX:thisChartMaxXRange,normalRangeMin:thisMinNormValue,normalRangeMax:thisMaxNormValue,normalRangeColor:thisNormColor,drawNormalOnTop:thisDrawNormalOnTop})}if("pie"==t){var b=e.data("sparkline-piecolor")||["#B4CAD3","#4490B1","#98AA56","#da532c","#6E9461","#0099c6","#990099","#717D8A"],_=e.data("sparkline-piesize")||90,y=e.data("border-color")||"#45494C",k=e.data("sparkline-offset")||0;e.sparkline("html",{type:"pie",width:_,height:_,tooltipFormat:'<span style="color: {{color}}">&#9679;</span> ({{percent.1}}%)',sliceColors:b,offset:0,borderWidth:1,offset:k,borderColor:y})}if("box"==t){var w=e.data("sparkline-width")||"auto",x=e.data("sparkline-height")||"auto",C=e.data("sparkline-boxraw")||!1,T=e.data("sparkline-targetval")||"undefined",S=e.data("sparkline-min")||"undefined",D=e.data("sparkline-max")||"undefined",E=e.data("sparkline-showoutlier")||!0,F=e.data("sparkline-outlier-iqr")||1.5,A=e.data("sparkline-spotradius")||1.5,M=e.css("color")||"#000000",H=e.data("fill-color")||"#c0d0f0",z=e.data("sparkline-whis-color")||"#000000",I=e.data("sparkline-outline-color")||"#303030",R=e.data("sparkline-outlinefill-color")||"#f0f0f0",N=e.data("sparkline-outlinemedian-color")||"#f00000",P=e.data("sparkline-outlinetarget-color")||"#40a020";e.sparkline("html",{type:"box",width:w,height:x,raw:C,target:T,minValue:S,maxValue:D,showOutliers:E,outlierIQR:F,spotRadius:A,boxLineColor:M,boxFillColor:H,whiskerColor:z,outlierLineColor:I,outlierFillColor:R,medianColor:N,targetColor:P})}if("bullet"==t){var O=e.data("sparkline-height")||"auto",L=e.data("sparkline-width")||2,B=e.data("sparkline-bullet-color")||"#ed1c24",j=e.data("sparkline-performance-color")||"#3030f0",W=e.data("sparkline-bulletrange-color")||["#d3dafe","#a8b6ff","#7f94ff"];e.sparkline("html",{type:"bullet",height:O,targetWidth:L,targetColor:B,performanceColor:j,rangeColors:W})}if("discrete"==t){var V=e.data("sparkline-height")||26,q=e.data("sparkline-width")||50,U=e.css("color"),G=e.data("sparkline-line-height")||5,Q=e.data("sparkline-threshold")||"undefined",Y=e.data("sparkline-threshold-color")||"#ed1c24";e.sparkline("html",{type:"discrete",width:q,height:V,lineColor:U,lineHeight:G,thresholdValue:Q,thresholdColor:Y})}if("tristate"==t){var K=e.data("sparkline-height")||26,X=(e.data("sparkline-posbar-color")||"#60f060",e.data("sparkline-negbar-color")||"#f04040"),J=e.data("sparkline-zerobar-color")||"#909090",Z=e.data("sparkline-barwidth")||5,et=e.data("sparkline-barspacing")||2,tt=e.data("sparkline-zeroaxis")||!1;e.sparkline("html",{type:"tristate",height:K,posBarColor:nt,negBarColor:X,zeroBarColor:J,barWidth:Z,barSpacing:et,zeroAxis:tt})}if("compositebar"==t){var i=e.data("sparkline-height")||"20px",l=e.data("sparkline-width")||"100%",a=e.data("sparkline-barwidth")||3,c=e.data("sparkline-line-width")||1,d=e.data("sparkline-color-top")||"#ed1c24",nt=e.data("sparkline-color-bottom")||"#333333";e.sparkline(e.data("sparkline-bar-val"),{type:"bar",width:l,height:i,barColor:nt,barWidth:a}),e.sparkline(e.data("sparkline-line-val"),{width:l,height:i,lineColor:d,lineWidth:c,composite:!0,fillColor:!1})}if("compositeline"==t){var i=e.data("sparkline-height")||"20px",l=e.data("sparkline-width")||"90px",it=e.data("sparkline-bar-val"),at=e.data("sparkline-bar-val-spots-top")||null,rt=e.data("sparkline-bar-val-spots-bottom")||null,ot=e.data("sparkline-line-width-top")||1,st=e.data("sparkline-line-width-bottom")||1,lt=e.data("sparkline-color-top")||"#333333",dt=e.data("sparkline-color-bottom")||"#ed1c24",ct=e.data("sparkline-spotradius-top")||1.5,ut=e.data("sparkline-spotradius-bottom")||ct,h=e.data("sparkline-spot-color")||"#f08000",ht=e.data("sparkline-minspot-color-top")||"#ed1c24",pt=e.data("sparkline-maxspot-color-top")||"#f08000",ft=e.data("sparkline-minspot-color-bottom")||ht,gt=e.data("sparkline-maxspot-color-bottom")||pt,mt=e.data("sparkline-highlightspot-color-top")||"#50f050",vt=e.data("sparkline-highlightline-color-top")||"#f02020",bt=e.data("sparkline-highlightspot-color-bottom")||mt,_t=e.data("sparkline-highlightline-color-bottom")||vt,yt=e.data("sparkline-fillcolor-top")||"transparent",kt=e.data("sparkline-fillcolor-bottom")||"transparent";e.sparkline(it,{type:"line",spotRadius:ct,spotColor:h,minSpotColor:ht,maxSpotColor:pt,highlightSpotColor:mt,highlightLineColor:vt,valueSpots:at,lineWidth:ot,width:l,height:i,lineColor:lt,fillColor:yt}),e.sparkline(e.data("sparkline-line-val"),{type:"line",spotRadius:ut,spotColor:h,minSpotColor:ft,maxSpotColor:gt,highlightSpotColor:bt,highlightLineColor:_t,valueSpots:rt,lineWidth:st,width:l,height:i,lineColor:dt,composite:!0,fillColor:kt})}}),$.fn.easyPieChart&&$(".easy-pie-chart").each(function(){var e=$(this),t=e.css("color")||e.data("pie-color"),n=e.data("pie-track-color")||"#eeeeee",i=parseInt(e.data("pie-size"))||25;e.easyPieChart({barColor:t,trackColor:n,scaleColor:!1,lineCap:"butt",lineWidth:parseInt(i/8.5),animate:1500,rotate:-90,size:i,onStep:function(e){this.$el.find("span").text(~~e)}})})}function setup_widgets_desktop(){$.fn.jarvisWidgets&&$.enableJarvisWidgets&&$("#widget-grid").jarvisWidgets({grid:"article",widgets:".jarviswidget",localStorage:!0,deleteSettingsKey:"#deletesettingskey-options",settingsKeyLabel:"Reset settings?",deletePositionKey:"#deletepositionkey-options",positionKeyLabel:"Reset position?",sortable:!0,buttonsHidden:!1,toggleButton:!0,toggleClass:"fa fa-minus | fa fa-plus",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteClass:"fa fa-times",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"fa fa-cog | fa fa-save",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fa fa-resize-full | fa fa-resize-small",fullscreenDiff:3,onFullscreen:function(){},customButton:!1,customClass:"folder-10 | next-10",customStart:function(){alert("Hello you, this is a custom button...")},customEnd:function(){alert("bye, till next time...")},buttonOrder:"%refresh% %custom% %edit% %toggle% %fullscreen% %delete%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"fa fa-refresh",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:$.navAsAjax})}function setup_widgets_mobile(){$.enableMobileWidgets&&$.enableJarvisWidgets&&setup_widgets_desktop()}function loadScript(e,t){if(jsArray[e])t&&t();else{jsArray[e]=!0;var n=document.getElementsByTagName("body")[0],i=document.createElement("script");i.type="text/javascript",i.src=e,i.onload=t,n.appendChild(i)}}function checkURL(){var e=location.hash.replace(/^#/,"");if(container=$("#content"),e){$("nav li.active").removeClass("active"),$('nav li:has(a[href="'+e+'"])').addClass("active");var t=$('nav a[href="'+e+'"]').attr("title");document.title=t||document.title,loadURL(e+location.search,container)}else{var n=$('nav > ul > li:first-child > a[href!="#"]');window.location.hash=n.attr("href")}}function loadURL(e,t){$.ajax({type:"GET",url:e,dataType:"html",cache:!0,beforeSend:function(){t.html('<h1><i class="fa fa-cog fa-spin"></i> Loading...</h1>'),t[0]==$("#content")[0]&&(drawBreadCrumb(),$("html").animate({scrollTop:0},"fast"))},success:function(e){t.css({opacity:"0.0"}).html(e).delay(50).animate({opacity:"1.0"},300)},error:function(){t.html('<h4 style="margin-top:10px; display:block; text-align:left"><i class="fa fa-warning txt-color-orangeDark"></i> Error 404! Page not found.</h4>')},async:!1})}function drawBreadCrumb(){var e=$("nav li.active > a"),t=e.length;$.bread_crumb.empty(),$.bread_crumb.append($("<li>Home</li>")),e.each(function(){$.bread_crumb.append($("<li></li>").html($.trim($(this).clone().children(".badge").remove().end().text()))),--t||(document.title=$.bread_crumb.find("li:last-child").text())})}function pageSetUp(){"desktop"===$.device?($("[rel=tooltip]").tooltip(),$("[rel=popover]").popover(),$("[rel=popover-hover]").popover({trigger:"hover"}),runAllCharts(),setup_widgets_desktop(),nav_page_height(),runAllForms()):($("[rel=popover]").popover(),$("[rel=popover-hover]").popover({trigger:"hover"}),runAllCharts(),setup_widgets_mobile(),nav_page_height(),runAllForms())}function FastClick(e){var t,n=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.lastTouchIdentifier=this.touchStartY=this.touchStartX=0,this.layer=e,!e||!e.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(n,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(n,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(n,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(n,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(n,arguments)},FastClick.notNeeded(e)||(this.deviceIsAndroid&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,i){var a=Node.prototype.removeEventListener;"click"===t?a.call(e,t,n.hijacked||n,i):a.call(e,t,n,i)},e.addEventListener=function(t,n,i){var a=Node.prototype.addEventListener;"click"===t?a.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):a.call(e,t,n,i)}),"function"==typeof e.onclick&&(t=e.onclick,e.addEventListener("click",function(e){t(e)},!1),e.onclick=null))}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=rt.type(e);return"function"===n||rt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(rt.isFunction(t))return rt.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return rt.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(pt.test(t))return rt.filter(t,e,n);t=rt.filter(t,e)}return rt.grep(e,function(e){return rt.inArray(e,t)>=0!==n})}function a(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function r(e){var t=kt[e]={};return rt.each(e.match(yt)||[],function(e,n){t[n]=!0}),t}function o(){gt.addEventListener?(gt.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(gt.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(gt.addEventListener||"load"===event.type||"complete"===gt.readyState)&&(o(),rt.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(St,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Tt.test(n)?rt.parseJSON(n):n}catch(a){}rt.data(e,t,n)}else n=void 0}return n}function d(e){var t;for(t in e)if(("data"!==t||!rt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,i){if(rt.acceptData(e)){var a,r,o=rt.expando,s=e.nodeType,l=s?rt.cache:e,d=s?e[o]:e[o]&&o;if(d&&l[d]&&(i||l[d].data)||void 0!==n||"string"!=typeof t)return d||(d=s?e[o]=Q.pop()||rt.guid++:o),l[d]||(l[d]=s?{}:{toJSON:rt.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[d]=rt.extend(l[d],t):l[d].data=rt.extend(l[d].data,t)),r=l[d],i||(r.data||(r.data={}),r=r.data),void 0!==n&&(r[rt.camelCase(t)]=n),"string"==typeof t?(a=r[t],null==a&&(a=r[rt.camelCase(t)])):a=r,a}}function u(e,t,n){if(rt.acceptData(e)){var i,a,r=e.nodeType,o=r?rt.cache:e,s=r?e[rt.expando]:rt.expando;if(o[s]){if(t&&(i=n?o[s]:o[s].data)){rt.isArray(t)?t=t.concat(rt.map(t,rt.camelCase)):t in i?t=[t]:(t=rt.camelCase(t),t=t in i?[t]:t.split(" ")),a=t.length;for(;a--;)delete i[t[a]];if(n?!d(i):!rt.isEmptyObject(i))return}(n||(delete o[s].data,d(o[s])))&&(r?rt.cleanData([e],!0):it.deleteExpando||o!=o.window?delete o[s]:o[s]=null)}}}function h(){return!0}function p(){return!1}function f(){try{return gt.activeElement}catch(e){}}function g(e){var t=Pt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function m(e,t){var n,i,a=0,r=typeof e.getElementsByTagName!==Ct?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ct?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],n=e.childNodes||e;null!=(i=n[a]);a++)!t||rt.nodeName(i,t)?r.push(i):rt.merge(r,m(i,t));return void 0===t||t&&rt.nodeName(e,t)?rt.merge([e],r):r}function v(e){Mt.test(e.type)&&(e.defaultChecked=e.checked)}function b(e,t){return rt.nodeName(e,"table")&&rt.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _(e){return e.type=(null!==rt.find.attr(e,"type"))+"/"+e.type,e}function y(e){var t=Qt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function k(e,t){for(var n,i=0;null!=(n=e[i]);i++)rt._data(n,"globalEval",!t||rt._data(t[i],"globalEval"))}function w(e,t){if(1===t.nodeType&&rt.hasData(e)){var n,i,a,r=rt._data(e),o=rt._data(t,r),s=r.events;if(s){delete o.handle,o.events={};for(n in s)for(i=0,a=s[n].length;a>i;i++)rt.event.add(t,n,s[n][i])}o.data&&(o.data=rt.extend({},o.data))}}function x(e,t){var n,i,a;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!it.noCloneEvent&&t[rt.expando]){a=rt._data(t);for(i in a.events)rt.removeEvent(t,i,a.handle);t.removeAttribute(rt.expando)}"script"===n&&t.text!==e.text?(_(t).text=e.text,y(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),it.html5Clone&&e.innerHTML&&!rt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Mt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function C(t,n){var i=rt(n.createElement(t)).appendTo(n.body),a=e.getDefaultComputedStyle?e.getDefaultComputedStyle(i[0]).display:rt.css(i[0],"display");return i.detach(),a}function T(e){var t=gt,n=en[e];return n||(n=C(e,t),"none"!==n&&n||(Zt=(Zt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Zt[0].contentWindow||Zt[0].contentDocument).document,t.write(),t.close(),n=C(e,t),Zt.detach()),en[e]=n),n}function S(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function D(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,a=fn.length;a--;)if(t=fn[a]+n,t in e)return t;return i}function E(e,t){for(var n,i,a,r=[],o=0,s=e.length;s>o;o++)i=e[o],i.style&&(r[o]=rt._data(i,"olddisplay"),n=i.style.display,t?(r[o]||"none"!==n||(i.style.display=""),""===i.style.display&&Ft(i)&&(r[o]=rt._data(i,"olddisplay",T(i.nodeName)))):r[o]||(a=Ft(i),(n&&"none"!==n||!a)&&rt._data(i,"olddisplay",a?n:rt.css(i,"display"))));for(o=0;s>o;o++)i=e[o],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[o]||"":"none"));return e}function F(e,t,n){var i=cn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function A(e,t,n,i,a){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===n&&(o+=rt.css(e,n+Et[r],!0,a)),i?("content"===n&&(o-=rt.css(e,"padding"+Et[r],!0,a)),"margin"!==n&&(o-=rt.css(e,"border"+Et[r]+"Width",!0,a))):(o+=rt.css(e,"padding"+Et[r],!0,a),"padding"!==n&&(o+=rt.css(e,"border"+Et[r]+"Width",!0,a)));return o}function M(e,t,n){var i=!0,a="width"===t?e.offsetWidth:e.offsetHeight,r=tn(e),o=it.boxSizing()&&"border-box"===rt.css(e,"boxSizing",!1,r);if(0>=a||null==a){if(a=nn(e,t,r),(0>a||null==a)&&(a=e.style[t]),rn.test(a))return a;i=o&&(it.boxSizingReliable()||a===e.style[t]),a=parseFloat(a)||0}return a+A(e,t,n||(o?"border":"content"),i,r)+"px"}function H(e,t,n,i,a){return new H.prototype.init(e,t,n,i,a)}function z(){return setTimeout(function(){gn=void 0}),gn=rt.now()}function I(e,t){var n,i={height:e},a=0;for(t=t?1:0;4>a;a+=2-t)n=Et[a],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function R(e,t,n){for(var i,a=(kn[t]||[]).concat(kn["*"]),r=0,o=a.length;o>r;r++)if(i=a[r].call(n,t,e))return i}function N(e,t,n){var i,a,r,o,s,l,d,c,u=this,h={},p=e.style,f=e.nodeType&&Ft(e),g=rt._data(e,"fxshow");n.queue||(s=rt._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,rt.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],d=rt.css(e,"display"),c=T(e.nodeName),"none"===d&&(d=c),"inline"===d&&"none"===rt.css(e,"float")&&(it.inlineBlockNeedsLayout&&"inline"!==c?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",it.shrinkWrapBlocks()||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],vn.exec(a)){if(delete t[i],r=r||"toggle"===a,a===(f?"hide":"show")){if("show"!==a||!g||void 0===g[i])continue;f=!0}h[i]=g&&g[i]||rt.style(e,i)}if(!rt.isEmptyObject(h)){g?"hidden"in g&&(f=g.hidden):g=rt._data(e,"fxshow",{}),r&&(g.hidden=!f),f?rt(e).show():u.done(function(){rt(e).hide()}),u.done(function(){var t;rt._removeData(e,"fxshow");for(t in h)rt.style(e,t,h[t])});for(i in h)o=R(f?g[i]:0,i,u),i in g||(g[i]=o.start,f&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}}function P(e,t){var n,i,a,r,o;for(n in e)if(i=rt.camelCase(n),a=t[i],r=e[n],rt.isArray(r)&&(a=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),o=rt.cssHooks[i],o&&"expand"in o){r=o.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=a)}else t[i]=a}function O(e,t,n){var i,a,r=0,o=yn.length,s=rt.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=gn||z(),n=Math.max(0,d.startTime+d.duration-t),i=n/d.duration||0,r=1-i,o=0,l=d.tweens.length;l>o;o++)d.tweens[o].run(r);return s.notifyWith(e,[d,r,n]),1>r&&l?n:(s.resolveWith(e,[d]),!1)},d=s.promise({elem:e,props:rt.extend({},t),opts:rt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:gn||z(),duration:n.duration,tweens:[],createTween:function(t,n){var i=rt.Tween(e,d.opts,t,n,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(i),i},stop:function(t){var n=0,i=t?d.tweens.length:0;if(a)return this;for(a=!0;i>n;n++)d.tweens[n].run(1);return t?s.resolveWith(e,[d,t]):s.rejectWith(e,[d,t]),this}}),c=d.props;for(P(c,d.opts.specialEasing);o>r;r++)if(i=yn[r].call(d,e,c,d.opts))return i;return rt.map(c,R,d),rt.isFunction(d.opts.start)&&d.opts.start.call(e,d),rt.fx.timer(rt.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function L(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,a=0,r=t.toLowerCase().match(yt)||[];if(rt.isFunction(n))for(;i=r[a++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function B(e,t,n,i){function a(s){var l;return r[s]=!0,rt.each(e[s]||[],function(e,s){var d=s(t,n,i);return"string"!=typeof d||o||r[d]?o?!(l=d):void 0:(t.dataTypes.unshift(d),a(d),!1)}),l}var r={},o=e===$n;return a(t.dataTypes[0])||!r["*"]&&a("*")}function j(e,t){var n,i,a=rt.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((a[i]?e:n||(n={}))[i]=t[i]);return n&&rt.extend(!0,e,n),e}function W(e,t,n){for(var i,a,r,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(o in s)if(s[o]&&s[o].test(a)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}i||(i=o)}r=r||i}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function V(e,t,n,i){var a,r,o,s,l,d={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)d[o.toLowerCase()]=e.converters[o];for(r=c.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(o=d[l+" "+r]||d["* "+r],!o)for(a in d)if(s=a.split(" "),s[1]===r&&(o=d[l+" "+s[0]]||d["* "+s[0]])){o===!0?o=d[a]:d[a]!==!0&&(r=s[0],c.unshift(s[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(u){return{state:"parsererror",error:o?u:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function q(e,t,n,i){var a;if(rt.isArray(t))rt.each(t,function(t,a){n||Yn.test(e)?i(e,a):q(e+"["+("object"==typeof a?t:"")+"]",a,n,i)});else if(n||"object"!==rt.type(t))i(e,t);else for(a in t)q(e+"["+a+"]",t[a],n,i)}function $(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function G(e){return rt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var Q=[],Y=Q.slice,K=Q.concat,X=Q.push,J=Q.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt="".trim,it={},at="1.11.0",rt=function(e,t){return new rt.fn.init(e,t)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,lt=/-([\da-z])/gi,dt=function(e,t){return t.toUpperCase()};rt.fn=rt.prototype={jquery:at,constructor:rt,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=rt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return rt.each(this,e,t)},map:function(e){return this.pushStack(rt.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:Q.sort,splice:Q.splice},rt.extend=rt.fn.extend=function(){var e,t,n,i,a,r,o=arguments[0]||{},s=1,l=arguments.length,d=!1;for("boolean"==typeof o&&(d=o,o=arguments[s]||{},s++),"object"==typeof o||rt.isFunction(o)||(o={}),s===l&&(o=this,s--);l>s;s++)if(null!=(a=arguments[s]))for(i in a)e=o[i],n=a[i],o!==n&&(d&&n&&(rt.isPlainObject(n)||(t=rt.isArray(n)))?(t?(t=!1,r=e&&rt.isArray(e)?e:[]):r=e&&rt.isPlainObject(e)?e:{},o[i]=rt.extend(d,r,n)):void 0!==n&&(o[i]=n));return o},rt.extend({expando:"jQuery"+(at+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===rt.type(e)},isArray:Array.isArray||function(e){return"array"===rt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==rt.type(e)||e.nodeType||rt.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(it.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&rt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(st,"ms-").replace(lt,dt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var a,r=0,o=e.length,s=n(e);if(i){if(s)for(;o>r&&(a=t.apply(e[r],i),a!==!1);r++);else for(r in e)if(a=t.apply(e[r],i),a===!1)break}else if(s)for(;o>r&&(a=t.call(e[r],r,e[r]),a!==!1);r++);else for(r in e)if(a=t.call(e[r],r,e[r]),a===!1)break;return e},trim:nt&&!nt.call("\ufeff\xa0")?function(e){return null==e?"":nt.call(e)}:function(e){return null==e?"":(e+"").replace(ot,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?rt.merge(i,"string"==typeof e?[e]:e):X.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(J)return J.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,a=e.length;n>i;)e[a++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[a++]=t[i++];return e.length=a,e},grep:function(e,t,n){for(var i,a=[],r=0,o=e.length,s=!n;o>r;r++)i=!t(e[r],r),i!==s&&a.push(e[r]);return a},map:function(e,t,i){var a,r=0,o=e.length,s=n(e),l=[];if(s)for(;o>r;r++)a=t(e[r],r,i),null!=a&&l.push(a);else for(r in e)a=t(e[r],r,i),null!=a&&l.push(a);return K.apply([],l)},guid:1,proxy:function(e,t){var n,i,a;return"string"==typeof t&&(a=e[t],t=e,e=a),rt.isFunction(e)?(n=Y.call(arguments,2),i=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},i.guid=e.guid=e.guid||rt.guid++,i):void 0},now:function(){return+new Date},support:it}),rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ct=function(e){function t(e,t,n,i){var a,r,o,s,l,d,u,f,g,m;if((t?t.ownerDocument||t:B)!==H&&M(t),t=t||H,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(I&&!i){if(a=bt.exec(e))if(o=a[1]){if(9===s){if(r=t.getElementById(o),!r||!r.parentNode)return n;if(r.id===o)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(o))&&O(t,r)&&r.id===o)return n.push(r),n}else{if(a[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((o=a[3])&&x.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(o)),n}if(x.qsa&&(!R||!R.test(e))){if(f=u=L,g=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(d=h(e),(u=t.getAttribute("id"))?f=u.replace(yt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=d.length;l--;)d[l]=f+p(d[l]);g=_t.test(e)&&c(t.parentNode)||t,m=d.join(",")}if(m)try{return Z.apply(n,g.querySelectorAll(m)),n}catch(v){}finally{u||t.removeAttribute("id")
}}}return k(e.replace(lt,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>C.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[L]=!0,e}function a(e){var t=H.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),i=e.length;i--;)C.attrHandle[n[i]]=t}function o(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Q)-(~e.sourceIndex||Q);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function d(e){return i(function(t){return t=+t,i(function(n,i){for(var a,r=e([],n.length,t),o=r.length;o--;)n[a=r[o]]&&(n[a]=!(i[a]=n[a]))})})}function c(e){return e&&typeof e.getElementsByTagName!==G&&e}function u(){}function h(e,n){var i,a,r,o,s,l,d,c=q[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],d=C.preFilter;s;){(!i||(a=dt.exec(s)))&&(a&&(s=s.slice(a[0].length)||s),l.push(r=[])),i=!1,(a=ct.exec(s))&&(i=a.shift(),r.push({value:i,type:a[0].replace(lt," ")}),s=s.slice(i.length));for(o in C.filter)!(a=ft[o].exec(s))||d[o]&&!(a=d[o](a))||(i=a.shift(),r.push({value:i,type:o,matches:a}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):q(e,l).slice(0)}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,a=n&&"parentNode"===i,r=W++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r)}:function(t,n,o){var s,l,d=[j,r];if(o){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||a){if(l=t[L]||(t[L]={}),(s=l[i])&&s[0]===j&&s[1]===r)return d[2]=s[2];if(l[i]=d,d[2]=e(t,n,o))return!0}}}function g(e){return e.length>1?function(t,n,i){for(var a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,a){for(var r,o=[],s=0,l=e.length,d=null!=t;l>s;s++)(r=e[s])&&(!n||n(r,i,a))&&(o.push(r),d&&t.push(s));return o}function v(e,t,n,a,r,o){return a&&!a[L]&&(a=v(a)),r&&!r[L]&&(r=v(r,o)),i(function(i,o,s,l){var d,c,u,h=[],p=[],f=o.length,g=i||y(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?g:m(g,h,e,s,l),b=n?r||(i?e:f||a)?[]:o:v;if(n&&n(v,b,s,l),a)for(d=m(b,p),a(d,[],s,l),c=d.length;c--;)(u=d[c])&&(b[p[c]]=!(v[p[c]]=u));if(i){if(r||e){if(r){for(d=[],c=b.length;c--;)(u=b[c])&&d.push(v[c]=u);r(null,b=[],d,l)}for(c=b.length;c--;)(u=b[c])&&(d=r?tt.call(i,u):h[c])>-1&&(i[d]=!(o[d]=u))}}else b=m(b===o?b.splice(f,b.length):b),r?r(null,o,b,l):Z.apply(o,b)})}function b(e){for(var t,n,i,a=e.length,r=C.relative[e[0].type],o=r||C.relative[" "],s=r?1:0,l=f(function(e){return e===t},o,!0),d=f(function(e){return tt.call(t,e)>-1},o,!0),c=[function(e,n,i){return!r&&(i||n!==E)||((t=n).nodeType?l(e,n,i):d(e,n,i))}];a>s;s++)if(n=C.relative[e[s].type])c=[f(g(c),n)];else{if(n=C.filter[e[s].type].apply(null,e[s].matches),n[L]){for(i=++s;a>i&&!C.relative[e[i].type];i++);return v(s>1&&g(c),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(lt,"$1"),n,i>s&&b(e.slice(s,i)),a>i&&b(e=e.slice(i)),a>i&&p(e))}c.push(n)}return g(c)}function _(e,n){var a=n.length>0,r=e.length>0,o=function(i,o,s,l,d){var c,u,h,p=0,f="0",g=i&&[],v=[],b=E,_=i||r&&C.find.TAG("*",d),y=j+=null==b?1:Math.random()||.1,k=_.length;for(d&&(E=o!==H&&o);f!==k&&null!=(c=_[f]);f++){if(r&&c){for(u=0;h=e[u++];)if(h(c,o,s)){l.push(c);break}d&&(j=y)}a&&((c=!h&&c)&&p--,i&&g.push(c))}if(p+=f,a&&f!==p){for(u=0;h=n[u++];)h(g,v,o,s);if(i){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=X.call(l));v=m(v)}Z.apply(l,v),d&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return d&&(j=y,E=b),g};return a?i(o):o}function y(e,n,i){for(var a=0,r=n.length;r>a;a++)t(e,n[a],i);return i}function k(e,t,n,i){var a,r,o,s,l,d=h(e);if(!i&&1===d.length){if(r=d[0]=d[0].slice(0),r.length>2&&"ID"===(o=r[0]).type&&x.getById&&9===t.nodeType&&I&&C.relative[r[1].type]){if(t=(C.find.ID(o.matches[0].replace(kt,wt),t)||[])[0],!t)return n;e=e.slice(r.shift().value.length)}for(a=ft.needsContext.test(e)?0:r.length;a--&&(o=r[a],!C.relative[s=o.type]);)if((l=C.find[s])&&(i=l(o.matches[0].replace(kt,wt),_t.test(r[0].type)&&c(t.parentNode)||t))){if(r.splice(a,1),e=i.length&&p(r),!e)return Z.apply(n,i),n;break}}return D(e,d)(i,t,!I,n,_t.test(e)&&c(t.parentNode)||t),n}var w,x,C,T,S,D,E,F,A,M,H,z,I,R,N,P,O,L="sizzle"+-new Date,B=e.document,j=0,W=0,V=n(),q=n(),$=n(),U=function(e,t){return e===t&&(A=!0),0},G="undefined",Q=1<<31,Y={}.hasOwnProperty,K=[],X=K.pop,J=K.push,Z=K.push,et=K.slice,tt=K.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",at="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=at.replace("w","w#"),ot="\\["+it+"*("+at+")"+it+"*(?:([*^$|!~]?=)"+it+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+rt+")|)|)"+it+"*\\]",st=":("+at+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ot.replace(3,8)+")*)|.*)\\)|)",lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),dt=new RegExp("^"+it+"*,"+it+"*"),ct=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ut=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=new RegExp(st),pt=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+at+")"),CLASS:new RegExp("^\\.("+at+")"),TAG:new RegExp("^("+at.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_t=/[+~]/,yt=/'|\\/g,kt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),wt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Z.apply(K=et.call(B.childNodes),B.childNodes),K[B.childNodes.length].nodeType}catch(xt){Z={apply:K.length?function(e,t){J.apply(e,et.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},M=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:B,i=n.defaultView;return n!==H&&9===n.nodeType&&n.documentElement?(H=n,z=n.documentElement,I=!S(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){M()},!1):i.attachEvent&&i.attachEvent("onunload",function(){M()})),x.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=a(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(n.getElementsByClassName)&&a(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),x.getById=a(function(e){return z.appendChild(e).id=L,!n.getElementsByName||!n.getElementsByName(L).length}),x.getById?(C.find.ID=function(e,t){if(typeof t.getElementById!==G&&I){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(kt,wt);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(kt,wt);return function(e){var n=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=x.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==G?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],a=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[a++];)1===n.nodeType&&i.push(n);return i}return r},C.find.CLASS=x.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==G&&I?t.getElementsByClassName(e):void 0},N=[],R=[],(x.qsa=vt.test(n.querySelectorAll))&&(a(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&R.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+it+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||R.push(":checked")}),a(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(x.matchesSelector=vt.test(P=z.webkitMatchesSelector||z.mozMatchesSelector||z.oMatchesSelector||z.msMatchesSelector))&&a(function(e){x.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),N.push("!=",st)}),R=R.length&&new RegExp(R.join("|")),N=N.length&&new RegExp(N.join("|")),t=vt.test(z.compareDocumentPosition),O=t||vt.test(z.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return A=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===B&&O(B,e)?-1:t===n||t.ownerDocument===B&&O(B,t)?1:F?tt.call(F,e)-tt.call(F,t):0:4&i?-1:1)}:function(e,t){if(e===t)return A=!0,0;var i,a=0,r=e.parentNode,s=t.parentNode,l=[e],d=[t];if(!r||!s)return e===n?-1:t===n?1:r?-1:s?1:F?tt.call(F,e)-tt.call(F,t):0;if(r===s)return o(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)d.unshift(i);for(;l[a]===d[a];)a++;return a?o(l[a],d[a]):l[a]===B?-1:d[a]===B?1:0},n):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&M(e),n=n.replace(ut,"='$1']"),!(!x.matchesSelector||!I||N&&N.test(n)||R&&R.test(n)))try{var i=P.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(a){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&M(e),O(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&M(e);var n=C.attrHandle[t.toLowerCase()],i=n&&Y.call(C.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==i?i:x.attributes||!I?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,a=0;if(A=!x.detectDuplicates,F=!x.sortStable&&e.slice(0),e.sort(U),A){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return F=null,e},T=t.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i++];)n+=T(t);return n},C=t.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(kt,wt),e[3]=(e[4]||e[5]||"").replace(kt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&ht.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(kt,wt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(a){var r=t.attr(a,e);return null==r?"!="===n:n?(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r+" ").indexOf(i)>-1:"|="===n?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,a){var r="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===a?function(e){return!!e.parentNode}:function(t,n,l){var d,c,u,h,p,f,g=r!==o?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(m){if(r){for(;g;){for(u=t;u=u[g];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&b){for(c=m[L]||(m[L]={}),d=c[e]||[],p=d[0]===j&&d[1],h=d[0]===j&&d[2],u=p&&m.childNodes[p];u=++p&&u&&u[g]||(h=p=0)||f.pop();)if(1===u.nodeType&&++h&&u===t){c[e]=[j,p,h];break}}else if(b&&(d=(t[L]||(t[L]={}))[e])&&d[0]===j)h=d[1];else for(;(u=++p&&u&&u[g]||(h=p=0)||f.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++h||(b&&((u[L]||(u[L]={}))[e]=[j,h]),u!==t)););return h-=a,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var a,r=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[L]?r(n):r.length>1?(a=[e,e,"",n],C.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,a=r(e,n),o=a.length;o--;)i=tt.call(e,a[o]),e[i]=!(t[i]=a[o])}):function(e){return r(e,0,a)}):r}},pseudos:{not:i(function(e){var t=[],n=[],a=D(e.replace(lt,"$1"));return a[L]?i(function(e,t,n,i){for(var r,o=a(e,null,i,[]),s=e.length;s--;)(r=o[s])&&(e[s]=!(t[s]=r))}):function(e,i,r){return t[0]=e,a(t,null,r,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:i(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(kt,wt).toLowerCase(),function(t){var n;do if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===z},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,n){return[0>n?n+t:n]}),even:d(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:d(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:d(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:d(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return u.prototype=C.filters=C.pseudos,C.setFilters=new u,D=t.compile=function(e,t){var n,i=[],a=[],r=$[e+" "];if(!r){for(t||(t=h(e)),n=t.length;n--;)r=b(t[n]),r[L]?i.push(r):a.push(r);r=$(e,_(a,i))}return r},x.sortStable=L.split("").sort(U).join("")===L,x.detectDuplicates=!!A,M(),x.sortDetached=a(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||r(nt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);rt.find=ct,rt.expr=ct.selectors,rt.expr[":"]=rt.expr.pseudos,rt.unique=ct.uniqueSort,rt.text=ct.getText,rt.isXMLDoc=ct.isXML,rt.contains=ct.contains;var ut=rt.expr.match.needsContext,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pt=/^.[^:#\[\.,]*$/;rt.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?rt.find.matchesSelector(i,e)?[i]:[]:rt.find.matches(e,rt.grep(t,function(e){return 1===e.nodeType}))},rt.fn.extend({find:function(e){var t,n=[],i=this,a=i.length;if("string"!=typeof e)return this.pushStack(rt(e).filter(function(){for(t=0;a>t;t++)if(rt.contains(i[t],this))return!0}));for(t=0;a>t;t++)rt.find(e,i[t],n);return n=this.pushStack(a>1?rt.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&ut.test(e)?rt(e):e||[],!1).length}});var ft,gt=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,vt=rt.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ft).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof rt?t[0]:t,rt.merge(this,rt.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:gt,!0)),ht.test(n[1])&&rt.isPlainObject(t))for(n in t)rt.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=gt.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return ft.find(e);this.length=1,this[0]=i}return this.context=gt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):rt.isFunction(e)?"undefined"!=typeof ft.ready?ft.ready(e):e(rt):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),rt.makeArray(e,this))};vt.prototype=rt.fn,ft=rt(gt);var bt=/^(?:parents|prev(?:Until|All))/,_t={children:!0,contents:!0,next:!0,prev:!0};rt.extend({dir:function(e,t,n){for(var i=[],a=e[t];a&&9!==a.nodeType&&(void 0===n||1!==a.nodeType||!rt(a).is(n));)1===a.nodeType&&i.push(a),a=a[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),rt.fn.extend({has:function(e){var t,n=rt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(rt.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,a=this.length,r=[],o=ut.test(e)||"string"!=typeof e?rt(e,t||this.context):0;a>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&rt.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?rt.unique(r):r)},index:function(e){return e?"string"==typeof e?rt.inArray(this[0],rt(e)):rt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(rt.unique(rt.merge(this.get(),rt(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),rt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return rt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return rt.dir(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return rt.dir(e,"nextSibling")},prevAll:function(e){return rt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return rt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return rt.dir(e,"previousSibling",n)},siblings:function(e){return rt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return rt.sibling(e.firstChild)},contents:function(e){return rt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:rt.merge([],e.childNodes)}},function(e,t){rt.fn[e]=function(n,i){var a=rt.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(a=rt.filter(i,a)),this.length>1&&(_t[e]||(a=rt.unique(a)),bt.test(e)&&(a=a.reverse())),this.pushStack(a)}});var yt=/\S+/g,kt={};rt.Callbacks=function(e){e="string"==typeof e?kt[e]||r(e):rt.extend({},e);var t,n,i,a,o,s,l=[],d=!e.once&&[],c=function(r){for(n=e.memory&&r,i=!0,o=s||0,s=0,a=l.length,t=!0;l&&a>o;o++)if(l[o].apply(r[0],r[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(d?d.length&&c(d.shift()):n?l=[]:u.disable())},u={add:function(){if(l){var i=l.length;!function r(t){rt.each(t,function(t,n){var i=rt.type(n);"function"===i?e.unique&&u.has(n)||l.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),t?a=l.length:n&&(s=i,c(n))}return this},remove:function(){return l&&rt.each(arguments,function(e,n){for(var i;(i=rt.inArray(n,l,i))>-1;)l.splice(i,1),t&&(a>=i&&a--,o>=i&&o--)}),this},has:function(e){return e?rt.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=d=n=void 0,this},disabled:function(){return!l},lock:function(){return d=void 0,n||u.disable(),this},locked:function(){return!d},fireWith:function(e,n){return!l||i&&!d||(n=n||[],n=[e,n.slice?n.slice():n],t?d.push(n):c(n)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},rt.extend({Deferred:function(e){var t=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return rt.Deferred(function(n){rt.each(t,function(t,r){var o=rt.isFunction(e[t])&&e[t];a[r[1]](function(){var e=o&&o.apply(this,arguments);e&&rt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?rt.extend(e,i):i}},a={};return i.pipe=i.then,rt.each(t,function(e,r){var o=r[2],s=r[3];i[r[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),a[r[0]]=function(){return a[r[0]+"With"](this===a?i:this,arguments),this},a[r[0]+"With"]=o.fireWith}),i.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,i,a=0,r=Y.call(arguments),o=r.length,s=1!==o||e&&rt.isFunction(e.promise)?o:0,l=1===s?e:rt.Deferred(),d=function(e,n,i){return function(a){n[e]=this,i[e]=arguments.length>1?Y.call(arguments):a,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(o>1)for(t=new Array(o),n=new Array(o),i=new Array(o);o>a;a++)r[a]&&rt.isFunction(r[a].promise)?r[a].promise().done(d(a,i,r)).fail(l.reject).progress(d(a,n,t)):--s;return s||l.resolveWith(i,r),l.promise()}});var wt;rt.fn.ready=function(e){return rt.ready.promise().done(e),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(e){e?rt.readyWait++:rt.ready(!0)},ready:function(e){if(e===!0?!--rt.readyWait:!rt.isReady){if(!gt.body)return setTimeout(rt.ready);rt.isReady=!0,e!==!0&&--rt.readyWait>0||(wt.resolveWith(gt,[rt]),rt.fn.trigger&&rt(gt).trigger("ready").off("ready"))}}}),rt.ready.promise=function(t){if(!wt)if(wt=rt.Deferred(),"complete"===gt.readyState)setTimeout(rt.ready);else if(gt.addEventListener)gt.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{gt.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&gt.documentElement}catch(i){}n&&n.doScroll&&!function a(){if(!rt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(a,50)}o(),rt.ready()}}()}return wt.promise(t)};var xt,Ct="undefined";for(xt in rt(it))break;it.ownLast="0"!==xt,it.inlineBlockNeedsLayout=!1,rt(function(){var e,t,n=gt.getElementsByTagName("body")[0];n&&(e=gt.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t=gt.createElement("div"),n.appendChild(e).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(it.inlineBlockNeedsLayout=3===t.offsetWidth)&&(n.style.zoom=1)),n.removeChild(e),e=t=null)}),function(){var e=gt.createElement("div");if(null==it.deleteExpando){it.deleteExpando=!0;try{delete e.test}catch(t){it.deleteExpando=!1}}e=null}(),rt.acceptData=function(e){var t=rt.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,St=/([A-Z])/g;rt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?rt.cache[e[rt.expando]]:e[rt.expando],!!e&&!d(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return u(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return u(e,t,!0)}}),rt.fn.extend({data:function(e,t){var n,i,a,r=this[0],o=r&&r.attributes;if(void 0===e){if(this.length&&(a=rt.data(r),1===r.nodeType&&!rt._data(r,"parsedAttrs"))){for(n=o.length;n--;)i=o[n].name,0===i.indexOf("data-")&&(i=rt.camelCase(i.slice(5)),l(r,i,a[i]));rt._data(r,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){rt.data(this,e)}):arguments.length>1?this.each(function(){rt.data(this,e,t)}):r?l(r,e,rt.data(r,e)):void 0},removeData:function(e){return this.each(function(){rt.removeData(this,e)})}}),rt.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=rt._data(e,t),n&&(!i||rt.isArray(n)?i=rt._data(e,t,rt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=rt.queue(e,t),i=n.length,a=n.shift(),r=rt._queueHooks(e,t),o=function(){rt.dequeue(e,t)};"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===t&&n.unshift("inprogress"),delete r.stop,a.call(e,o,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return rt._data(e,n)||rt._data(e,n,{empty:rt.Callbacks("once memory").add(function(){rt._removeData(e,t+"queue"),rt._removeData(e,n)})})}}),rt.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?rt.queue(this[0],e):void 0===t?this:this.each(function(){var n=rt.queue(this,e,t);rt._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&rt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){rt.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,a=rt.Deferred(),r=this,o=this.length,s=function(){--i||a.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)n=rt._data(r[o],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),a.promise(t)}});var Dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Et=["Top","Right","Bottom","Left"],Ft=function(e,t){return e=t||e,"none"===rt.css(e,"display")||!rt.contains(e.ownerDocument,e)},At=rt.access=function(e,t,n,i,a,r,o){var s=0,l=e.length,d=null==n;if("object"===rt.type(n)){a=!0;for(s in n)rt.access(e,t,s,n[s],!0,r,o)}else if(void 0!==i&&(a=!0,rt.isFunction(i)||(o=!0),d&&(o?(t.call(e,i),t=null):(d=t,t=function(e,t,n){return d.call(rt(e),n)})),t))for(;l>s;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return a?e:d?t.call(e):l?t(e[0],n):r},Mt=/^(?:checkbox|radio)$/i;!function(){var e=gt.createDocumentFragment(),t=gt.createElement("div"),n=gt.createElement("input");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a>",it.leadingWhitespace=3===t.firstChild.nodeType,it.tbody=!t.getElementsByTagName("tbody").length,it.htmlSerialize=!!t.getElementsByTagName("link").length,it.html5Clone="<:nav></:nav>"!==gt.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),it.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",it.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,it.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){it.noCloneEvent=!1}),t.cloneNode(!0).click()),null==it.deleteExpando){it.deleteExpando=!0;try{delete t.test}catch(i){it.deleteExpando=!1}}e=t=n=null}(),function(){var t,n,i=gt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(it[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),it[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Ht=/^(?:input|select|textarea)$/i,zt=/^key/,It=/^(?:mouse|contextmenu)|click/,Rt=/^(?:focusinfocus|focusoutblur)$/,Nt=/^([^.]*)(?:\.(.+)|)$/;rt.event={global:{},add:function(e,t,n,i,a){var r,o,s,l,d,c,u,h,p,f,g,m=rt._data(e);if(m){for(n.handler&&(l=n,n=l.handler,a=l.selector),n.guid||(n.guid=rt.guid++),(o=m.events)||(o=m.events={}),(c=m.handle)||(c=m.handle=function(e){return typeof rt===Ct||e&&rt.event.triggered===e.type?void 0:rt.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(yt)||[""],s=t.length;s--;)r=Nt.exec(t[s])||[],p=g=r[1],f=(r[2]||"").split(".").sort(),p&&(d=rt.event.special[p]||{},p=(a?d.delegateType:d.bindType)||p,d=rt.event.special[p]||{},u=rt.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:a,needsContext:a&&rt.expr.match.needsContext.test(a),namespace:f.join(".")},l),(h=o[p])||(h=o[p]=[],h.delegateCount=0,d.setup&&d.setup.call(e,i,f,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),a?h.splice(h.delegateCount++,0,u):h.push(u),rt.event.global[p]=!0);e=null}},remove:function(e,t,n,i,a){var r,o,s,l,d,c,u,h,p,f,g,m=rt.hasData(e)&&rt._data(e);if(m&&(c=m.events)){for(t=(t||"").match(yt)||[""],d=t.length;d--;)if(s=Nt.exec(t[d])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p){for(u=rt.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,h=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)o=h[r],!a&&g!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||i&&i!==o.selector&&("**"!==i||!o.selector)||(h.splice(r,1),o.selector&&h.delegateCount--,u.remove&&u.remove.call(e,o));l&&!h.length&&(u.teardown&&u.teardown.call(e,f,m.handle)!==!1||rt.removeEvent(e,p,m.handle),delete c[p])}else for(p in c)rt.event.remove(e,p+t[d],n,i,!0);rt.isEmptyObject(c)&&(delete m.handle,rt._removeData(e,"events"))}},trigger:function(t,n,i,a){var r,o,s,l,d,c,u,h=[i||gt],p=tt.call(t,"type")?t.type:t,f=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=c=i=i||gt,3!==i.nodeType&&8!==i.nodeType&&!Rt.test(p+rt.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),o=p.indexOf(":")<0&&"on"+p,t=t[rt.expando]?t:new rt.Event(p,"object"==typeof t&&t),t.isTrigger=a?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:rt.makeArray(n,[t]),d=rt.event.special[p]||{},a||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!a&&!d.noBubble&&!rt.isWindow(i)){for(l=d.delegateType||p,Rt.test(l+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),c=s;c===(i.ownerDocument||gt)&&h.push(c.defaultView||c.parentWindow||e)}for(u=0;(s=h[u++])&&!t.isPropagationStopped();)t.type=u>1?l:d.bindType||p,r=(rt._data(s,"events")||{})[t.type]&&rt._data(s,"handle"),r&&r.apply(s,n),r=o&&s[o],r&&r.apply&&rt.acceptData(s)&&(t.result=r.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!a&&!t.isDefaultPrevented()&&(!d._default||d._default.apply(h.pop(),n)===!1)&&rt.acceptData(i)&&o&&i[p]&&!rt.isWindow(i)){c=i[o],c&&(i[o]=null),rt.event.triggered=p;try{i[p]()}catch(g){}rt.event.triggered=void 0,c&&(i[o]=c)}return t.result}},dispatch:function(e){e=rt.event.fix(e);var t,n,i,a,r,o=[],s=Y.call(arguments),l=(rt._data(this,"events")||{})[e.type]||[],d=rt.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(o=rt.event.handlers.call(this,e,l),t=0;(a=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,r=0;(i=a.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((rt.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));
return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,a,r,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(a=[],r=0;s>r;r++)i=t[r],n=i.selector+" ",void 0===a[n]&&(a[n]=i.needsContext?rt(n,this).index(l)>=0:rt.find(n,this,null,[l]).length),a[n]&&a.push(i);a.length&&o.push({elem:l,handlers:a})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},fix:function(e){if(e[rt.expando])return e;var t,n,i,a=e.type,r=e,o=this.fixHooks[a];for(o||(this.fixHooks[a]=o=It.test(a)?this.mouseHooks:zt.test(a)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new rt.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=r.srcElement||gt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,a,r=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||gt,a=i.documentElement,n=i.body,e.pageX=t.clientX+(a&&a.scrollLeft||n&&n.scrollLeft||0)-(a&&a.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||n&&n.scrollTop||0)-(a&&a.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return rt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return rt.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var a=rt.extend(new rt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?rt.event.trigger(a,null,t):rt.event.dispatch.call(t,a),a.isDefaultPrevented()&&n.preventDefault()}},rt.removeEvent=gt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Ct&&(e[i]=null),e.detachEvent(i,n))},rt.Event=function(e,t){return this instanceof rt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())?h:p):this.type=e,t&&rt.extend(this,t),this.timeStamp=e&&e.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(e,t)},rt.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=h,this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){rt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,a=e.relatedTarget,r=e.handleObj;return(!a||a!==i&&!rt.contains(i,a))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),it.submitBubbles||(rt.event.special.submit={setup:function(){return rt.nodeName(this,"form")?!1:void rt.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=rt.nodeName(t,"input")||rt.nodeName(t,"button")?t.form:void 0;n&&!rt._data(n,"submitBubbles")&&(rt.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),rt._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&rt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return rt.nodeName(this,"form")?!1:void rt.event.remove(this,"._submit")}}),it.changeBubbles||(rt.event.special.change={setup:function(){return Ht.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(rt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),rt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),rt.event.simulate("change",this,e,!0)})),!1):void rt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ht.test(t.nodeName)&&!rt._data(t,"changeBubbles")&&(rt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||rt.event.simulate("change",this.parentNode,e,!0)}),rt._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return rt.event.remove(this,"._change"),!Ht.test(this.nodeName)}}),it.focusinBubbles||rt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){rt.event.simulate(t,e.target,rt.event.fix(e),!0)};rt.event.special[t]={setup:function(){var i=this.ownerDocument||this,a=rt._data(i,t);a||i.addEventListener(e,n,!0),rt._data(i,t,(a||0)+1)},teardown:function(){var i=this.ownerDocument||this,a=rt._data(i,t)-1;a?rt._data(i,t,a):(i.removeEventListener(e,n,!0),rt._removeData(i,t))}}}),rt.fn.extend({on:function(e,t,n,i,a){var r,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(r in e)this.on(r,t,n,e[r],a);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=p;else if(!i)return this;return 1===a&&(o=i,i=function(e){return rt().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=rt.guid++)),this.each(function(){rt.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,rt(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){rt.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){rt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?rt.event.trigger(e,t,n,!0):void 0}});var Pt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ot=/ jQuery\d+="(?:null|\d+)"/g,Lt=new RegExp("<(?:"+Pt+")[\\s/>]","i"),Bt=/^\s+/,jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wt=/<([\w:]+)/,Vt=/<tbody/i,qt=/<|&#?\w+;/,$t=/<(?:script|style|link)/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,Gt=/^$|\/(?:java|ecma)script/i,Qt=/^true\/(.*)/,Yt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Kt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:it.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Xt=g(gt),Jt=Xt.appendChild(gt.createElement("div"));Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td,rt.extend({clone:function(e,t,n){var i,a,r,o,s,l=rt.contains(e.ownerDocument,e);if(it.html5Clone||rt.isXMLDoc(e)||!Lt.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Jt.innerHTML=e.outerHTML,Jt.removeChild(r=Jt.firstChild)),!(it.noCloneEvent&&it.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||rt.isXMLDoc(e)))for(i=m(r),s=m(e),o=0;null!=(a=s[o]);++o)i[o]&&x(a,i[o]);if(t)if(n)for(s=s||m(e),i=i||m(r),o=0;null!=(a=s[o]);o++)w(a,i[o]);else w(e,r);return i=m(r,"script"),i.length>0&&k(i,!l&&m(e,"script")),i=s=a=null,r},buildFragment:function(e,t,n,i){for(var a,r,o,s,l,d,c,u=e.length,h=g(t),p=[],f=0;u>f;f++)if(r=e[f],r||0===r)if("object"===rt.type(r))rt.merge(p,r.nodeType?[r]:r);else if(qt.test(r)){for(s=s||h.appendChild(t.createElement("div")),l=(Wt.exec(r)||["",""])[1].toLowerCase(),c=Kt[l]||Kt._default,s.innerHTML=c[1]+r.replace(jt,"<$1></$2>")+c[2],a=c[0];a--;)s=s.lastChild;if(!it.leadingWhitespace&&Bt.test(r)&&p.push(t.createTextNode(Bt.exec(r)[0])),!it.tbody)for(r="table"!==l||Vt.test(r)?"<table>"!==c[1]||Vt.test(r)?0:s:s.firstChild,a=r&&r.childNodes.length;a--;)rt.nodeName(d=r.childNodes[a],"tbody")&&!d.childNodes.length&&r.removeChild(d);for(rt.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else p.push(t.createTextNode(r));for(s&&h.removeChild(s),it.appendChecked||rt.grep(m(p,"input"),v),f=0;r=p[f++];)if((!i||-1===rt.inArray(r,i))&&(o=rt.contains(r.ownerDocument,r),s=m(h.appendChild(r),"script"),o&&k(s),n))for(a=0;r=s[a++];)Gt.test(r.type||"")&&n.push(r);return s=null,h},cleanData:function(e,t){for(var n,i,a,r,o=0,s=rt.expando,l=rt.cache,d=it.deleteExpando,c=rt.event.special;null!=(n=e[o]);o++)if((t||rt.acceptData(n))&&(a=n[s],r=a&&l[a])){if(r.events)for(i in r.events)c[i]?rt.event.remove(n,i):rt.removeEvent(n,i,r.handle);l[a]&&(delete l[a],d?delete n[s]:typeof n.removeAttribute!==Ct?n.removeAttribute(s):n[s]=null,Q.push(a))}}}),rt.fn.extend({text:function(e){return At(this,function(e){return void 0===e?rt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||gt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?rt.filter(e,this):this,a=0;null!=(n=i[a]);a++)t||1!==n.nodeType||rt.cleanData(m(n)),n.parentNode&&(t&&rt.contains(n.ownerDocument,n)&&k(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&rt.cleanData(m(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&rt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return rt.clone(this,e,t)})},html:function(e){return At(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ot,""):void 0;if(!("string"!=typeof e||$t.test(e)||!it.htmlSerialize&&Lt.test(e)||!it.leadingWhitespace&&Bt.test(e)||Kt[(Wt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(jt,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(rt.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(a){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,rt.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=K.apply([],e);var n,i,a,r,o,s,l=0,d=this.length,c=this,u=d-1,h=e[0],p=rt.isFunction(h);if(p||d>1&&"string"==typeof h&&!it.checkClone&&Ut.test(h))return this.each(function(n){var i=c.eq(n);p&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(d&&(s=rt.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(r=rt.map(m(s,"script"),_),a=r.length;d>l;l++)i=s,l!==u&&(i=rt.clone(i,!0,!0),a&&rt.merge(r,m(i,"script"))),t.call(this[l],i,l);if(a)for(o=r[r.length-1].ownerDocument,rt.map(r,y),l=0;a>l;l++)i=r[l],Gt.test(i.type||"")&&!rt._data(i,"globalEval")&&rt.contains(o,i)&&(i.src?rt._evalUrl&&rt._evalUrl(i.src):rt.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Yt,"")));s=n=null}return this}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){rt.fn[e]=function(e){for(var n,i=0,a=[],r=rt(e),o=r.length-1;o>=i;i++)n=i===o?this:this.clone(!0),rt(r[i])[t](n),X.apply(a,n.get());return this.pushStack(a)}});var Zt,en={};!function(){var e,t,n=gt.createElement("div"),i="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",it.opacity=/^0.5/.test(e.style.opacity),it.cssFloat=!!e.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===n.style.backgroundClip,e=n=null,it.shrinkWrapBlocks=function(){var e,n,a,r;if(null==t){if(e=gt.getElementsByTagName("body")[0],!e)return;r="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",n=gt.createElement("div"),a=gt.createElement("div"),e.appendChild(n).appendChild(a),t=!1,typeof a.style.zoom!==Ct&&(a.style.cssText=i+";width:1px;padding:1px;zoom:1",a.innerHTML="<div></div>",a.firstChild.style.width="5px",t=3!==a.offsetWidth),e.removeChild(n),e=n=a=null}return t}}();var tn,nn,an=/^margin/,rn=new RegExp("^("+Dt+")(?!px)[a-z%]+$","i"),on=/^(top|right|bottom|left)$/;e.getComputedStyle?(tn=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},nn=function(e,t,n){var i,a,r,o,s=e.style;return n=n||tn(e),o=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==o||rt.contains(e.ownerDocument,e)||(o=rt.style(e,t)),rn.test(o)&&an.test(t)&&(i=s.width,a=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=a,s.maxWidth=r)),void 0===o?o:o+""}):gt.documentElement.currentStyle&&(tn=function(e){return e.currentStyle},nn=function(e,t,n){var i,a,r,o,s=e.style;return n=n||tn(e),o=n?n[t]:void 0,null==o&&s&&s[t]&&(o=s[t]),rn.test(o)&&!on.test(t)&&(i=s.left,a=e.runtimeStyle,r=a&&a.left,r&&(a.left=e.currentStyle.left),s.left="fontSize"===t?"1em":o,o=s.pixelLeft+"px",s.left=i,r&&(a.left=r)),void 0===o?o:o+""||"auto"}),function(){function t(){var t,n,i=gt.getElementsByTagName("body")[0];i&&(t=gt.createElement("div"),n=gt.createElement("div"),t.style.cssText=d,i.appendChild(t).appendChild(n),n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",rt.swap(i,null!=i.style.zoom?{zoom:1}:{},function(){a=4===n.offsetWidth}),r=!0,o=!1,s=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(n,null)||{}).top,r="4px"===(e.getComputedStyle(n,null)||{width:"4px"}).width),i.removeChild(t),n=i=null)}var n,i,a,r,o,s,l=gt.createElement("div"),d="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=l.getElementsByTagName("a")[0],n.style.cssText="float:left;opacity:.5",it.opacity=/^0.5/.test(n.style.opacity),it.cssFloat=!!n.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===l.style.backgroundClip,n=l=null,rt.extend(it,{reliableHiddenOffsets:function(){if(null!=i)return i;var e,t,n,a=gt.createElement("div"),r=gt.getElementsByTagName("body")[0];if(r)return a.setAttribute("className","t"),a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=gt.createElement("div"),e.style.cssText=d,r.appendChild(e).appendChild(a),a.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=a.getElementsByTagName("td"),t[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===t[0].offsetHeight,t[0].style.display="",t[1].style.display="none",i=n&&0===t[0].offsetHeight,r.removeChild(e),a=r=null,i},boxSizing:function(){return null==a&&t(),a},boxSizingReliable:function(){return null==r&&t(),r},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){var t,n,i,a;if(null==s&&e.getComputedStyle){if(t=gt.getElementsByTagName("body")[0],!t)return;n=gt.createElement("div"),i=gt.createElement("div"),n.style.cssText=d,t.appendChild(n).appendChild(i),a=i.appendChild(gt.createElement("div")),a.style.cssText=i.style.cssText=c,a.style.marginRight=a.style.width="0",i.style.width="1px",s=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight),t.removeChild(n)}return s}})}(),rt.swap=function(e,t,n,i){var a,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];a=n.apply(e,i||[]);for(r in t)e.style[r]=o[r];return a};var sn=/alpha\([^)]*\)/i,ln=/opacity\s*=\s*([^)]*)/,dn=/^(none|table(?!-c[ea]).+)/,cn=new RegExp("^("+Dt+")(.*)$","i"),un=new RegExp("^([+-])=("+Dt+")","i"),hn={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:0,fontWeight:400},fn=["Webkit","O","Moz","ms"];rt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":it.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,o,s=rt.camelCase(t),l=e.style;if(t=rt.cssProps[s]||(rt.cssProps[s]=D(l,s)),o=rt.cssHooks[t]||rt.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(a=o.get(e,!1,i))?a:l[t];if(r=typeof n,"string"===r&&(a=un.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat(rt.css(e,t)),r="number"),null!=n&&n===n&&("number"!==r||rt.cssNumber[s]||(n+="px"),it.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(o&&"set"in o&&void 0===(n=o.set(e,n,i)))))try{l[t]="",l[t]=n}catch(d){}}},css:function(e,t,n,i){var a,r,o,s=rt.camelCase(t);return t=rt.cssProps[s]||(rt.cssProps[s]=D(e.style,s)),o=rt.cssHooks[t]||rt.cssHooks[s],o&&"get"in o&&(r=o.get(e,!0,n)),void 0===r&&(r=nn(e,t,i)),"normal"===r&&t in pn&&(r=pn[t]),""===n||n?(a=parseFloat(r),n===!0||rt.isNumeric(a)?a||0:r):r}}),rt.each(["height","width"],function(e,t){rt.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&dn.test(rt.css(e,"display"))?rt.swap(e,hn,function(){return M(e,t,i)}):M(e,t,i):void 0},set:function(e,n,i){var a=i&&tn(e);return F(e,n,i?A(e,t,i,it.boxSizing()&&"border-box"===rt.css(e,"boxSizing",!1,a),a):0)}}}),it.opacity||(rt.cssHooks.opacity={get:function(e,t){return ln.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,a=rt.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===rt.trim(r.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=sn.test(r)?r.replace(sn,a):r+" "+a)}}),rt.cssHooks.marginRight=S(it.reliableMarginRight,function(e,t){return t?rt.swap(e,{display:"inline-block"},nn,[e,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(e,t){rt.cssHooks[e+t]={expand:function(n){for(var i=0,a={},r="string"==typeof n?n.split(" "):[n];4>i;i++)a[e+Et[i]+t]=r[i]||r[i-2]||r[0];return a}},an.test(e)||(rt.cssHooks[e+t].set=F)}),rt.fn.extend({css:function(e,t){return At(this,function(e,t,n){var i,a,r={},o=0;if(rt.isArray(t)){for(i=tn(e),a=t.length;a>o;o++)r[t[o]]=rt.css(e,t[o],!1,i);return r}return void 0!==n?rt.style(e,t,n):rt.css(e,t)},e,t,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ft(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=H,H.prototype={constructor:H,init:function(e,t,n,i,a,r){this.elem=e,this.prop=n,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(rt.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?rt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=rt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){rt.fx.step[e.prop]?rt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[rt.cssProps[e.prop]]||rt.cssHooks[e.prop])?rt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},rt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},rt.fx=H.prototype.init,rt.fx.step={};var gn,mn,vn=/^(?:toggle|show|hide)$/,bn=new RegExp("^(?:([+-])=|)("+Dt+")([a-z%]*)$","i"),_n=/queueHooks$/,yn=[N],kn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),a=bn.exec(t),r=a&&a[3]||(rt.cssNumber[e]?"":"px"),o=(rt.cssNumber[e]||"px"!==r&&+i)&&bn.exec(rt.css(n.elem,e)),s=1,l=20;if(o&&o[3]!==r){r=r||o[3],a=a||[],o=+i||1;do s=s||".5",o/=s,rt.style(n.elem,e,o+r);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return a&&(o=n.start=+o||+i||0,n.unit=r,n.end=a[1]?o+(a[1]+1)*a[2]:+a[2]),n}]};rt.Animation=rt.extend(O,{tweener:function(e,t){rt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,a=e.length;a>i;i++)n=e[i],kn[n]=kn[n]||[],kn[n].unshift(t)},prefilter:function(e,t){t?yn.unshift(e):yn.push(e)}}),rt.speed=function(e,t,n){var i=e&&"object"==typeof e?rt.extend({},e):{complete:n||!n&&t||rt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!rt.isFunction(t)&&t};return i.duration=rt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in rt.fx.speeds?rt.fx.speeds[i.duration]:rt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){rt.isFunction(i.old)&&i.old.call(this),i.queue&&rt.dequeue(this,i.queue)},i},rt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ft).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var a=rt.isEmptyObject(e),r=rt.speed(t,n,i),o=function(){var t=O(this,rt.extend({},e),r);(a||rt._data(this,"finish"))&&t.stop(!0)};return o.finish=o,a||r.queue===!1?this.each(o):this.queue(r.queue,o)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",r=rt.timers,o=rt._data(this);if(a)o[a]&&o[a].stop&&i(o[a]);else for(a in o)o[a]&&o[a].stop&&_n.test(a)&&i(o[a]);for(a=r.length;a--;)r[a].elem!==this||null!=e&&r[a].queue!==e||(r[a].anim.stop(n),t=!1,r.splice(a,1));(t||!n)&&rt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=rt._data(this),i=n[e+"queue"],a=n[e+"queueHooks"],r=rt.timers,o=i?i.length:0;for(n.finish=!0,rt.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;o>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),rt.each(["toggle","show","hide"],function(e,t){var n=rt.fn[t];rt.fn[t]=function(e,i,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(I(t,!0),e,i,a)}}),rt.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){rt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),rt.timers=[],rt.fx.tick=function(){var e,t=rt.timers,n=0;for(gn=rt.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||rt.fx.stop(),gn=void 0},rt.fx.timer=function(e){rt.timers.push(e),e()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){mn||(mn=setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){clearInterval(mn),mn=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(e,t){return e=rt.fx?rt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,a=gt.createElement("div");a.setAttribute("className","t"),a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=a.getElementsByTagName("a")[0],n=gt.createElement("select"),i=n.appendChild(gt.createElement("option")),t=a.getElementsByTagName("input")[0],e.style.cssText="top:1px",it.getSetAttribute="t"!==a.className,it.style=/top/.test(e.getAttribute("style")),it.hrefNormalized="/a"===e.getAttribute("href"),it.checkOn=!!t.value,it.optSelected=i.selected,it.enctype=!!gt.createElement("form").enctype,n.disabled=!0,it.optDisabled=!i.disabled,t=gt.createElement("input"),t.setAttribute("value",""),it.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),it.radioValue="t"===t.value,e=t=n=i=a=null}();var wn=/\r/g;rt.fn.extend({val:function(e){var t,n,i,a=this[0];{if(arguments.length)return i=rt.isFunction(e),this.each(function(n){var a;1===this.nodeType&&(a=i?e.call(this,n,rt(this).val()):e,null==a?a="":"number"==typeof a?a+="":rt.isArray(a)&&(a=rt.map(a,function(e){return null==e?"":e+""})),t=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))});if(a)return t=rt.valHooks[a.type]||rt.valHooks[a.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:(n=a.value,"string"==typeof n?n.replace(wn,""):null==n?"":n)}}}),rt.extend({valHooks:{option:{get:function(e){var t=rt.find.attr(e,"value");return null!=t?t:rt.text(e)}},select:{get:function(e){for(var t,n,i=e.options,a=e.selectedIndex,r="select-one"===e.type||0>a,o=r?null:[],s=r?a+1:i.length,l=0>a?s:r?a:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==a||(it.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&rt.nodeName(n.parentNode,"optgroup"))){if(t=rt(n).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var n,i,a=e.options,r=rt.makeArray(t),o=a.length;o--;)if(i=a[o],rt.inArray(rt.valHooks.option.get(i),r)>=0)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),a}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(e,t){return rt.isArray(t)?e.checked=rt.inArray(rt(e).val(),t)>=0:void 0}},it.checkOn||(rt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xn,Cn,Tn=rt.expr.attrHandle,Sn=/^(?:checked|selected)$/i,Dn=it.getSetAttribute,En=it.input;rt.fn.extend({attr:function(e,t){return At(this,rt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){rt.removeAttr(this,e)})}}),rt.extend({attr:function(e,t,n){var i,a,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===Ct?rt.prop(e,t,n):(1===r&&rt.isXMLDoc(e)||(t=t.toLowerCase(),i=rt.attrHooks[t]||(rt.expr.match.bool.test(t)?Cn:xn)),void 0===n?i&&"get"in i&&null!==(a=i.get(e,t))?a:(a=rt.find.attr(e,t),null==a?void 0:a):null!==n?i&&"set"in i&&void 0!==(a=i.set(e,n,t))?a:(e.setAttribute(t,n+""),n):void rt.removeAttr(e,t))},removeAttr:function(e,t){var n,i,a=0,r=t&&t.match(yt);if(r&&1===e.nodeType)for(;n=r[a++];)i=rt.propFix[n]||n,rt.expr.match.bool.test(n)?En&&Dn||!Sn.test(n)?e[i]=!1:e[rt.camelCase("default-"+n)]=e[i]=!1:rt.attr(e,n,""),e.removeAttribute(Dn?n:i)},attrHooks:{type:{set:function(e,t){if(!it.radioValue&&"radio"===t&&rt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Cn={set:function(e,t,n){return t===!1?rt.removeAttr(e,n):En&&Dn||!Sn.test(n)?e.setAttribute(!Dn&&rt.propFix[n]||n,n):e[rt.camelCase("default-"+n)]=e[n]=!0,n}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Tn[t]||rt.find.attr;Tn[t]=En&&Dn||!Sn.test(t)?function(e,t,i){var a,r;return i||(r=Tn[t],Tn[t]=a,a=null!=n(e,t,i)?t.toLowerCase():null,Tn[t]=r),a}:function(e,t,n){return n?void 0:e[rt.camelCase("default-"+t)]?t.toLowerCase():null}}),En&&Dn||(rt.attrHooks.value={set:function(e,t,n){return rt.nodeName(e,"input")?void(e.defaultValue=t):xn&&xn.set(e,t,n)}}),Dn||(xn={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Tn.id=Tn.name=Tn.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},rt.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:xn.set},rt.attrHooks.contenteditable={set:function(e,t,n){xn.set(e,""===t?!1:t,n)}},rt.each(["width","height"],function(e,t){rt.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),it.style||(rt.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Fn=/^(?:input|select|textarea|button|object)$/i,An=/^(?:a|area)$/i;rt.fn.extend({prop:function(e,t){return At(this,rt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=rt.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),rt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,a,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return r=1!==o||!rt.isXMLDoc(e),r&&(t=rt.propFix[t]||t,a=rt.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:e[t]=n:a&&"get"in a&&null!==(i=a.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=rt.find.attr(e,"tabindex");return t?parseInt(t,10):Fn.test(e.nodeName)||An.test(e.nodeName)&&e.href?0:-1}}}}),it.hrefNormalized||rt.each(["href","src"],function(e,t){rt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),it.optSelected||(rt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this}),it.enctype||(rt.propFix.enctype="encoding");var Mn=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(e){var t,n,i,a,r,o,s=0,l=this.length,d="string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).addClass(e.call(this,t,this.className))});if(d)for(t=(e||"").match(yt)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Mn," "):" ")){for(r=0;a=t[r++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");o=rt.trim(i),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,i,a,r,o,s=0,l=this.length,d=0===arguments.length||"string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).removeClass(e.call(this,t,this.className))});if(d)for(t=(e||"").match(yt)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Mn," "):"")){for(r=0;a=t[r++];)for(;i.indexOf(" "+a+" ")>=0;)i=i.replace(" "+a+" "," ");o=e?rt.trim(i):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(rt.isFunction(e)?function(n){rt(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,a=rt(this),r=e.match(yt)||[];t=r[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else(n===Ct||"boolean"===n)&&(this.className&&rt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":rt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Mn," ").indexOf(t)>=0)return!0;return!1}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){rt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)
}}),rt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Hn=rt.now(),zn=/\?/,In=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;rt.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,a=rt.trim(t+"");return a&&!rt.trim(a.replace(In,function(e,t,a,r){return n&&t&&(i=0),0===i?e:(n=a||t,i+=!r-!a,"")}))?Function("return "+a)():rt.error("Invalid JSON: "+t)},rt.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(a){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+t),n};var Rn,Nn,Pn=/#.*$/,On=/([?&])_=[^&]*/,Ln=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jn=/^(?:GET|HEAD)$/,Wn=/^\/\//,Vn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,qn={},$n={},Un="*/".concat("*");try{Nn=location.href}catch(Gn){Nn=gt.createElement("a"),Nn.href="",Nn=Nn.href}Rn=Vn.exec(Nn.toLowerCase())||[],rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nn,type:"GET",isLocal:Bn.test(Rn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Un,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?j(j(e,rt.ajaxSettings),t):j(rt.ajaxSettings,e)},ajaxPrefilter:L(qn),ajaxTransport:L($n),ajax:function(e,t){function n(e,t,n,i){var a,c,v,b,y,w=t;2!==_&&(_=2,s&&clearTimeout(s),d=void 0,o=i||"",k.readyState=e>0?4:0,a=e>=200&&300>e||304===e,n&&(b=W(u,k,n)),b=V(u,b,k,a),a?(u.ifModified&&(y=k.getResponseHeader("Last-Modified"),y&&(rt.lastModified[r]=y),y=k.getResponseHeader("etag"),y&&(rt.etag[r]=y)),204===e||"HEAD"===u.type?w="nocontent":304===e?w="notmodified":(w=b.state,c=b.data,v=b.error,a=!v)):(v=w,(e||!w)&&(w="error",0>e&&(e=0))),k.status=e,k.statusText=(t||w)+"",a?f.resolveWith(h,[c,w,k]):f.rejectWith(h,[k,w,v]),k.statusCode(m),m=void 0,l&&p.trigger(a?"ajaxSuccess":"ajaxError",[k,u,a?c:v]),g.fireWith(h,[k,w]),l&&(p.trigger("ajaxComplete",[k,u]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,a,r,o,s,l,d,c,u=rt.ajaxSetup({},t),h=u.context||u,p=u.context&&(h.nodeType||h.jquery)?rt(h):rt.event,f=rt.Deferred(),g=rt.Callbacks("once memory"),m=u.statusCode||{},v={},b={},_=0,y="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!c)for(c={};t=Ln.exec(o);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return _||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return _||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>_)for(t in e)m[t]=[m[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||y;return d&&d.abort(t),n(0,t),this}};if(f.promise(k).complete=g.add,k.success=k.done,k.error=k.fail,u.url=((e||u.url||Nn)+"").replace(Pn,"").replace(Wn,Rn[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=rt.trim(u.dataType||"*").toLowerCase().match(yt)||[""],null==u.crossDomain&&(i=Vn.exec(u.url.toLowerCase()),u.crossDomain=!(!i||i[1]===Rn[1]&&i[2]===Rn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Rn[3]||("http:"===Rn[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=rt.param(u.data,u.traditional)),B(qn,u,t,k),2===_)return k;l=u.global,l&&0===rt.active++&&rt.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!jn.test(u.type),r=u.url,u.hasContent||(u.data&&(r=u.url+=(zn.test(r)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=On.test(r)?r.replace(On,"$1_="+Hn++):r+(zn.test(r)?"&":"?")+"_="+Hn++)),u.ifModified&&(rt.lastModified[r]&&k.setRequestHeader("If-Modified-Since",rt.lastModified[r]),rt.etag[r]&&k.setRequestHeader("If-None-Match",rt.etag[r])),(u.data&&u.hasContent&&u.contentType!==!1||t.contentType)&&k.setRequestHeader("Content-Type",u.contentType),k.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Un+"; q=0.01":""):u.accepts["*"]);for(a in u.headers)k.setRequestHeader(a,u.headers[a]);if(u.beforeSend&&(u.beforeSend.call(h,k,u)===!1||2===_))return k.abort();y="abort";for(a in{success:1,error:1,complete:1})k[a](u[a]);if(d=B($n,u,t,k)){k.readyState=1,l&&p.trigger("ajaxSend",[k,u]),u.async&&u.timeout>0&&(s=setTimeout(function(){k.abort("timeout")},u.timeout));try{_=1,d.send(v,n)}catch(w){if(!(2>_))throw w;n(-1,w)}}else n(-1,"No Transport");return k},getJSON:function(e,t,n){return rt.get(e,t,n,"json")},getScript:function(e,t){return rt.get(e,void 0,t,"script")}}),rt.each(["get","post"],function(e,t){rt[t]=function(e,n,i,a){return rt.isFunction(n)&&(a=a||i,i=n,n=void 0),rt.ajax({url:e,type:t,dataType:a,data:n,success:i})}}),rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){rt.fn[t]=function(e){return this.on(t,e)}}),rt._evalUrl=function(e){return rt.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(e){if(rt.isFunction(e))return this.each(function(t){rt(this).wrapAll(e.call(this,t))});if(this[0]){var t=rt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(rt.isFunction(e)?function(t){rt(this).wrapInner(e.call(this,t))}:function(){var t=rt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=rt.isFunction(e);return this.each(function(n){rt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!it.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||rt.css(e,"display"))},rt.expr.filters.visible=function(e){return!rt.expr.filters.hidden(e)};var Qn=/%20/g,Yn=/\[\]$/,Kn=/\r?\n/g,Xn=/^(?:submit|button|image|reset|file)$/i,Jn=/^(?:input|select|textarea|keygen)/i;rt.param=function(e,t){var n,i=[],a=function(e,t){t=rt.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(e)||e.jquery&&!rt.isPlainObject(e))rt.each(e,function(){a(this.name,this.value)});else for(n in e)q(n,e[n],t,a);return i.join("&").replace(Qn,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=rt.prop(this,"elements");return e?rt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!rt(this).is(":disabled")&&Jn.test(this.nodeName)&&!Xn.test(e)&&(this.checked||!Mt.test(e))}).map(function(e,t){var n=rt(this).val();return null==n?null:rt.isArray(n)?rt.map(n,function(e){return{name:t.name,value:e.replace(Kn,"\r\n")}}):{name:t.name,value:n.replace(Kn,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&$()||U()}:$;var Zn=0,ei={},ti=rt.ajaxSettings.xhr();e.ActiveXObject&&rt(e).on("unload",function(){for(var e in ei)ei[e](void 0,!0)}),it.cors=!!ti&&"withCredentials"in ti,ti=it.ajax=!!ti,ti&&rt.ajaxTransport(function(e){if(!e.crossDomain||it.cors){var t;return{send:function(n,i){var a,r=e.xhr(),o=++Zn;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)r[a]=e.xhrFields[a];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(a in n)void 0!==n[a]&&r.setRequestHeader(a,n[a]+"");r.send(e.hasContent&&e.data||null),t=function(n,a){var s,l,d;if(t&&(a||4===r.readyState))if(delete ei[o],t=void 0,r.onreadystatechange=rt.noop,a)4!==r.readyState&&r.abort();else{d={},s=r.status,"string"==typeof r.responseText&&(d.text=r.responseText);try{l=r.statusText}catch(c){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=d.text?200:404}d&&i(s,l,d,r.getAllResponseHeaders())},e.async?4===r.readyState?setTimeout(t):r.onreadystatechange=ei[o]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return rt.globalEval(e),e}}}),rt.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),rt.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=gt.head||rt("head")[0]||gt.documentElement;return{send:function(i,a){t=gt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||a(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ni=[],ii=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ni.pop()||rt.expando+"_"+Hn++;return this[e]=!0,e}}),rt.ajaxPrefilter("json jsonp",function(t,n,i){var a,r,o,s=t.jsonp!==!1&&(ii.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ii.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(a=t.jsonpCallback=rt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ii,"$1"+a):t.jsonp!==!1&&(t.url+=(zn.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return o||rt.error(a+" was not called"),o[0]},t.dataTypes[0]="json",r=e[a],e[a]=function(){o=arguments},i.always(function(){e[a]=r,t[a]&&(t.jsonpCallback=n.jsonpCallback,ni.push(a)),o&&rt.isFunction(r)&&r(o[0]),o=r=void 0}),"script"):void 0}),rt.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||gt;var i=ht.exec(e),a=!n&&[];return i?[t.createElement(i[1])]:(i=rt.buildFragment([e],t,a),a&&a.length&&rt(a).remove(),rt.merge([],i.childNodes))};var ai=rt.fn.load;rt.fn.load=function(e,t,n){if("string"!=typeof e&&ai)return ai.apply(this,arguments);var i,a,r,o=this,s=e.indexOf(" ");return s>=0&&(i=e.slice(s,e.length),e=e.slice(0,s)),rt.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&rt.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){a=arguments,o.html(i?rt("<div>").append(rt.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){o.each(n,a||[e.responseText,t,e])}),this},rt.expr.filters.animated=function(e){return rt.grep(rt.timers,function(t){return e===t.elem}).length};var ri=e.document.documentElement;rt.offset={setOffset:function(e,t,n){var i,a,r,o,s,l,d,c=rt.css(e,"position"),u=rt(e),h={};"static"===c&&(e.style.position="relative"),s=u.offset(),r=rt.css(e,"top"),l=rt.css(e,"left"),d=("absolute"===c||"fixed"===c)&&rt.inArray("auto",[r,l])>-1,d?(i=u.position(),o=i.top,a=i.left):(o=parseFloat(r)||0,a=parseFloat(l)||0),rt.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(h.top=t.top-s.top+o),null!=t.left&&(h.left=t.left-s.left+a),"using"in t?t.using.call(e,h):u.css(h)}},rt.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){rt.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},a=this[0],r=a&&a.ownerDocument;if(r)return t=r.documentElement,rt.contains(t,a)?(typeof a.getBoundingClientRect!==Ct&&(i=a.getBoundingClientRect()),n=G(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===rt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),rt.nodeName(e[0],"html")||(n=e.offset()),n.top+=rt.css(e[0],"borderTopWidth",!0),n.left+=rt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-rt.css(i,"marginTop",!0),left:t.left-n.left-rt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ri;e&&!rt.nodeName(e,"html")&&"static"===rt.css(e,"position");)e=e.offsetParent;return e||ri})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);rt.fn[e]=function(i){return At(this,function(e,i,a){var r=G(e);return void 0===a?r?t in r?r[t]:r.document.documentElement[i]:e[i]:void(r?r.scrollTo(n?rt(r).scrollLeft():a,n?a:rt(r).scrollTop()):e[i]=a)},e,i,arguments.length,null)}}),rt.each(["top","left"],function(e,t){rt.cssHooks[t]=S(it.pixelPosition,function(e,n){return n?(n=nn(e,t),rn.test(n)?rt(e).position()[t]+"px":n):void 0})}),rt.each({Height:"height",Width:"width"},function(e,t){rt.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){rt.fn[i]=function(i,a){var r=arguments.length&&(n||"boolean"!=typeof i),o=n||(i===!0||a===!0?"margin":"border");return At(this,function(t,n,i){var a;return rt.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?rt.css(t,n,o):rt.style(t,n,i,o)},t,r?i:void 0,r,null)}})}),rt.fn.size=function(){return this.length},rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var oi=e.jQuery,si=e.$;return rt.noConflict=function(t){return e.$===rt&&(e.$=si),t&&e.jQuery===rt&&(e.jQuery=oi),rt},typeof t===Ct&&(e.jQuery=e.$=rt),rt}),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)},fire:function(t,n,i){var a=e.Event(n);return t.trigger(a,i),a.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var a,r,o,s,l,d,c,u;if(n.fire(i,"ajax:before")){if(s=i.data("cross-domain"),l=s===t?null:s,d=i.data("with-credentials")||null,c=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){a=i.attr("method"),r=i.attr("action"),o=i.serializeArray();var h=i.data("ujs:submit-button");h&&(o.push(h),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(a=i.data("method"),r=i.data("url"),o=i.serialize(),i.data("params")&&(o=o+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(a=i.data("method")||"get",r=i.data("url"),o=i.serialize(),i.data("params")&&(o=o+"&"+i.data("params"))):(a=i.data("method"),r=n.href(i),o=i.data("params")||null);u={type:a||"GET",data:o,dataType:c,beforeSend:function(e,a){return a.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+a.accepts.script),n.fire(i,"ajax:beforeSend",[e,a])},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:l},d&&(u.xhrFields={withCredentials:d}),r&&(u.url=r);var p=n.ajax(u);return i.trigger("ajax:send",p),p}return!1},handleMethod:function(i){var a=n.href(i),r=i.data("method"),o=i.attr("target"),s=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),d=e('<form method="post" action="'+a+'"></form>'),c='<input name="_method" value="'+r+'" type="hidden" />';l!==t&&s!==t&&(c+='<input name="'+l+'" value="'+s+'" type="hidden" />'),o&&d.attr("target",o),d.hide().append(c).appendTo("body"),d.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,i=e.data("confirm"),a=!1;return i?(n.fire(e,"confirm")&&(a=n.confirm(i),t=n.fire(e,"confirm:complete",[a])),a&&t):!0},blankInputs:function(t,n,i){var a,r,o=e(),s=n||"input,textarea",l=t.find(s);return l.each(function(){if(a=e(this),r=a.is("input[type=checkbox],input[type=radio]")?a.is(":checked"):a.val(),!r==!i){if(a.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+a.attr("name")+'"]').length)return!0;o=o.add(a)}}),o.length?o:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var a=e(this),r=a.data("method"),o=a.data("params"),s=i.metaKey||i.ctrlKey;if(!n.allowAction(a))return n.stopEverything(i);if(!s&&a.is(n.linkDisableSelector)&&n.disableElement(a),a.data("remote")!==t){if(s&&(!r||"GET"===r)&&!o)return!0;var l=n.handleRemote(a);return l===!1?n.enableElement(a):l.error(function(){n.enableElement(a)}),!1}return a.data("method")?(n.handleMethod(a),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var a=e(this),r=a.data("remote")!==t,o=n.blankInputs(a,n.requiredInputSelector),s=n.nonBlankInputs(a,n.fileInputSelector);if(!n.allowAction(a))return n.stopEverything(i);if(o&&a.attr("novalidate")==t&&n.fire(a,"ajax:aborted:required",[o]))return n.stopEverything(i);if(r){if(s){setTimeout(function(){n.disableFormElements(a)},13);var l=n.fire(a,"ajax:aborted:file",[s]);return l||setTimeout(function(){n.enableFormElements(a)},13),l}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var a=i.attr("name"),r=a?{name:a,value:i.val()}:null;i.closest("form").data("ujs:submit-button",r)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),BestInPlaceEditor.prototype={activate:function(){var e="";e=this.isNil()?"":this.original_content?this.original_content:this.sanitize?this.element.text():this.element.html(),this.oldValue=this.isNil()?"":this.element.html(),this.display_value=e,jQuery(this.activator).unbind("click",this.clickHandler),this.activateForm(),this.element.trigger(jQuery.Event("best_in_place:activate"))},abort:function(){this.activateText(this.oldValue),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:abort")),this.element.trigger(jQuery.Event("best_in_place:deactivate"))},abortIfConfirm:function(){return this.useConfirm?void(confirm("Are you sure you want to discard your changes?")&&this.abort()):void this.abort()},update:function(){var e=this;if(this.formType in{input:1,textarea:1}&&this.getValue()==this.oldValue)return this.abort(),!0;if(e.ajax({type:"post",dataType:"text",data:e.requestData(),success:function(t){e.loadSuccessCallback(t)},error:function(t,n){e.loadErrorCallback(t,n)}}),"select"==this.formType){var t=this.getValue();this.previousCollectionValue=t,jQuery.each(this.values,function(n,i){t==i[0]&&e.element.html(i[1])})}else"checkbox"==this.formType?e.element.html(this.getValue()?this.values[1]:this.values[0]):""!==this.getValue()?e.element.text(this.getValue()):e.element.html(this.nil);e.element.trigger(jQuery.Event("best_in_place:update"))},activateForm:function(){alert("The form was not properly initialized. activateForm is unbound")},activateText:function(e){this.element.html(e),this.isNil()&&this.element.html(this.nil)},initOptions:function(){var e=this;e.element.parents().each(function(){$parent=jQuery(this),e.url=e.url||$parent.attr("data-url"),e.collection=e.collection||$parent.attr("data-collection"),e.formType=e.formType||$parent.attr("data-type"),e.objectName=e.objectName||$parent.attr("data-object"),e.attributeName=e.attributeName||$parent.attr("data-attribute"),e.activator=e.activator||$parent.attr("data-activator"),e.okButton=e.okButton||$parent.attr("data-ok-button"),e.okButtonClass=e.okButtonClass||$parent.attr("data-ok-button-class"),e.cancelButton=e.cancelButton||$parent.attr("data-cancel-button"),e.cancelButtonClass=e.cancelButtonClass||$parent.attr("data-cancel-button-class"),e.nil=e.nil||$parent.attr("data-nil"),e.inner_class=e.inner_class||$parent.attr("data-inner-class"),e.html_attrs=e.html_attrs||$parent.attr("data-html-attrs"),e.original_content=e.original_content||$parent.attr("data-original-content"),e.collectionValue=e.collectionValue||$parent.attr("data-value")}),e.element.parents().each(function(){var t=this.id.match(/^(\w+)_(\d+)$/i);t&&(e.objectName=e.objectName||t[1])}),e.url=e.element.attr("data-url")||e.url||document.location.pathname,e.collection=e.element.attr("data-collection")||e.collection,e.formType=e.element.attr("data-type")||e.formtype||"input",e.objectName=e.element.attr("data-object")||e.objectName,e.attributeName=e.element.attr("data-attribute")||e.attributeName,e.activator=e.element.attr("data-activator")||e.element,e.okButton=e.element.attr("data-ok-button")||e.okButton,e.okButtonClass=e.element.attr("data-ok-button-class")||e.okButtonClass||"",e.cancelButton=e.element.attr("data-cancel-button")||e.cancelButton,e.cancelButtonClass=e.element.attr("data-cancel-button-class")||e.cancelButtonClass||"",e.nil=e.element.attr("data-nil")||e.nil||"\u2014",e.inner_class=e.element.attr("data-inner-class")||e.inner_class||null,e.html_attrs=e.element.attr("data-html-attrs")||e.html_attrs,e.original_content=e.element.attr("data-original-content")||e.original_content,e.collectionValue=e.element.attr("data-value")||e.collectionValue,e.sanitize=e.element.attr("data-sanitize")?"true"==e.element.attr("data-sanitize"):!0,e.useConfirm=e.element.attr("data-use-confirm")?"false"!=e.element.attr("data-use-confirm"):!0,"select"!=e.formType&&"checkbox"!=e.formType||null===e.collection||(e.values=jQuery.parseJSON(e.collection))},bindForm:function(){this.activateForm=BestInPlaceEditor.forms[this.formType].activateForm,this.getValue=BestInPlaceEditor.forms[this.formType].getValue},initNil:function(){""===this.element.html()&&this.element.html(this.nil)},isNil:function(){return""===this.element.html()||this.element.html()===this.nil},getValue:function(){alert("The form was not properly initialized. getValue is unbound")},sanitizeValue:function(e){return jQuery.trim(e)},requestData:function(){csrf_token=jQuery("meta[name=csrf-token]").attr("content"),csrf_param=jQuery("meta[name=csrf-param]").attr("content");var e="_method=put";return e+="&"+this.objectName+"["+this.attributeName+"]="+encodeURIComponent(this.getValue()),void 0!==csrf_param&&void 0!==csrf_token&&(e+="&"+csrf_param+"="+encodeURIComponent(csrf_token)),e},ajax:function(e){return e.url=this.url,e.beforeSend=function(e){e.setRequestHeader("Accept","application/json")},jQuery.ajax(e)},loadSuccessCallback:function(e){if(e=jQuery.trim(e),e&&""!=e){var t=jQuery.parseJSON(jQuery.trim(e));null!==t&&t.hasOwnProperty("display_as")&&(this.element.attr("data-original-content",this.element.text()),this.original_content=this.element.text(),this.element.html(t.display_as)),this.element.trigger(jQuery.Event("best_in_place:success"),e),this.element.trigger(jQuery.Event("ajax:success"),e)}else this.element.trigger(jQuery.Event("best_in_place:success")),this.element.trigger(jQuery.Event("ajax:success"));jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:deactivate")),null!==this.collectionValue&&"select"==this.formType&&(this.collectionValue=this.previousCollectionValue,this.previousCollectionValue=null)},loadErrorCallback:function(e,t){this.activateText(this.oldValue),this.element.trigger(jQuery.Event("best_in_place:error"),[e,t]),this.element.trigger(jQuery.Event("ajax:error"),e,t),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:deactivate"))},clickHandler:function(e){e.preventDefault(),e.data.editor.activate()},setHtmlAttributes:function(){var e=this.element.find(this.formType);if(this.html_attrs){var t=jQuery.parseJSON(this.html_attrs);for(var n in t)e.attr(n,t[n])}}},BestInPlaceEditor.forms={input:{activateForm:function(){var e=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);").attr("style","display:inline"),t=jQuery(document.createElement("input")).attr("type","text").attr("name",this.attributeName).val(this.display_value);null!==this.inner_class&&t.addClass(this.inner_class),e.append(t),this.okButton&&e.append(jQuery(document.createElement("input")).attr("type","submit").attr("class",this.okButtonClass).attr("value",this.okButton)),this.cancelButton&&e.append(jQuery(document.createElement("input")).attr("type","button").attr("class",this.cancelButtonClass).attr("value",this.cancelButton)),this.element.html(e),this.setHtmlAttributes(),this.element.find("input[type='text']")[0].select(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.input.submitHandler),this.cancelButton&&this.element.find("input[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.input.cancelButtonHandler),this.element.find("input[type='text']").bind("blur",{editor:this},BestInPlaceEditor.forms.input.inputBlurHandler),this.element.find("input[type='text']").bind("keyup",{editor:this},BestInPlaceEditor.forms.input.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){return this.sanitizeValue(this.element.find("input").val())},inputBlurHandler:function(e){e.data.editor.okButton?e.data.editor.blurTimer=setTimeout(function(){e.data.editor.userClicked||e.data.editor.abort()},500):e.data.editor.cancelButton?e.data.editor.blurTimer=setTimeout(function(){e.data.editor.userClicked||e.data.editor.update()},500):e.data.editor.update()},submitHandler:function(e){e.data.editor.userClicked=!0,clearTimeout(e.data.editor.blurTimer),e.data.editor.update()},cancelButtonHandler:function(e){e.data.editor.userClicked=!0,clearTimeout(e.data.editor.blurTimer),e.data.editor.abort(),e.stopPropagation()},keyupHandler:function(e){27==e.keyCode&&e.data.editor.abort()}},date:{activateForm:function(){var e=this,t=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);").attr("style","display:inline"),n=jQuery(document.createElement("input")).attr("type","text").attr("name",this.attributeName).attr("value",this.sanitizeValue(this.display_value));null!==this.inner_class&&n.addClass(this.inner_class),t.append(n),this.element.html(t),this.setHtmlAttributes(),this.element.find("input")[0].select(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.input.submitHandler),this.element.find("input").bind("keyup",{editor:this},BestInPlaceEditor.forms.input.keyupHandler),this.element.find("input").datepicker({onClose:function(){e.update()}}).datepicker("show")},getValue:function(){return this.sanitizeValue(this.element.find("input").val())},submitHandler:function(e){e.data.editor.update()},keyupHandler:function(e){27==e.keyCode&&e.data.editor.abort()}},select:{activateForm:function(){var e=jQuery(document.createElement("form")).attr("action","javascript:void(0)").attr("style","display:inline");selected="",oldValue=this.oldValue,select_elt=jQuery(document.createElement("select")).attr("class",null!==this.inned_class?this.inner_class:""),currentCollectionValue=this.collectionValue,jQuery.each(this.values,function(e,t){var n=jQuery(document.createElement("option")).val(t[0]).html(t[1]);t[0]==currentCollectionValue&&n.attr("selected","selected"),select_elt.append(n)}),e.append(select_elt),this.element.html(e),this.setHtmlAttributes(),this.element.find("select").bind("change",{editor:this},BestInPlaceEditor.forms.select.blurHandler),this.element.find("select").bind("blur",{editor:this},BestInPlaceEditor.forms.select.blurHandler),this.element.find("select").bind("keyup",{editor:this},BestInPlaceEditor.forms.select.keyupHandler),this.element.find("select")[0].focus()},getValue:function(){return this.sanitizeValue(this.element.find("select").val())},blurHandler:function(e){e.data.editor.update()},keyupHandler:function(e){27==e.keyCode&&e.data.editor.abort()}},checkbox:{activateForm:function(){this.collectionValue=!this.getValue(),this.setHtmlAttributes(),this.update()},getValue:function(){return this.collectionValue}},textarea:{activateForm:function(){width=this.element.css("width"),height=this.element.css("height");var e=jQuery(document.createElement("form")).attr("action","javascript:void(0)").attr("style","display:inline").append(jQuery(document.createElement("textarea")).val(this.sanitizeValue(this.display_value)));this.okButton&&e.append(jQuery(document.createElement("input")).attr("type","submit").attr("value",this.okButton)),this.cancelButton&&e.append(jQuery(document.createElement("input")).attr("type","button").attr("value",this.cancelButton)),this.element.html(e),this.setHtmlAttributes(),jQuery(this.element.find("textarea")[0]).css({"min-width":width,"min-height":height}),jQuery(this.element.find("textarea")[0]).elastic(),this.element.find("textarea")[0].focus(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.textarea.submitHandler),this.cancelButton&&this.element.find("input[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.textarea.cancelButtonHandler),this.element.find("textarea").bind("blur",{editor:this},BestInPlaceEditor.forms.textarea.blurHandler),this.element.find("textarea").bind("keyup",{editor:this},BestInPlaceEditor.forms.textarea.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){return this.sanitizeValue(this.element.find("textarea").val())},blurHandler:function(e){e.data.editor.okButton?e.data.editor.blurTimer=setTimeout(function(){e.data.editor.userClicked||e.data.editor.abortIfConfirm()},500):e.data.editor.cancelButton?e.data.editor.blurTimer=setTimeout(function(){e.data.editor.userClicked||e.data.editor.update()
},500):e.data.editor.update()},submitHandler:function(e){e.data.editor.userClicked=!0,clearTimeout(e.data.editor.blurTimer),e.data.editor.update()},cancelButtonHandler:function(e){e.data.editor.userClicked=!0,clearTimeout(e.data.editor.blurTimer),e.data.editor.abortIfConfirm(),e.stopPropagation()},keyupHandler:function(e){27==e.keyCode&&e.data.editor.abortIfConfirm()}}},jQuery.fn.best_in_place=function(){function e(e){return e.data("bestInPlaceEditor")?void 0:(e.data("bestInPlaceEditor",new BestInPlaceEditor(e)),!0)}return jQuery(this.context).delegate(this.selector,"click",function(){var t=jQuery(this);e(t)&&t.click()}),this.each(function(){e(jQuery(this))}),this},function(e){"undefined"==typeof e.fn.elastic&&e.fn.extend({elastic:function(){var t=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight"];return this.each(function(){function n(e,t){curratedHeight=Math.floor(parseInt(e,10)),a.height()!=curratedHeight&&a.css({height:curratedHeight+"px",overflow:t})}function i(){var e=a.val().replace(/&/g,"&amp;").replace(/  /g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),t=r.html().replace(/<br>/gi,"<br />");if(e+"&nbsp;"!=t&&(r.html(e+"&nbsp;"),Math.abs(r.height()+o-a.height())>3)){var i=r.height()+o;i>=l?n(l,"auto"):s>=i?n(s,"hidden"):n(i,"hidden")}}if("textarea"!=this.type)return!1;var a=e(this),r=e("<div />").css({position:"absolute",display:"none","word-wrap":"break-word"}),o=parseInt(a.css("line-height"),10)||parseInt(a.css("font-size"),"10"),s=parseInt(a.css("height"),10)||3*o,l=parseInt(a.css("max-height"),10)||Number.MAX_VALUE,d=0;for(0>l&&(l=Number.MAX_VALUE),r.appendTo(a.parent()),d=t.length;d--;)r.css(t[d].toString(),a.css(t[d].toString()));a.css({overflow:"hidden"}),a.bind("keyup change cut paste",function(){i()}),a.bind("blur",function(){r.height()<l&&a.height(r.height()>s?r.height():s)}),a.on("input paste",function(){setTimeout(i,250)}),i()})}})}(jQuery),function(){jQuery(function(){var e;return $("#staff_assignment_user_id").hide(),e=$("#staff_assignment_user_id").html(),$("#staff_assignment_project_role_id").change(function(){var t,n,i;return t=$("#staff_assignment_project_role_id :selected").text(),n=t.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/@])/g,"\\$1"),i=$(e).filter("optgroup[label='"+n+"']").html(),i?($("#staff_assignment_user_id").html(i),$("#staff_assignment_user_id").show()):($("#staff_assignment_user_id").empty(),$("#staff_assignment_user_id").hide())})})}.call(this),function(e,t){t([],e)}(function(){return function(e,t){function n(){}function i(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=e.charAt(0),i=e.substring(1);return"="===n?"+("+i+")+":":"===n?"+e("+i+")+":";"+e+";o+="}function a(e,t,n){return e+="",t=t||2,n=t-e.length,n?L[t].substring(0,n)+e:e}function r(e){var t=e.css(pt.support.transitions.css+"box-shadow")||e.css("box-shadow"),n=t?t.match(Ct)||[0,0,0,0,0]:[0,0,0,0,0],i=_t.max(+n[3],+(n[4]||0));return{left:-n[1]+i,right:+n[1]+i,bottom:+n[2]+i}}function o(t,n){var i,a,o,s,l,d,c,u,h=kt.browser,p="rtl"==t.css("direction");return t.parent().hasClass("k-animation-container")?(c=t.parent(".k-animation-container"),u=c[0].style,c.is(":hidden")&&c.show(),i=wt.test(u.width)||wt.test(u.height),i||c.css({width:t.outerWidth(),height:t.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})):(a=r(t),o=t[0].style.width,s=t[0].style.height,l=wt.test(o),d=wt.test(s),h.opera&&(a.left=a.right=a.bottom=5),i=l||d,!l&&(!n||n&&o)&&(o=t.outerWidth()),!d&&(!n||n&&s)&&(s=t.outerHeight()),t.wrap(e("<div/>").addClass("k-animation-container").css({width:o,height:s,marginLeft:a.left*(p?1:-1),paddingLeft:a.left,paddingRight:a.right,paddingBottom:a.bottom})),i&&t.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),h.msie&&_t.floor(h.version)<=7&&(t.css({zoom:1}),t.children(".k-menu").width(t.width())),t.parent()}function s(e){var t=1,n=arguments.length;for(t=1;n>t;t++)l(e,arguments[t]);return e}function l(e,t){var n,i,a,r,o=pt.data.ObservableArray,s=pt.data.DataSource,d=pt.data.HierarchicalDataSource;for(n in t)i=t[n],a=typeof i,a===Ft&&null!==i&&i.constructor!==Array&&i.constructor!==o&&i.constructor!==s&&i.constructor!==d?i instanceof Date?e[n]=new Date(i.getTime()):F(i.clone)?e[n]=i.clone():(r=e[n],e[n]=typeof r===Ft?r||{}:{},l(e[n],i)):a!==Ht&&(e[n]=i);return e}function d(e,n,i){for(var a in n)if(n.hasOwnProperty(a)&&n[a].test(e))return a;return i!==t?i:e}function c(e){return e.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})}function u(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})}function h(t,n){var i,a={};return document.defaultView&&document.defaultView.getComputedStyle?(i=document.defaultView.getComputedStyle(t,""),n&&e.each(n,function(e,t){a[t]=i.getPropertyValue(t)})):(i=t.currentStyle,n&&e.each(n,function(e,t){a[t]=i[u(t)]})),pt.size(a)||(a=i),a}function p(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&"toJSON"!=t&&n++;return n}function f(e,t,n){t||(t="offset");var i=e[t]();return kt.browser.msie&&(kt.pointers||kt.msPointers)&&!n&&(i.top-=window.pageYOffset-document.documentElement.scrollTop,i.left-=window.pageXOffset-document.documentElement.scrollLeft),i}function g(e){var t={};return gt("string"==typeof e?e.split(" "):e,function(e){t[e]=this}),t}function m(e){return new pt.effects.Element(e)}function v(e,t,n,i){return typeof e===Dt&&(F(t)&&(i=t,t=400,n=!1),F(n)&&(i=n,n=!1),typeof t===Mt&&(n=t,t=400),e={effects:e,duration:t,reverse:n,complete:i}),ft({effects:{},duration:400,reverse:!1,init:bt,teardown:bt,hide:!1},e,{completeCallback:e.complete,complete:bt})}function b(t,n,i,a,r){for(var o,s=0,l=t.length;l>s;s++)o=e(t[s]),o.queue(function(){j.promise(o,v(n,i,a,r))});return t}function _(e,t,n,i){return t&&(t=t.split(" "),gt(t,function(t,n){e.toggleClass(n,i)})),e}function y(e){return(""+e).replace(W,"&amp;").replace(V,"&lt;").replace(U,"&gt;").replace(q,"&quot;").replace($,"&#39;")}function k(e,n){var i;return 0===n.indexOf("data")&&(n=n.substring(4),n=n.charAt(0).toLowerCase()+n.substring(1)),n=n.replace(et,"-$1"),i=e.getAttribute("data-"+pt.ns+n),null===i?i=t:"null"===i?i=null:"true"===i?i=!0:"false"===i?i=!1:Tt.test(i)?i=parseFloat(i):J.test(i)&&!Z.test(i)&&(i=Function("return ("+i+")")()),i}function w(n,i){var a,r,o={};for(a in i)r=k(n,a),r!==t&&(X.test(a)&&(r=pt.template(e("#"+r).html())),o[a]=r);return o}function x(t,n){return e.contains(t,n)?-1:1}function C(){var t=e(this);return e.inArray(t.attr("data-role"),["slider","rangeslider"])>0||t.is(":visible")}function T(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&S(e)}function S(t){return!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")||e.expr.filters.hidden(this)}).length}function D(e,t){return new D.fn.init(e,t)}var E,F,A,M,H,z,I,R,N,P,O,L,B,j,W,V,q,$,U,G,Q,Y,K,X,J,Z,et,tt,nt,it,at,rt,ot,st,lt,dt,ct,ut,ht,pt=window.kendo=window.kendo||{cultures:{}},ft=e.extend,gt=e.each,mt=e.isArray,vt=e.proxy,bt=e.noop,_t=Math,yt=window.JSON||{},kt={},wt=/%/,xt=/\{(\d+)(:[^\}]+)?\}/g,Ct=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,Tt=/^(\+|-?)\d+(\.?)\d*$/,St="function",Dt="string",Et="number",Ft="object",At="null",Mt="boolean",Ht="undefined",zt={},It={},Rt=[].slice,Nt=window.Globalize;pt.version="2014.1.416",n.extend=function(e){var t,n,i=function(){},a=this,r=e&&e.init?e.init:function(){a.apply(this,arguments)};i.prototype=a.prototype,n=r.fn=r.prototype=new i;for(t in e)n[t]=null!=e[t]&&e[t].constructor===Object?ft(!0,{},i.prototype[t],e[t]):e[t];return n.constructor=r,r.extend=a.extend,r},n.prototype._initOptions=function(e){this.options=s({},this.options,e)},F=pt.isFunction=function(e){return"function"==typeof e},A=function(){this._defaultPrevented=!0},M=function(){return this._defaultPrevented===!0},H=n.extend({init:function(){this._events={}},bind:function(e,n,i){var a,r,o,s,l,d=this,c=typeof e===Dt?[e]:e,u=typeof n===St;if(n===t){for(a in e)d.bind(a,e[a]);return d}for(a=0,r=c.length;r>a;a++)e=c[a],s=u?n:n[e],s&&(i&&(o=s,s=function(){d.unbind(e,s),o.apply(d,arguments)},s.original=o),l=d._events[e]=d._events[e]||[],l.push(s));return d},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){var n,i,a,r,o=this,s=typeof e===Dt?[e]:e,l=typeof t===St;for(n=0,i=s.length;i>n;n++)e=s[n],a=l?t:t[e],a&&(r=o._events[e]=o._events[e]||[],r.unshift(a));return o},trigger:function(e,t){var n,i,a=this,r=a._events[e];if(r){for(t=t||{},t.sender=a,t._defaultPrevented=!1,t.preventDefault=A,t.isDefaultPrevented=M,r=r.slice(),n=0,i=r.length;i>n;n++)r[n].call(a,t);return t._defaultPrevented===!0}return!1},unbind:function(e,n){var i,a=this,r=a._events[e];if(e===t)a._events={};else if(r)if(n)for(i=r.length-1;i>=0;i--)(r[i]===n||r[i].original===n)&&r.splice(i,1);else a._events[e]=[];return a}}),z=/^\w+/,I=/\$\{([^}]*)\}/g,R=/\\\}/g,N=/__CURLY__/g,P=/\\#/g,O=/__SHARP__/g,L=["","0","00","000","0000"],E={paramName:"data",useWithBlock:!0,render:function(e,t){var n,i,a="";for(n=0,i=t.length;i>n;n++)a+=e(t[n]);return a},compile:function(t,n){var a,r,o,s=ft({},this,n),l=s.paramName,d=l.match(z)[0],c=s.useWithBlock,u="var o,e=kendo.htmlEncode;";if(F(t))return 2===t.length?function(n){return t(e,{data:n}).join("")}:t;for(u+=c?"with("+l+"){":"",u+="o=",r=t.replace(R,"__CURLY__").replace(I,"#=e($1)#").replace(N,"}").replace(P,"__SHARP__").split("#"),o=0;r.length>o;o++)u+=i(r[o],o%2===0);u+=c?";}":";",u+="return o;",u=u.replace(O,"#");try{return a=Function(d,u),a._slotCount=Math.floor(r.length/2),a}catch(h){throw Error(pt.format("Invalid template:'{0}' Generated code:'{1}'",t,u))}}},function(){function e(e){return o.lastIndex=0,o.test(e)?'"'+e.replace(o,function(e){var t=s[e];return typeof t===Dt?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function t(a,o){var s,d,c,u,h,p,f=n,g=o[a];if(g&&typeof g===Ft&&typeof g.toJSON===St&&(g=g.toJSON(a)),typeof r===St&&(g=r.call(o,a,g)),p=typeof g,p===Dt)return e(g);if(p===Et)return isFinite(g)?g+"":At;if(p===Mt||p===At)return g+"";if(p===Ft){if(!g)return At;if(n+=i,h=[],"[object Array]"===l.apply(g)){for(u=g.length,s=0;u>s;s++)h[s]=t(s,g)||At;return c=0===h.length?"[]":n?"[\n"+n+h.join(",\n"+n)+"\n"+f+"]":"["+h.join(",")+"]",n=f,c}if(r&&typeof r===Ft)for(u=r.length,s=0;u>s;s++)typeof r[s]===Dt&&(d=r[s],c=t(d,g),c&&h.push(e(d)+(n?": ":":")+c));else for(d in g)Object.hasOwnProperty.call(g,d)&&(c=t(d,g),c&&h.push(e(d)+(n?": ":":")+c));return c=0===h.length?"{}":n?"{\n"+n+h.join(",\n"+n)+"\n"+f+"}":"{"+h.join(",")+"}",n=f,c}}var n,i,r,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l={}.toString;typeof Date.prototype.toJSON!==St&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?a(e.getUTCFullYear(),4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof yt.stringify!==St&&(yt.stringify=function(e,a,o){var s;if(n="",i="",typeof o===Et)for(s=0;o>s;s+=1)i+=" ";else typeof o===Dt&&(i=o);if(r=a,a&&typeof a!==St&&(typeof a!==Ft||typeof a.length!==Et))throw Error("JSON.stringify");return t("",{"":e})})}(),function(){function n(e){if(e){if(e.numberFormat)return e;if(typeof e===Dt){var t=pt.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function i(e){return e&&(e=n(e)),e||pt.cultures.current}function r(e){e.groupSizes=e.groupSize,e.percent.groupSizes=e.percent.groupSize,e.currency.groupSizes=e.currency.groupSize}function o(e,n,r){r=i(r);var o=r.calendars.standard,s=o.days,l=o.months;return n=o.patterns[n]||n,n.replace(c,function(n){var i;return"d"===n?i=e.getDate():"dd"===n?i=a(e.getDate()):"ddd"===n?i=s.namesAbbr[e.getDay()]:"dddd"===n?i=s.names[e.getDay()]:"M"===n?i=e.getMonth()+1:"MM"===n?i=a(e.getMonth()+1):"MMM"===n?i=l.namesAbbr[e.getMonth()]:"MMMM"===n?i=l.names[e.getMonth()]:"yy"===n?i=a(e.getFullYear()%100):"yyyy"===n?i=a(e.getFullYear(),4):"h"===n?i=e.getHours()%12||12:"hh"===n?i=a(e.getHours()%12||12):"H"===n?i=e.getHours():"HH"===n?i=a(e.getHours()):"m"===n?i=e.getMinutes():"mm"===n?i=a(e.getMinutes()):"s"===n?i=e.getSeconds():"ss"===n?i=a(e.getSeconds()):"f"===n?i=_t.floor(e.getMilliseconds()/100):"ff"===n?(i=e.getMilliseconds(),i>99&&(i=_t.floor(i/10)),i=a(i)):"fff"===n?i=a(e.getMilliseconds(),3):"tt"===n&&(i=e.getHours()<12?o.AM[0]:o.PM[0]),i!==t?i:n.slice(1,n.length-1)})}function s(e,n,a){a=i(a);var r,o,s,d,c,y,k,w,x,C,T,S,D,E,F,A,M,H,z,I,R,N,P,O=a.numberFormat,L=O.groupSize[0],B=O[m],j=O[g],W=O.decimals,V=O.pattern[0],q=[],$=0>e,U=f,G=f,Q=-1;if(e===t)return f;if(!isFinite(e))return e;if(!n)return a.name.length?e.toLocaleString():""+e;if(c=u.exec(n)){if(n=c[1].toLowerCase(),o="c"===n,s="p"===n,(o||s)&&(O=o?O.currency:O.percent,L=O.groupSize[0],B=O[m],j=O[g],W=O.decimals,r=O.symbol,V=O.pattern[$?0:1]),d=c[2],d&&(W=+d),"e"===n)return d?e.toExponential(W):e.toExponential();if(s&&(e*=100),e=l(e,W),$=0>e,e=e.split(g),y=e[0],k=e[1],$&&(y=y.substring(1)),G=y,w=y.length,w>=L)for(G=f,C=0;w>C;C++)C>0&&(w-C)%L===0&&(G+=B),G+=y.charAt(C);if(k&&(G+=j+k),"n"===n&&!$)return G;for(e=f,C=0,T=V.length;T>C;C++)S=V.charAt(C),e+="n"===S?G:"$"===S||"%"===S?r:S;return e}if($&&(e=-e),(n.indexOf("'")>-1||n.indexOf('"')>-1||n.indexOf("\\")>-1)&&(n=n.replace(h,function(e){var t=e.charAt(0).replace("\\",""),n=e.slice(1).replace(t,"");return q.push(n),_})),n=n.split(";"),$&&n[1])n=n[1],E=!0;else if(0===e){if(n=n[2]||n[0],-1==n.indexOf(v)&&-1==n.indexOf(b))return n}else n=n[0];if(I=n.indexOf("%"),R=n.indexOf("$"),s=-1!=I,o=-1!=R,s&&(e*=100),o&&"\\"===n[R-1]&&(n=n.split("\\").join(""),o=!1),(o||s)&&(O=o?O.currency:O.percent,L=O.groupSize[0],B=O[m],j=O[g],W=O.decimals,r=O.symbol),D=n.indexOf(m)>-1,D&&(n=n.replace(p,f)),F=n.indexOf(g),T=n.length,-1!=F?(k=(""+e).split("e"),k=k[1]?l(e,Math.abs(k[1])):k[0],k=k.split(g)[1]||f,M=n.lastIndexOf(b)-F,A=n.lastIndexOf(v)-F,H=M>-1,z=A>-1,C=k.length,H||z||(n=n.substring(0,F)+n.substring(F+1),T=n.length,F=-1,C=0),H&&M>A?C=M:A>M&&(z&&C>A?C=A:H&&M>C&&(C=M)),C>-1&&(e=l(e,C))):e=l(e),A=n.indexOf(v),N=M=n.indexOf(b),Q=-1==A&&-1!=M?M:-1!=A&&-1==M?A:A>M?M:A,A=n.lastIndexOf(v),M=n.lastIndexOf(b),P=-1==A&&-1!=M?M:-1!=A&&-1==M?A:A>M?A:M,Q==T&&(P=Q),-1!=Q){if(G=(""+e).split(g),y=G[0],k=G[1]||f,w=y.length,x=k.length,$&&-1*e>=0&&($=!1),D)if(w===L&&F-N>w)y=B+y;else if(w>L){for(G=f,C=0;w>C;C++)C>0&&(w-C)%L===0&&(G+=B),G+=y.charAt(C);y=G}for(e=n.substring(0,Q),$&&!E&&(e+="-"),C=Q;T>C;C++){if(S=n.charAt(C),-1==F){if(w>P-C){e+=y;break}}else if(-1!=M&&C>M&&(U=f),w>=F-C&&F-C>-1&&(e+=y,C=F),F===C){e+=(k?j:f)+k,C+=P-F+1;continue}S===b?(e+=S,U=S):S===v&&(e+=U)}if(P>=Q&&(e+=n.substring(P+1)),o||s){for(G=f,C=0,T=e.length;T>C;C++)S=e.charAt(C),G+="$"===S||"%"===S?r:S;e=G}if(T=q.length)for(C=0;T>C;C++)e=e.replace(_,q[C])}return e}var l,d,c=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,u=/^(n|c|p|e)(\d*)$/i,h=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,p=/\,/g,f="",g=".",m=",",v="#",b="0",_="??",y="en-US",k={}.toString;pt.cultures["en-US"]={name:y,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},pt.culture=function(e){var i,a=pt.cultures;return e===t?a.current:(i=n(e)||a[y],i.calendar=i.calendars.standard,a.current=i,Nt&&r(i.numberFormat),t)},pt.findCulture=n,pt.getCulture=i,pt.culture(y),l=function(e,t){return t=t||0,e=(""+e).split("e"),e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t))),e=(""+e).split("e"),e=+(e[0]+"e"+(e[1]?+e[1]-t:-t)),e.toFixed(t)},d=function(e,n,i){if(n){if("[object Date]"===k.call(e))return o(e,n,i);if(typeof e===Et)return s(e,n,i)}return e!==t?e:""},Nt&&(d=function(t,n,i){return e.isPlainObject(i)&&(i=i.name),Nt.format(t,n,i)}),pt.format=function(e){var t=arguments;return e.replace(xt,function(e,n,i){var a=t[parseInt(n,10)+1];return d(a,i?i.substring(1):"")})},pt._extractFormat=function(e){return"{0:"===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e},pt._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},pt._round=l,pt.toString=d}(),function(){function n(e,t,n){return!(e>=t&&n>=e)}function i(e){return e.charAt(0)}function a(t){return e.map(t,i)}function r(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}function o(e){for(var t=0,n=e.length,i=[];n>t;t++)i[t]=(e[t]+"").toLowerCase();return i}function s(e){var t,n={};for(t in e)n[t]=o(e[t]);return n}function l(e,i,o){if(!e)return null;var l,d,c,p,f,g,v,b,_,y,k,w,x,C,T=function(e){for(var t=0;i[P]===e;)t++,P++;return t>0&&(P-=1),t},S=function(t){var n=m[t]||RegExp("^\\d{1,"+t+"}"),i=e.substr(O,t).match(n);return i?(i=i[0],O+=i.length,parseInt(i,10)):null},D=function(t,n){for(var i,a,r,o=0,s=t.length;s>o;o++)if(i=t[o],a=i.length,r=e.substr(O,a),n&&(r=r.toLowerCase()),r==i)return O+=a,o+1;return null},E=function(){var t=!1;return e.charAt(O)===i[P]&&(O++,t=!0),t},F=o.calendars.standard,A=null,M=null,H=null,z=null,I=null,R=null,N=null,P=0,O=0,L=!1,B=new Date,j=F.twoDigitYearMax||2029,W=B.getFullYear();for(i||(i="d"),p=F.patterns[i],p&&(i=p),i=i.split(""),c=i.length;c>P;P++)if(l=i[P],L)"'"===l?L=!1:E();else if("d"===l){if(d=T("d"),F._lowerDays||(F._lowerDays=s(F.days)),H=3>d?S(2):D(F._lowerDays[3==d?"namesAbbr":"names"],!0),null===H||n(H,1,31))return null}else if("M"===l){if(d=T("M"),F._lowerMonths||(F._lowerMonths=s(F.months)),M=3>d?S(2):D(F._lowerMonths[3==d?"namesAbbr":"names"],!0),null===M||n(M,1,12))return null;M-=1}else if("y"===l){if(d=T("y"),A=S(d),null===A)return null;2==d&&("string"==typeof j&&(j=W+parseInt(j,10)),A=W-W%100+A,A>j&&(A-=100))}else if("h"===l){if(T("h"),z=S(2),12==z&&(z=0),null===z||n(z,0,11))return null}else if("H"===l){if(T("H"),z=S(2),null===z||n(z,0,23))return null}else if("m"===l){if(T("m"),I=S(2),null===I||n(I,0,59))return null}else if("s"===l){if(T("s"),R=S(2),null===R||n(R,0,59))return null}else if("f"===l){if(d=T("f"),C=e.substr(O,d).match(m[3]),N=S(d),null!==N&&(C=C[0].length,3>C&&(N*=Math.pow(10,3-C)),d>3&&(N=parseInt((""+N).substring(0,3),10))),null===N||n(N,0,999))return null}else if("t"===l){if(d=T("t"),_=F.AM,y=F.PM,1===d&&(_=a(_),y=a(y)),f=D(y),!f&&!D(_))return null}else if("z"===l){if(g=!0,d=T("z"),"Z"===e.substr(O,1)){if(!v)return null;E();continue}if(b=e.substr(O,6).match(d>2?h:u),!b)return null;if(b=b[0],O=b.length,b=b.split(":"),k=parseInt(b[0],10),n(k,-12,13))return null;if(d>2&&(w=parseInt(b[1],10),isNaN(w)||n(w,0,59)))return null}else if("T"===l)v=E();else if("'"===l)L=!0,E();else if(!E())return null;return x=null!==z||null!==I||R||null,null===A&&null===M&&null===H&&x?(A=W,M=B.getMonth(),H=B.getDate()):(null===A&&(A=W),null===H&&(H=1)),f&&12>z&&(z+=12),g?(k&&(z+=-k),w&&(I+=-w),e=new Date(Date.UTC(A,M,H,z,I,R,N))):(e=new Date(A,M,H,z,I,R,N),r(e,z)),100>A&&e.setFullYear(A),e.getDate()!==H&&g===t?null:e}var d=/\u00A0/g,c=/[eE][\-+]?[0-9]+/,u=/[+|\-]\d{1,2}/,h=/[+|\-]\d{1,2}:\d{2}/,p=/^\/Date\((.*?)\)\/$/,f=/[+-]/,g=["G","g","d","F","D","y","m","T","t"],m={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},v={}.toString;pt.parseDate=function(e,t,n){var i,a,r,o,s;if("[object Date]"===v.call(e))return e;if(i=0,a=null,e&&0===e.indexOf("/D")&&(a=p.exec(e)))return s=a=a[1],a=parseInt(a,10),s=s.substring(1).split(f)[1],s&&(a-=parseInt(s,10)*pt.date.MS_PER_MINUTE),new Date(a);if(n=pt.getCulture(n),!t){for(t=[],o=n.calendar.patterns,r=g.length;r>i;i++)t[i]=o[g[i]];i=0,t=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"].concat(t)}for(t=mt(t)?t:[t],r=t.length;r>i;i++)if(a=l(e,t[i],n))return a;return a},pt.parseInt=function(e,t){var n=pt.parseFloat(e,t);return n&&(n=0|n),n},pt.parseFloat=function(e,t,n){if(!e&&0!==e)return null;if(typeof e===Et)return e;e=""+e,t=pt.getCulture(t);var i,a,r=t.numberFormat,o=r.percent,s=r.currency,l=s.symbol,u=o.symbol,h=e.indexOf("-");return c.test(e)?(e=parseFloat(e.replace(r["."],".")),isNaN(e)&&(e=null),e):h>0?null:(h=h>-1,e.indexOf(l)>-1||n&&n.toLowerCase().indexOf("c")>-1?(r=s,i=r.pattern[0].replace("$",l).split("n"),e.indexOf(i[0])>-1&&e.indexOf(i[1])>-1&&(e=e.replace(i[0],"").replace(i[1],""),h=!0)):e.indexOf(u)>-1&&(a=!0,r=o,l=u),e=e.replace("-","").replace(l,"").replace(d," ").split(r[","].replace(d," ")).join("").replace(r["."],"."),e=parseFloat(e),isNaN(e)?e=null:h&&(e*=-1),e&&a&&(e/=100),e)},Nt&&(pt.parseDate=function(e,t,n){return"[object Date]"===v.call(e)?e:Nt.parseDate(e,t,n)},pt.parseFloat=function(n,i){return typeof n===Et?n:n===t||null===n?null:(e.isPlainObject(i)&&(i=i.name),n=Nt.parseFloat(n,i),isNaN(n)?null:n)})}(),function(){var n,i,a,r,o,s,l;kt.scrollbar=function(){var e,t=document.createElement("div");return t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",t.innerHTML="&nbsp;",document.body.appendChild(t),e=t.offsetWidth-t.scrollWidth,document.body.removeChild(t),e},kt.isRtl=function(t){return e(t).closest(".k-rtl").length>0},n=document.createElement("table");try{n.innerHTML="<tr><td></td></tr>",kt.tbodyInnerHtml=!0}catch(c){kt.tbodyInnerHtml=!1}kt.touch="ontouchstart"in window,kt.msPointers=window.MSPointerEvent,kt.pointers=window.PointerEvent,i=kt.transitions=!1,a=kt.transforms=!1,r="HTMLElement"in window?HTMLElement.prototype:[],kt.hasHW3D="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,gt(["Moz","webkit","O","ms"],function(){var e,r=""+this,o=typeof n.style[r+"Transition"]===Dt;return o||typeof n.style[r+"Transform"]===Dt?(e=r.toLowerCase(),a={css:"ms"!=e?"-"+e+"-":"",prefix:r,event:"o"===e||"webkit"===e?e:""},o&&(i=a,i.event=i.event?i.event+"TransitionEnd":"transitionend"),!1):t}),n=null,kt.transforms=a,kt.transitions=i,kt.devicePixelRatio=window.devicePixelRatio===t?1:window.devicePixelRatio;try{kt.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth,kt.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight}catch(c){kt.screenWidth=window.screen.availWidth,kt.screenHeight=window.screen.availHeight}kt.detectOS=function(e){var t,n,i=!1,a=[],r=!/mobile safari/i.test(e),o={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},s={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},l={tablet:/playbook|ipad|fire/i},c={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome|crios/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i};for(n in o)if(o.hasOwnProperty(n)&&(a=e.match(o[n]))){if("windows"==n&&"plugins"in navigator)return!1;i={},i.device=n,i.tablet=d(n,l,!1),i.browser=d(e,c,"default"),i.name=d(n,s),i[i.name]=!0,i.majorVersion=a[2],i.minorVersion=a[3].replace("_","."),t=i.minorVersion.replace(".","").substr(0,2),i.flatVersion=i.majorVersion+t+Array(3-(3>t.length?t.length:2)).join("0"),i.cordova=typeof window.PhoneGap!==Ht||typeof window.cordova!==Ht,i.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||i.cordova,i.android&&(1.5>kt.devicePixelRatio&&400>i.flatVersion||r)&&(kt.screenWidth>800||kt.screenHeight>800)&&(i.tablet=n);break}return i},o=kt.mobileOS=kt.detectOS(navigator.userAgent),kt.wpDevicePixelRatio=o.wp?screen.width/320:0,kt.kineticScrollNeeded=o&&(kt.touch||kt.msPointers||kt.pointers),kt.hasNativeScrolling=!1,(o.ios||o.android&&o.majorVersion>2||o.wp)&&(kt.hasNativeScrolling=o),kt.mouseAndTouchPresent=kt.touch&&!(kt.mobileOS.ios||kt.mobileOS.android),kt.detectBrowser=function(e){var t,n=!1,i=[],a={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(t in a)if(a.hasOwnProperty(t)&&(i=e.match(a[t]))){n={},n[t]=!0,n[i[1].toLowerCase()]=!0,n.version=parseInt(document.documentMode||i[2],10);break}return n},kt.browser=kt.detectBrowser(navigator.userAgent),kt.zoomLevel=function(){try{return kt.touch?document.documentElement.clientWidth/window.innerWidth:kt.browser.msie&&kt.browser.version>=10?(top||window).document.documentElement.offsetWidth/(top||window).innerWidth:1}catch(e){return 1}},kt.cssBorderSpacing=t!==document.documentElement.style.borderSpacing&&!(kt.browser.msie&&8>kt.browser.version),function(t){var n="",i=e(document.documentElement),a=parseInt(t.version,10);t.msie?n="ie":t.mozilla?n="ff":t.safari?n="safari":t.webkit?n="webkit":t.opera&&(n="opera"),n&&(n="k-"+n+" k-"+n+a),kt.mobileOS&&(n+=" k-mobile"),i.addClass(n)}(kt.browser),kt.eventCapture=document.documentElement.addEventListener,s=document.createElement("input"),kt.placeholder="placeholder"in s,kt.propertyChangeEvent="onpropertychange"in s,kt.input=function(){for(var e,t=["number","date","time","month","week","datetime","datetime-local"],n=t.length,i="test",a={},r=0;n>r;r++)e=t[r],s.setAttribute("type",e),s.value=i,a[e.replace("-","")]="text"!==s.type&&s.value!==i;return a}(),s.style.cssText="float:left;",kt.cssFloat=!!s.style.cssFloat,s=null,kt.stableSort=function(){var e,t=513,n=[{index:0,field:"b"}];for(e=1;t>e;e++)n.push({index:e,field:"a"});return n.sort(function(e,t){return e.field>t.field?1:t.field>e.field?-1:0}),1===n[0].index}(),kt.matchesSelector=r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.matchesSelector||function(t){for(var n=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:e(t),i=n.length;i--;)if(n[i]==this)return!0;return!1},kt.pushState=window.history&&window.history.pushState,l=document.documentMode,kt.hashChange="onhashchange"in window&&!(kt.browser.msie&&(!l||8>=l))}(),B={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},j={},e.extend(j,{enabled:!0,Element:function(t){this.element=e(t)},promise:function(e,t){e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.hide&&e.data("olddisplay",e.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),j.promiseShim=j.promise,"kendoAnimate"in e.fn||ft(e.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,n,i){return b(this,e,t,n,i)},kendoAddClass:function(e,t){return pt.toggleClass(this,e,t,!0)},kendoRemoveClass:function(e,t){return pt.toggleClass(this,e,t,!1)},kendoToggleClass:function(e,t,n){return pt.toggleClass(this,e,t,n)}}),W=/&/g,V=/</g,q=/"/g,$=/'/g,U=/>/g,G=function(e){return e.target},kt.touch&&(G=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target},gt(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,n){e.fn[n]=function(e){return this.bind(n,e)}})),kt.touch?kt.mobileOS?(kt.mousedown="touchstart",kt.mouseup="touchend",kt.mousemove="touchmove",kt.mousecancel="touchcancel",kt.click="touchend",kt.resize="orientationchange"):(kt.mousedown="mousedown touchstart",kt.mouseup="mouseup touchend",kt.mousemove="mousemove touchmove",kt.mousecancel="mouseleave touchcancel",kt.click="click",kt.resize="resize"):kt.pointers?(kt.mousemove="pointermove",kt.mousedown="pointerdown",kt.mouseup="pointerup",kt.mousecancel="pointercancel",kt.click="pointerup",kt.resize="orientationchange resize"):kt.msPointers?(kt.mousemove="MSPointerMove",kt.mousedown="MSPointerDown",kt.mouseup="MSPointerUp",kt.mousecancel="MSPointerCancel",kt.click="MSPointerUp",kt.resize="orientationchange resize"):(kt.mousemove="mousemove",kt.mousedown="mousedown",kt.mouseup="mouseup",kt.mousecancel="mouseleave",kt.click="click",kt.resize="resize"),Q=function(e,t){var n,i,a,r,o=t||"d",s=1;for(i=0,a=e.length;a>i;i++)r=e[i],""!==r&&(n=r.indexOf("["),0!==n&&(-1==n?r="."+r:(s++,r="."+r.substring(0,n)+" || {})"+r.substring(n))),s++,o+=r+(a-1>i?" || {})":")"));return Array(s).join("(")+o},Y=/^([a-z]+:)?\/\//i,ft(pt,{ui:pt.ui||{},fx:pt.fx||m,effects:pt.effects||j,mobile:pt.mobile||{},data:pt.data||{},dataviz:pt.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:pt.support||kt,animate:pt.animate||b,ns:"",attr:function(e){return"data-"+pt.ns+e},getShadows:r,wrap:o,deepExtend:s,getComputedStyles:h,size:p,toCamelCase:u,toHyphens:c,getOffset:pt.getOffset||f,parseEffects:pt.parseEffects||g,toggleClass:pt.toggleClass||_,directions:pt.directions||B,Observable:H,Class:n,Template:E,template:vt(E.compile,E),render:vt(E.render,E),stringify:vt(yt.stringify,yt),eventTarget:G,htmlEncode:y,isLocalUrl:function(e){return e&&!Y.test(e)},expr:function(e,t,n){return e=e||"",typeof t==Dt&&(n=t,t=!1),n=n||"d",e&&"["!==e.charAt(0)&&(e="."+e),e=t?Q(e.split("."),n):n+e},getter:function(e,t){return zt[e]=zt[e]||Function("d","return "+pt.expr(e,t))},setter:function(e){return It[e]=It[e]||Function("d,value",pt.expr(e)+"=value")},accessor:function(e){return{get:pt.getter(e),set:pt.setter(e)}},guid:function(){var e,t,n="";for(e=0;32>e;e++)t=16*_t.random()|0,(8==e||12==e||16==e||20==e)&&(n+="-"),n+=(12==e?4:16==e?3&t|8:t).toString(16);return n},roleSelector:function(e){return e.replace(/(\S+)/g,"["+pt.attr("role")+"=$1],").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},logToConsole:function(e){var n=window.console;t!==n&&n.log&&n.log(e)}}),K=H.extend({init:function(e,t){var n=this;n.element=pt.jQuery(e).handler(n),H.fn.init.call(n),t=n.options=ft(!0,{},n.options,t),n.element.attr(pt.attr("role"))||n.element.attr(pt.attr("role"),(t.name||"").toLowerCase()),n.element.data("kendo"+t.prefix+t.name,n),n.bind(n.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(e){e=e||this.wrapper;var t=this.element,n="tabindex",i=e.attr(n)||t.attr(n);t.removeAttr(n),e.attr(n,isNaN(i)?0:i)},setOptions:function(t){this._setEvents(t),e.extend(this.options,t)},_setEvents:function(e){for(var t,n=this,i=0,a=n.events.length;a>i;i++)t=n.events[i],n.options[t]&&e[t]&&n.unbind(t,n.options[t]);n.bind(n.events,e)},resize:function(e){var t=this.getSize(),n=this._size;(e||!n||t.width!==n.width||t.height!==n.height)&&(this._resize(t),this.trigger("resize",t),this._size=t)
},getSize:function(){return pt.dimensions(this.element)},size:function(e){return e?(this.setSize(e),t):this.getSize()},setSize:e.noop,_resize:e.noop,destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name),e.element.removeData("handler"),e.unbind()}}),pt.dimensions=function(e,t){var n=e[0];return t&&e.css(t),{width:n.offsetWidth,height:n.offsetHeight}},pt.notify=bt,X=/template$/i,J=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,Z=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,et=/([A-Z])/g,pt.initWidget=function(n,i,a){var r,o,s,l,d,c,u,h;if(a?a.roles&&(a=a.roles):a=pt.ui.roles,n=n.nodeType?n:n[0],c=n.getAttribute("data-"+pt.ns+"role"),c&&(s=-1===c.indexOf(".")?a[c]:pt.getter(c)(window))){for(h=k(n,"dataSource"),i=e.extend({},w(n,s.fn.options),i),h&&(i.dataSource=typeof h===Dt?pt.getter(h)(window):h),l=0,d=s.fn.events.length;d>l;l++)o=s.fn.events[l],u=k(n,o),u!==t&&(i[o]=pt.getter(u)(window));return r=e(n).data("kendo"+s.fn.options.prefix+s.fn.options.name),r?r.setOptions(i):r=new s(n,i),r}},pt.rolesFromNamespaces=function(e){var t,n,i=[];for(e[0]||(e=[pt.ui,pt.dataviz.ui]),t=0,n=e.length;n>t;t++)i[t]=e[t].roles;return ft.apply(null,[{}].concat(i.reverse()))},pt.init=function(t){var n=pt.rolesFromNamespaces(Rt.call(arguments,1));e(t).find("[data-"+pt.ns+"role]").addBack().each(function(){pt.initWidget(this,{},n)})},pt.destroy=function(t){e(t).find("[data-"+pt.ns+"role]").addBack().each(function(){var t=pt.widgetInstance(e(this));t&&t.destroy()})},pt.resize=function(t){var n,i=e(t).find("[data-"+pt.ns+"role]").addBack().filter(C);i.length&&(n=e.makeArray(i),n.sort(x),e.each(n,function(){var t=pt.widgetInstance(e(this));t&&t.resize()}))},pt.parseOptions=w,ft(pt.ui,{Widget:K,roles:{},progress:function(t,n){var i,a,r,o,s=t.find(".k-loading-mask"),l=pt.support,d=l.browser;n?s.length||(i=l.isRtl(t),a=i?"right":"left",o=t.scrollLeft(),r=d.webkit&&i?t[0].scrollWidth-t.width()-2*o:0,s=e("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",t.scrollTop()).css(a,Math.abs(o)+r).prependTo(t)):s&&s.remove()},plugin:function(n,i,a){var r,o=n.fn.options.name;i=i||pt.ui,a=a||"",i[o]=n,i.roles[o.toLowerCase()]=n,r="getKendo"+a+o,o="kendo"+a+o,e.fn[o]=function(i){var a,r=this;return typeof i===Dt?(a=Rt.call(arguments,1),this.each(function(){var n,s,l=e.data(this,o);if(!l)throw Error(pt.format("Cannot call method '{0}' of {1} before it is initialized",i,o));if(n=l[i],typeof n!==St)throw Error(pt.format("Cannot find method '{0}' of {1}",i,o));return s=n.apply(l,a),s!==t?(r=s,!1):t})):this.each(function(){new n(this,i)}),r},e.fn[r]=function(){return this.data(o)}}}),tt={bind:function(){return this},nullObject:!0},nt=K.extend({init:function(e,t){K.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){K.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(pt.roleSelector("view splitview modalview drawer"));return pt.widgetInstance(e,pt.mobile.ui)||tt},viewHasNativeScrolling:function(){var e=this.view();return e&&e.options.useNativeScrolling},container:function(){var e=this.element.closest(pt.roleSelector("view layout modalview drawer"));return pt.widgetInstance(e,pt.mobile.ui)||tt}}),ft(pt.mobile,{init:function(e){pt.init(e,pt.mobile.ui,pt.ui,pt.dataviz.ui)},appLevelNativeScrolling:function(){return pt.mobile.application&&pt.mobile.application.options&&pt.mobile.application.options.useNativeScrolling},ui:{Widget:nt,roles:{},plugin:function(e){pt.ui.plugin(e,pt.mobile.ui,"Mobile")}}}),pt.touchScroller=function(t,n){return e(t).map(function(t,i){return i=e(i),kt.kineticScrollNeeded&&pt.mobile.ui.Scroller&&!i.data("kendoMobileScroller")?(i.kendoMobileScroller(n),i.data("kendoMobileScroller")):!1})[0]},pt.preventDefault=function(e){e.preventDefault()},pt.widgetInstance=function(e,t){var n,i,a,r,o=e.data(pt.ns+"role"),s=[];if(o){if("content"===o&&(o="scroller"),t)if(t[0])for(n=0,i=t.length;i>n;n++)s.push(t[n].roles[o]);else s.push(t.roles[o]);else s=[pt.ui.roles[o],pt.dataviz.ui.roles[o],pt.mobile.ui.roles[o]];for(o.indexOf(".")>=0&&(s=[pt.getter(o)(window)]),n=0,i=s.length;i>n;n++)if(a=s[n],a&&(r=e.data("kendo"+a.fn.options.prefix+a.fn.options.name)))return r}},pt.onResize=function(t){var n=t;return kt.mobileOS.android&&(n=function(){setTimeout(t,600)}),e(window).on(kt.resize,n),n},pt.unbindResize=function(t){e(window).off(kt.resize,t)},pt.attrValue=function(e,t){return e.data(pt.ns+t)},pt.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},e.extend(e.expr[":"],{kendoFocusable:function(t){var n=e.attr(t,"tabindex");return T(t,!isNaN(n)&&n>-1)}}),it=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],at="label, input, [data-rel=external]",rt={setupMouseMute:function(){var t,n=0,i=it.length,a=document.documentElement;if(!rt.mouseTrap&&kt.eventCapture)for(rt.mouseTrap=!0,rt.bustClick=!1,rt.captureMouse=!1,t=function(t){rt.captureMouse&&("click"===t.type?rt.bustClick&&!e(t.target).is(at)&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};i>n;n++)a.addEventListener(it[n],t,!0)},muteMouse:function(e){rt.captureMouse=!0,e.data.bustClick&&(rt.bustClick=!0),clearTimeout(rt.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(rt.mouseTrapTimeoutID),rt.mouseTrapTimeoutID=setTimeout(function(){rt.captureMouse=!1,rt.bustClick=!1},400)}},ot={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},kt.touch&&(kt.mobileOS.ios||kt.mobileOS.android)?ot={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:kt.pointers?ot={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:kt.msPointers&&(ot={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!kt.msPointers||"onmspointerenter"in window||e.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var i,a=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==a&&!e.contains(a,r))&&(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=n),i}}}),st=function(e){return ot[e]||e},lt=/([^ ]+)/g,pt.applyEventMap=function(e,t){return e=e.replace(lt,st),t&&(e=e.replace(lt,"$1."+t)),e},dt=e.fn.on,ft(!0,D,e),D.fn=D.prototype=new e,D.fn.constructor=D,D.fn.init=function(t,n){return n&&n instanceof e&&!(n instanceof D)&&(n=D(n)),e.fn.init.call(this,t,n,ct)},D.fn.init.prototype=D.fn,ct=D(document),ft(D.fn,{handler:function(e){return this.data("handler",e),this},autoApplyNS:function(e){return this.data("kendoNS",e||pt.guid()),this},on:function(){var e,t,n,i,a,r,o=this,s=o.data("kendoNS");return 1===arguments.length?dt.call(o,arguments[0]):(e=o,t=Rt.call(arguments),typeof t[t.length-1]===Ht&&t.pop(),n=t[t.length-1],i=pt.applyEventMap(t[0],s),kt.mouseAndTouchPresent&&i.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(rt.setupMouseMute(),a=2===t.length?null:t[1],r=i.indexOf("click")>-1&&i.indexOf("touchend")>-1,dt.call(this,{touchstart:rt.muteMouse,touchend:rt.unMuteMouse},a,{bustClick:r})),typeof n===Dt&&(e=o.data("handler"),n=e[n],t[t.length-1]=function(t){n.call(e,t)}),t[0]=i,dt.apply(o,t),o)},kendoDestroy:function(e){return e=e||this.data("kendoNS"),e&&this.off("."+e),this}}),pt.jQuery=D,pt.eventMap=ot,pt.timezone=function(){function e(e,t){var n,i,a,r=t[3],o=t[4],s=t[5],l=t[8];return l||(t[8]=l={}),l[e]?l[e]:(isNaN(o)?0===o.indexOf("last")?(n=new Date(Date.UTC(e,c[r]+1,1,s[0]-24,s[1],s[2],0)),i=u[o.substr(4,3)],a=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+i-a-(i>a?7:0))):o.indexOf(">=")>=0&&(n=new Date(Date.UTC(e,c[r],o.substr(5),s[0],s[1],s[2],0)),i=u[o.substr(0,3)],a=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+i-a+(a>i?7:0))):n=new Date(Date.UTC(e,c[r],o,s[0],s[1],s[2],0)),l[e]=n)}function t(t,n,i){var a,r,o,s;return(n=n[i])?(o=new Date(t).getUTCFullYear(),n=jQuery.grep(n,function(e){var t=e[0],n=e[1];return o>=t&&(n>=o||t==o&&"only"==n||"max"==n)}),n.push(t),n.sort(function(t,n){return"number"!=typeof t&&(t=+e(o,t)),"number"!=typeof n&&(n=+e(o,n)),t-n}),s=n[jQuery.inArray(t,n)-1]||n[n.length-1],isNaN(s)?s:null):(a=i.split(":"),r=0,a.length>1&&(r=60*a[0]+ +a[1]),[-1e6,"max","-","Jan",1,[0,0,0],r,"-"])}function n(e,t,n){var i,a,r,o=t[n];if("string"==typeof o&&(o=t[o]),!o)throw Error('Timezone "'+n+'" is either incorrect, or kendo.timezones.min.js is not included.');for(i=o.length-1;i>=0&&(a=o[i][3],!(a&&e>a));i--);if(r=o[i+1],!r)throw Error('Timezone "'+n+'" not found on '+e+".");return r}function i(e,i,a,r){typeof e!=Et&&(e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));var o=n(e,i,r);return{zone:o,rule:t(e,a,o[1])}}function a(e,t){var n,a,r;return"Etc/UTC"==t||"Etc/GMT"==t?0:(n=i(e,this.zones,this.rules,t),a=n.zone,r=n.rule,r?a[0]-r[6]:a[0])}function r(e,t){var n=i(e,this.zones,this.rules,t),a=n.zone,r=n.rule,o=a[2];return o.indexOf("/")>=0?o.split("/")[r&&+r[6]?1:0]:o.indexOf("%s")>=0?o.replace("%s",r&&"-"!=r[7]?r[7]:""):o}function o(e,t,n){var i,a;return typeof t==Dt&&(t=this.offset(e,t)),typeof n==Dt&&(n=this.offset(e,n)),i=e.getTimezoneOffset(),e=new Date(e.getTime()+6e4*(t-n)),a=e.getTimezoneOffset(),new Date(e.getTime()+6e4*(a-i))}function s(e,t){return this.convert(e,e.getTimezoneOffset(),t)}function l(e,t){return this.convert(e,t,e.getTimezoneOffset())}function d(e){return this.apply(new Date(e),"Etc/UTC")}var c={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},u={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:a,convert:o,apply:s,remove:l,abbr:r,toLocalDate:d}}(),pt.date=function(){function e(e,t){return 0===t&&23===e.getHours()?(e.setHours(e.getHours()+2),!0):!1}function t(t,n,i){var a=t.getHours();i=i||1,n=(n-t.getDay()+7*i)%7,t.setDate(t.getDate()+n),e(t,a)}function n(e,n,i){return e=new Date(e),t(e,n,i),e}function i(e){return new Date(e.getFullYear(),e.getMonth(),1)}function a(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),n=i(e),a=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return a&&t.setHours(n.getHours()+a/60),t}function r(t){return t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),e(t,0),t}function o(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function s(e){return e.getTime()-r(e)}function l(e,t,n){var i,a=s(t),r=s(n);return e&&a!=r?(t>=n&&(n+=m),i=s(e),a>i&&(i+=m),a>r&&(r+=m),i>=a&&r>=i):!0}function d(e,t,n){var i,a=t.getTime(),r=n.getTime();return a>=r&&(r+=m),i=e.getTime(),i>=a&&r>=i}function c(t,n){var i=t.getHours();return t=new Date(t),u(t,n*m),e(t,i),t}function u(e,t,n){var i,a=e.getTimezoneOffset();e.setTime(e.getTime()+t),n||(i=e.getTimezoneOffset()-a,e.setTime(e.getTime()+i*g))}function h(){return r(new Date)}function p(e){return r(e).getTime()==h().getTime()}function f(e){var t=new Date(1980,1,1,0,0,0);return e&&t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}var g=6e4,m=864e5;return{adjustDST:e,dayOfWeek:n,setDayOfWeek:t,getDate:r,isInDateRange:d,isInTimeRange:l,isToday:p,nextDay:function(e){return c(e,1)},previousDay:function(e){return c(e,-1)},toUtcTime:o,MS_PER_DAY:m,MS_PER_HOUR:60*g,MS_PER_MINUTE:g,setTime:u,addDays:c,today:h,toInvariantTime:f,firstDayOfMonth:i,lastDayOfMonth:a,getMilliseconds:s}}(),pt.stripWhitespace=function(e){var t,n,i;if(document.createNodeIterator)for(t=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);t.nextNode();)t.referenceNode&&!t.referenceNode.textContent.trim()&&t.referenceNode.parentNode.removeChild(t.referenceNode);else for(n=0;e.childNodes.length>n;n++)i=e.childNodes[n],3!=i.nodeType||/\S/.test(i.nodeValue)||(e.removeChild(i),n--),1==i.nodeType&&pt.stripWhitespace(i)},ut=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},pt.animationFrame=function(e){ut.call(window,e)},ht=[],pt.queueAnimation=function(e){ht[ht.length]=e,1===ht.length&&pt.runNextAnimation()},pt.runNextAnimation=function(){pt.animationFrame(function(){ht[0]&&(ht.shift()(),ht[0]&&pt.runNextAnimation())})},pt.parseQueryStringParams=function(e){for(var t=e.split("?")[1]||"",n={},i=t.split(/&|=/),a=i.length,r=0;a>r;r+=2)""!==i[r]&&(n[decodeURIComponent(i[r])]=decodeURIComponent(i[r+1]));return n},pt.elementUnderCursor=function(e){return document.elementFromPoint(e.x.client,e.y.client)},pt.wheelDeltaY=function(e){var n,i=e.originalEvent,a=i.wheelDeltaY;return i.wheelDelta?(a===t||a)&&(n=i.wheelDelta):i.detail&&i.axis===i.VERTICAL_AXIS&&(n=10*-i.detail),n},pt.caret=function(n,i,a){var r,o,s,l,d=i!==t;if(a===t&&(a=i),n[0]&&(n=n[0]),!d||!n.disabled){try{n.selectionStart!==t?d?(n.focus(),n.setSelectionRange(i,a)):i=[n.selectionStart,n.selectionEnd]:document.selection&&(e(n).is(":visible")&&n.focus(),r=n.createTextRange(),d?(r.collapse(!0),r.moveStart("character",i),r.moveEnd("character",a-i),r.select()):(o=r.duplicate(),r.moveToBookmark(document.selection.createRange().getBookmark()),o.setEndPoint("EndToStart",r),s=o.text.length,l=s+r.text.length,i=[s,l]))}catch(c){i=[]}return i}}}(jQuery),function(){return function(e,t){function n(e,t){if(!t)return e;e+"/"===t&&(e=t);var n=RegExp("^"+t,"i");return n.test(e)||(e=t+"/"+e),p.protocol+"//"+(p.host+"/"+e).replace(/\/\/+/g,"/")}function i(e){return e?"#!":"#"}function a(e){var t=p.href;return"#!"===e&&t.indexOf("#")>-1&&t.indexOf("#!")<0?null:t.split(e)[1]||""}function r(e,t){return 0===t.indexOf(e)?t.substr(e.length).replace(/\/\//g,"/"):t}function o(e){return e.replace(/^(#)?/,"#")}function s(e){return e.replace(/^(#(!)?)?/,"#!")}var l=window.kendo,d="change",c="back",u="same",h=l.support,p=window.location,f=window.history,g=50,m=l.support.browser.msie,v=/^#*/,b=window.document,_=l.Class.extend({back:function(){m?setTimeout(function(){f.back()}):f.back()},forward:function(){m?setTimeout(function(){f.forward()}):f.forward()},length:function(){return f.length},replaceLocation:function(e){p.replace(e)}}),y=_.extend({init:function(e){this.root=e},navigate:function(e){f.pushState({},b.title,n(e,this.root))},replace:function(e){f.replaceState({},b.title,n(e,this.root))},normalize:function(e){return r(this.root,e)},current:function(){var e=p.pathname;return p.search&&(e+=p.search),r(this.root,e)},change:function(t){e(window).bind("popstate.kendo",t)},stop:function(){e(window).unbind("popstate.kendo")},normalizeCurrent:function(e){var t,r=e.root,o=p.pathname,s=a(i(e.hashBang));r===o+"/"&&(t=r),r===o&&s&&(t=n(s.replace(v,""),r)),t&&f.pushState({},b.title,t)}}),k=_.extend({init:function(e){this._id=l.guid(),this.prefix=i(e),this.fix=e?s:o},navigate:function(e){p.hash=this.fix(e)},replace:function(e){this.replaceLocation(this.fix(e))},normalize:function(e){return e.indexOf(this.prefix)<0?e:e.split(this.prefix)[1]},change:function(t){h.hashChange?e(window).on("hashchange."+this._id,t):this._interval=setInterval(t,g)},stop:function(){e(window).off("hashchange."+this._id),clearInterval(this._interval)},current:function(){return a(this.prefix)},normalizeCurrent:function(e){var t=p.pathname,n=e.root;return e.pushState&&n!==t?(this.replaceLocation(n+this.prefix+r(n,t)),!0):!1}}),w=l.Observable.extend({start:function(t){if(t=t||{},this.bind([d,c,u],t),!this._started){this._started=!0,t.root=t.root||"/";var n,i=this.createAdapter(t);i.normalizeCurrent(t)||(n=i.current(),e.extend(this,{adapter:i,root:t.root,historyLength:i.length(),current:n,locations:[n]}),i.change(e.proxy(this,"_checkUrl")))}},createAdapter:function(e){return h.pushState&&e.pushState?new y(e.root):new k(e.hashBang)},stop:function(){this._started&&(this.adapter.stop(),this.unbind(d),this._started=!1)},change:function(e){this.bind(d,e)},replace:function(e,t){this._navigate(e,t,function(t){t.replace(e),this.locations[this.locations-1]=this.current})},navigate:function(e,n){return"#:back"===e?(this.adapter.back(),t):(this._navigate(e,n,function(t){t.navigate(e),this.locations.push(this.current)}),t)},_navigate:function(e,n,i){var a=this.adapter;return e=a.normalize(e),this.current===e||this.current===decodeURIComponent(e)?(this.trigger(u),t):((n||!this.trigger(d,{url:e}))&&(this.current=e,i.call(this,a),this.historyLength=a.length()),t)},_checkUrl:function(){var e=this.adapter,n=e.current(),i=e.length(),a=this.historyLength===i,r=n===this.locations[this.locations.length-2]&&a,o=this.current;return null===n||this.current===n||this.current===decodeURIComponent(n)?!0:(this.historyLength=i,this.current=n,r&&this.trigger("back",{url:o,to:n})?(e.forward(),this.current=o,t):this.trigger(d,{url:n})?(r?e.forward():(e.back(),this.historyLength--),this.current=o,t):(r?this.locations.pop():this.locations.push(n),t))}});l.History=w,l.History.HistoryAdapter=_,l.History.HashAdapter=k,l.History.PushStateAdapter=y,l.absoluteURL=n,l.history=new w}(window.kendo.jQuery),function(){function e(e,t){return t?e:"([^/]+)"}function t(t){return RegExp("^"+t.replace(f,"\\$&").replace(u,"(?:$1)?").replace(h,e).replace(p,"(.*?)")+"$")}function n(e){return e.replace(/(\?.*)|(#.*)/g,"")}var i=window.kendo,a=i.history,r=i.Observable,o="init",s="routeMissing",l="change",d="back",c="same",u=/\((.*?)\)/g,h=/(\(\?)?:\w+/g,p=/\*\w+/g,f=/[\-{}\[\]+?.,\\\^$|#\s]/g,g=i.Class.extend({init:function(e,n){e instanceof RegExp||(e=t(e)),this.route=e,this._callback=n},callback:function(e){var t,a,r=0,o=i.parseQueryStringParams(e);for(e=n(e),t=this.route.exec(e).slice(1),a=t.length;a>r;r++)void 0!==t[r]&&(t[r]=decodeURIComponent(t[r]));t.push(o),this._callback.apply(null,t)},worksWith:function(e){return this.route.test(n(e))?(this.callback(e),!0):!1}}),m=r.extend({init:function(e){e||(e={}),r.fn.init.call(this),this.routes=[],this.pushState=e.pushState,this.hashBang=e.hashBang,this.root=e.root,this.bind([o,s,l,c],e)},destroy:function(){a.unbind(l,this._urlChangedProxy),a.unbind(c,this._sameProxy),a.unbind(d,this._backProxy),this.unbind()},start:function(){var e,t=this,n=function(){t._same()},i=function(e){t._back(e)},r=function(e){t._urlChanged(e)};a.start({same:n,change:r,back:i,pushState:t.pushState,hashBang:t.hashBang,root:t.root}),e={url:a.current||"/",preventDefault:$.noop},t.trigger(o,e)||t._urlChanged(e),this._urlChangedProxy=r,this._backProxy=i},route:function(e,t){this.routes.push(new g(e,t))},navigate:function(e,t){i.history.navigate(e,t)},replace:function(e,t){i.history.replace(e,t)},_back:function(e){this.trigger(d,{url:e.url,to:e.to})&&e.preventDefault()},_same:function(){this.trigger(c)},_urlChanged:function(e){var t,n,a,r,o=e.url;if(o||(o="/"),this.trigger(l,{url:e.url,params:i.parseQueryStringParams(e.url)}))return void e.preventDefault();for(t=0,n=this.routes,r=n.length;r>t;t++)if(a=n[t],a.worksWith(o))return;this.trigger(s,{url:o,params:i.parseQueryStringParams(o)})&&e.preventDefault()}});i.Router=m}(),window.kendo}(),function(e,t){function n(a){var o,s,l,d,c,u,h,p,f=[],g=a.logic||"and",m=a.filters;for(o=0,s=m.length;s>o;o++)a=m[o],l=a.field,h=a.value,u=a.operator,a.filters?a=n(a):(p=a.ignoreCase,l=l.replace(/\./g,"/"),a=r[u],a&&h!==t&&(d=e.type(h),"string"===d?(c="'{1}'",h=h.replace(/'/g,"''"),p===!0&&(l="tolower("+l+")")):c="date"===d?"datetime'{1:yyyy-MM-ddTHH:mm:ss}'":"{1}",a.length>3?"substringof"!==a?c="{0}({2},"+c+")":(c="{0}("+c+",{2})","doesnotcontain"===u&&(c+=" eq false")):c="{2} {0} "+c,a=i.format(c,a,h,l))),f.push(a);return a=f.join(" "+g+" "),f.length>1&&(a="("+a+")"),a}var i=window.kendo,a=e.extend,r={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},o={pageSize:e.noop,page:e.noop,filter:function(e,t){t&&(e.$filter=n(t))},sort:function(t,n){var i=e.map(n,function(e){var t=e.field.replace(/\./g,"/");return"desc"===e.dir&&(t+=" desc"),t}).join(",");i&&(t.$orderby=i)},skip:function(e,t){t&&(e.$skip=t)},take:function(e,t){t&&(e.$top=t)}},s={read:{dataType:"jsonp"}};a(!0,i.data,{schemas:{odata:{type:"json",data:function(e){return e.d.results||[e.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(e,t){var n,a,r,l;if(e=e||{},t=t||"read",l=(this.options||s)[t],l=l?l.dataType:"json","read"===t){n={$inlinecount:"allpages"},"json"!=l&&(n.$format="json");for(r in e)o[r]?o[r](n,e[r]):n[r]=e[r]}else{if("json"!==l)throw Error("Only json dataType can be used for "+t+" operation.");if("destroy"!==t){for(r in e)a=e[r],"number"==typeof a&&(e[r]=a+"");n=i.stringify(e)}}return n}}}})}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=e.isArray,a=e.isPlainObject,r=e.map,o=e.each,s=e.extend,l=n.getter,d=n.Class,c=d.extend({init:function(e){var t,l,d,c,u=this,h=e.total,p=e.model,f=e.parse,g=e.errors,m=e.serialize,v=e.data;p&&(a(p)&&(t=e.modelBase||n.data.Model,p.fields&&o(p.fields,function(e,t){t=a(t)&&t.field?s(t,{field:u.getter(t.field)}):{field:u.getter(t)},p.fields[e]=t}),l=p.id,l&&(d={},d[u.xpathToMember(l,!0)]={field:u.getter(l)},p.fields=s(d,p.fields),p.id=u.xpathToMember(l)),p=t.define(p)),u.model=p),h&&("string"==typeof h?(h=u.getter(h),u.total=function(e){return parseInt(h(e),10)}):"function"==typeof h&&(u.total=h)),g&&("string"==typeof g?(g=u.getter(g),u.errors=function(e){return g(e)||null}):"function"==typeof g&&(u.errors=g)),v&&("string"==typeof v?(v=u.xpathToMember(v),u.data=function(e){var t,n=u.evaluate(e,v);return n=i(n)?n:[n],u.model&&p.fields?(t=new u.model,r(n,function(e){if(e){var n,i={};for(n in p.fields)i[n]=t._parse(n,p.fields[n].field(e));return i}})):n}):"function"==typeof v&&(u.data=v)),"function"==typeof f&&(c=u.parse,u.parse=function(e){var t=f.call(u,e);return c.call(u,t)}),"function"==typeof m&&(u.serialize=m)},total:function(e){return this.data(e).length},errors:function(e){return e?e.errors:null},serialize:function(e){return e},parseDOM:function(e){var n,a,r,o,s,l,d,c={},u=e.attributes,h=u.length;for(d=0;h>d;d++)l=u[d],c["@"+l.nodeName]=l.nodeValue;for(a=e.firstChild;a;a=a.nextSibling)r=a.nodeType,3===r||4===r?c["#text"]=a.nodeValue:1===r&&(n=this.parseDOM(a),o=a.nodeName,s=c[o],i(s)?s.push(n):s=s!==t?[s,n]:n,c[o]=s);return c},evaluate:function(e,t){for(var n,a,r,o,s,l=t.split(".");n=l.shift();)if(e=e[n],i(e)){for(a=[],t=l.join("."),s=0,r=e.length;r>s;s++)o=this.evaluate(e[s],t),o=i(o)?o:[o],a.push.apply(a,o);return a}return e},parse:function(t){var n,i,a={};return n=t.documentElement||e.parseXML(t).documentElement,i=this.parseDOM(n),a[n.nodeName]=i,a},xpathToMember:function(e,t){return e?(e=e.replace(/^\//,"").replace(/\//g,"."),e.indexOf("@")>=0?e.replace(/\.?(@.*)/,t?"$1":'["$1"]'):e.indexOf("text()")>=0?e.replace(/(\.?text\(\))/,t?"#text":'["#text"]'):e):""},getter:function(e){return l(this.xpathToMember(e),!0)}});e.extend(!0,n.data,{XmlDataReader:c,readers:{xml:c}})}(window.kendo.jQuery),function(e,t){function n(e,t,n,i){return function(a){var r,o={};for(r in a)o[r]=a[r];o.field=i?n+"."+a.field:n,t==vt&&e._notifyChange&&e._notifyChange(o),e.trigger(t,o)}}function i(t,n){if(t===n)return!0;var a,r=e.type(t),o=e.type(n);if(r!==o)return!1;if("date"===r)return t.getTime()===n.getTime();if("object"!==r&&"array"!==r)return!1;for(a in t)if(!i(t[a],n[a]))return!1;return!0}function a(e,t){var n,i;for(i in e){if(n=e[i],et(n)&&n.field&&n.field===t)return n;if(n===t)return n}return null}function r(e){this.data=e||[]}function o(e,n){if(e){var i=typeof e===ut?{field:e,dir:n}:e,a=nt(i)?i:i!==t?[i]:[];return it(a,function(e){return!!e.dir})}}function s(e){var t,n,i,a,r=e.filters;if(r)for(t=0,n=r.length;n>t;t++)i=r[t],a=i.operator,a&&typeof a===ut&&(i.operator=B[a.toLowerCase()]||a),s(i)}function l(e){return e&&!tt(e)?((nt(e)||!e.filters)&&(e={logic:"and",filters:nt(e)?e:[e]}),s(e),e):t}function d(e){return nt(e)?e:[e]}function c(e,n){var i=typeof e===ut?{field:e,dir:n}:e,a=nt(i)?i:i!==t?[i]:[];return N(a,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates}})}function u(e,t){return e&&e.getTime&&t&&t.getTime?e.getTime()===t.getTime():e===t}function h(e,t,n,i,a,r){var o,s,l,d,c;for(t=t||[],d=t.length,o=0;d>o;o++)s=t[o],l=s.aggregate,c=s.field,e[c]=e[c]||{},r[c]=r[c]||{},r[c][l]=r[c][l]||{},e[c][l]=j[l.toLowerCase()](e[c][l],n,st.accessor(c),i,a,r[c][l])}function p(e){return"number"==typeof e&&!isNaN(e)}function f(e){var t,n=e.length,i=Array(n);for(t=0;n>t;t++)i[t]=e[t].toJSON();return i}function g(e,t){t=t||{};var n=new r(e),i=t.aggregate,a=t.filter;return a&&(n=n.filter(a)),n.aggregate(i)}function m(e,t,n,i,a){var r,o,s,l,d;for(l=0,d=e.length;d>l;l++){r=e[l];for(o in t)s=a[o],s&&s!==o&&(r[s]=t[o](r),delete r[o])}}function v(e,t,n,i,a){var r,o,s,l,d;for(l=0,d=e.length;d>l;l++){r=e[l];for(o in t)r[o]=n._parse(o,t[o](r)),s=a[o],s&&s!==o&&delete r[s]}}function b(e,t,n,i,a){var r,o,s,l;for(o=0,l=e.length;l>o;o++)r=e[o],s=i[r.field],s&&s!=r.field&&(r.field=s),r.value=n._parse(r.field,r.value),r.hasSubgroups?b(r.items,t,n,i,a):v(r.items,t,n,i,a)}function _(e,t,n,i,a,r){return function(o){return o=e(o),o&&!tt(i)&&("[object Array]"===Nt.call(o)||o instanceof jt||(o=[o]),n(o,i,new t,a,r)),o||[]}}function y(e,t,n,i){for(var a,r,o,s=0;t.length&&i&&(a=t[s],r=a.items,o=r.length,e&&e.field===a.field&&e.value===a.value?(e.hasSubgroups&&e.items.length?y(e.items[e.items.length-1],a.items,n,i):(r=r.slice(n,n+i),e.items=e.items.concat(r)),t.splice(s--,1)):a.hasSubgroups&&r.length?y(a,r,n,i):(r=r.slice(n,n+i),a.items=r,a.items.length||t.splice(s--,1)),0===r.length?n-=o:(n=0,i-=r.length),!(++s>=t.length)););t.length>s&&t.splice(s,t.length-s)}function k(e){var t,n,i=[];for(t=0,n=e.length;n>t;t++)i=i.concat(e[t].hasSubgroups?k(e[t].items):e[t].items.slice());return i}function w(e,t){var n,i,a,r;if(t)for(n=0,i=e.length;i>n;n++)a=e[n],r=a.items,a.hasSubgroups?w(r,t):!r.length||r[0]instanceof t||(r.type=t,r.wrapAll(r,r))}function x(e,t){var n,i;for(n=0,i=e.length;i>n;n++)if(e[n].hasSubgroups){if(x(e[n].items,t))return!0}else if(t(e[n].items,e[n]))return!0}function C(e,t){var n,i;for(n=0,i=e.length;i>n;n++)if(e[n].uid==t.uid)return t=e[n],e.splice(n,1),t}function T(e,t){var n,i,a,r;for(a=e.length-1,r=0;a>=r;a--)i=e[a],n={value:t.get(i.field),field:i.field,items:n?[n]:[t],hasSubgroups:!!n,aggregates:{}};return n}function S(e,t){return t?E(e,function(e){return e[t.idField]===t.id}):-1}function D(e,t){return t?E(e,function(e){return e.uid==t.uid}):-1}function E(e,t){var n,i;for(n=0,i=e.length;i>n;n++)if(t(e[n]))return n;return-1}function F(e,t){var n,i;return e&&!tt(e)?(n=e[t],i=et(n)?n.from||n.field||t:e[t]||t,lt(i)?t:i):t}function A(e,t){var n,i,a,r={};for(a in e)"filters"!==a&&(r[a]=e[a]);if(e.filters)for(r.filters=[],n=0,i=e.filters.length;i>n;n++)r.filters[n]=A(e.filters[n],t);else r.field=F(t.fields,r.field);return r}function M(e,t){var n,i,a,r,o,s=[];for(n=0,i=e.length;i>n;n++){a={},r=e[n];for(o in r)a[o]=r[o];a.field=F(t.fields,a.field),a.aggregates&&nt(a.aggregates)&&(a.aggregates=M(a.aggregates,t)),s.push(a)}return s}function H(t,n){var i,a,r,o,s,l=e(t)[0].children,d=[],c=n[0],u=n[1];for(i=0,a=l.length;a>i;i++)r={},s=l[i],s.disabled||(r[c.field]=s.text,o=s.attributes.value,o=o&&o.specified?s.value:s.text,r[u.field]=o,d.push(r));return d}function z(t,n){var i,a,r,o,s,l,d,c=e(t)[0].tBodies[0],u=c?c.rows:[],h=n.length,p=[];for(i=0,a=u.length;a>i;i++){for(s={},d=!0,o=u[i].cells,r=0;h>r;r++)l=o[r],"th"!==l.nodeName.toLowerCase()&&(d=!1,s[n[r].field]=l.innerHTML);d||p.push(s)}return p}function I(e){return function(){var t=this._data,n=U.fn[e].apply(this,It.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),n}}function R(t,n){function i(e,t){return e.filter(t).add(e.find(t))}var a,r,o,s,l,d,c,u,h=e(t).children(),p=[],f=n[0].field,g=n[1]&&n[1].field,m=n[2]&&n[2].field,v=n[3]&&n[3].field;for(a=0,r=h.length;r>a;a++)o={_loaded:!0},s=h.eq(a),d=s[0].firstChild,u=s.children(),t=u.filter("ul"),u=u.filter(":not(ul)"),l=s.attr("data-id"),l&&(o.id=l),d&&(o[f]=3==d.nodeType?d.nodeValue:u.text()),g&&(o[g]=i(u,"a").attr("href")),v&&(o[v]=i(u,"img").attr("src")),m&&(c=i(u,".k-sprite").prop("className"),o[m]=c&&e.trim(c.replace("k-sprite",""))),t.length&&(o.items=R(t.eq(0),n)),"true"==s.attr("data-hasChildren")&&(o.hasChildren=!0),p.push(o);return p}var N,P,O,L,B,j,W,V,q,$,U,G,Q,Y,K,X,J=e.extend,Z=e.proxy,et=e.isPlainObject,tt=e.isEmptyObject,nt=e.isArray,it=e.grep,at=e.ajax,rt=e.each,ot=e.noop,st=window.kendo,lt=st.isFunction,dt=st.Observable,ct=st.Class,ut="string",ht="function",pt="create",ft="read",gt="update",mt="destroy",vt="change",bt="sync",_t="get",yt="error",kt="requestStart",wt="progress",xt="requestEnd",Ct=[pt,ft,gt,mt],Tt=function(e){return e},St=st.getter,Dt=st.stringify,Et=Math,Ft=[].push,At=[].join,Mt=[].pop,Ht=[].splice,zt=[].shift,It=[].slice,Rt=[].unshift,Nt={}.toString,Pt=st.support.stableSort,Ot=/^\/Date\((.*?)\)\/$/,Lt=/(\r+|\n+)/g,Bt=/(?=['\\])/g,jt=dt.extend({init:function(e,t){var n=this;n.type=t||Wt,dt.fn.init.call(n),n.length=e.length,n.wrapAll(e,n)},toJSON:function(){var e,t,n=this.length,i=Array(n);for(e=0;n>e;e++)t=this[e],t instanceof Wt&&(t=t.toJSON()),i[e]=t;return i},parent:ot,wrapAll:function(e,t){var n,i,a=this,r=function(){return a};for(t=t||[],n=0,i=e.length;i>n;n++)t[n]=a.wrap(e[n],r);return t},wrap:function(e,t){var n,i=this;return null!==e&&"[object Object]"===Nt.call(e)&&(n=e instanceof i.type||e instanceof $t,n||(e=e instanceof Wt?e.toJSON():e,e=new i.type(e)),e.parent=t,e.bind(vt,function(e){i.trigger(vt,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemchange":"itemchange"})})),e},push:function(){var e,t=this.length,n=this.wrapAll(arguments);return e=Ft.apply(this,n),this.trigger(vt,{action:"add",index:t,items:n}),e},slice:It,join:At,pop:function(){var e=this.length,t=Mt.apply(this);return e&&this.trigger(vt,{action:"remove",index:e-1,items:[t]}),t},splice:function(e,t,n){var i,a,r,o=this.wrapAll(It.call(arguments,2));if(i=Ht.apply(this,[e,t].concat(o)),i.length)for(this.trigger(vt,{action:"remove",index:e,items:i}),a=0,r=i.length;r>a;a++)i[a].children&&i[a].unbind(vt);return n&&this.trigger(vt,{action:"add",index:e,items:o}),i},shift:function(){var e=this.length,t=zt.apply(this);return e&&this.trigger(vt,{action:"remove",index:0,items:[t]}),t},unshift:function(){var e,t=this.wrapAll(arguments);return e=Rt.apply(this,t),this.trigger(vt,{action:"add",index:0,items:t}),e},indexOf:function(e){var t,n,i=this;for(t=0,n=i.length;n>t;t++)if(i[t]===e)return t;return-1},forEach:function(e){for(var t=0,n=this.length;n>t;t++)e(this[t],t,this)},map:function(e){for(var t=0,n=[],i=this.length;i>t;t++)n[t]=e(this[t],t,this);return n},filter:function(e){for(var t,n=0,i=[],a=this.length;a>n;n++)t=this[n],e(t,n,this)&&(i[i.length]=t);return i},find:function(e){for(var t,n=0,i=this.length;i>n;n++)if(t=this[n],e(t,n,this))return t},every:function(e){for(var t,n=0,i=this.length;i>n;n++)if(t=this[n],!e(t,n,this))return!1;return!0},some:function(e){for(var t,n=0,i=this.length;i>n;n++)if(t=this[n],e(t,n,this))return!0;return!1},remove:function(e){this.splice(this.indexOf(e),1)},empty:function(){this.splice(0,this.length)}}),Wt=dt.extend({init:function(e){var t,n,i=this,a=function(){return i};dt.fn.init.call(this);for(n in e)t=e[n],"_"!=n.charAt(0)&&(t=i.wrap(t,n,a)),i[n]=t;i.uid=st.guid()},shouldSerialize:function(e){return this.hasOwnProperty(e)&&"_events"!==e&&typeof this[e]!==ht&&"uid"!==e},forEach:function(e){for(var t in this)this.shouldSerialize(t)&&e(this[t],t)},toJSON:function(){var e,t,n={};for(t in this)this.shouldSerialize(t)&&(e=this[t],(e instanceof Wt||e instanceof jt)&&(e=e.toJSON()),n[t]=e);return n},get:function(e){var t,n=this;return n.trigger(_t,{field:e}),t="this"===e?n:st.getter(e,!0)(n)},_set:function(e,t){var n,i,a,r=this,o=e.indexOf(".")>=0;if(o)for(n=e.split("."),i="";n.length>1;){if(i+=n.shift(),a=st.getter(i,!0)(r),a instanceof Wt)return a.set(n.join("."),t),o;i+="."}return st.setter(e)(r,t),o},set:function(e,t){var n=this,i=e.indexOf(".")>=0,a=st.getter(e,!0)(n);a!==t&&(n.trigger("set",{field:e,value:t})||(i||(t=n.wrap(t,e,function(){return n})),(!n._set(e,t)||e.indexOf("(")>=0||e.indexOf("[")>=0)&&n.trigger(vt,{field:e})))},parent:ot,wrap:function(e,t,i){var a,r,o=this,s=Nt.call(e);
return null==e||"[object Object]"!==s&&"[object Array]"!==s||(a=e instanceof jt,r=e instanceof U,"[object Object]"!==s||r||a?("[object Array]"===s||a||r)&&(a||r||(e=new jt(e)),e.parent()!=i()&&e.bind(vt,n(o,vt,t,!1))):(e instanceof Wt||(e=new Wt(e)),e.parent()!=i()&&(e.bind(_t,n(o,_t,t,!0)),e.bind(vt,n(o,vt,t,!0)))),e.parent=i),e}}),Vt={number:function(e){return st.parseFloat(e)},date:function(e){return st.parseDate(e)},"boolean":function(e){return typeof e===ut?"true"===e.toLowerCase():null!=e?!!e:e},string:function(e){return null!=e?e+"":e},"default":function(e){return e}},qt={string:"",number:0,date:new Date,"boolean":!1,"default":""},$t=Wt.extend({init:function(n){var i=this;(!n||e.isEmptyObject(n))&&(n=e.extend({},i.defaults,n)),Wt.fn.init.call(i,n),i.dirty=!1,i.idField&&(i.id=i.get(i.idField),i.id===t&&(i.id=i._defaultId))},shouldSerialize:function(e){return Wt.fn.shouldSerialize.call(this,e)&&"uid"!==e&&!("id"!==this.idField&&"id"===e)&&"dirty"!==e&&"_accessors"!==e},_parse:function(e,t){var n,i=this,r=e,o=i.fields||{};return e=o[e],e||(e=a(o,r)),e&&(n=e.parse,!n&&e.type&&(n=Vt[e.type.toLowerCase()])),n?n(t):t},_notifyChange:function(e){var t=e.action;("add"==t||"remove"==t)&&(this.dirty=!0)},editable:function(e){return e=(this.fields||{})[e],e?e.editable!==!1:!0},set:function(e,t,n){var a=this;a.editable(e)&&(t=a._parse(e,t),i(t,a.get(e))||(a.dirty=!0,Wt.fn.set.call(a,e,t,n)))},accept:function(e){var t,n,i=this,a=function(){return i};for(t in e)n=e[t],"_"!=t.charAt(0)&&(n=i.wrap(e[t],t,a)),i._set(t,n);i.idField&&(i.id=i.get(i.idField)),i.dirty=!1},isNew:function(){return this.id===this._defaultId}});$t.define=function(e,n){n===t&&(n=e,e=$t);var i,a,r,o,s,l,d,c,u=J({defaults:{}},n),h={},p=u.id;if(p&&(u.idField=p),u.id&&delete u.id,p&&(u.defaults[p]=u._defaultId=""),"[object Array]"===Nt.call(u.fields)){for(l=0,d=u.fields.length;d>l;l++)r=u.fields[l],typeof r===ut?h[r]={}:r.field&&(h[r.field]=r);u.fields=h}for(a in u.fields)r=u.fields[a],o=r.type||"default",s=null,c=a,a=typeof r.field===ut?r.field:a,r.nullable||(s=u.defaults[c!==a?c:a]=r.defaultValue!==t?r.defaultValue:qt[o.toLowerCase()]),n.id===a&&(u._defaultId=s),u.defaults[c!==a?c:a]=s,r.parse=r.parse||Vt[o];return i=e.extend(u),i.define=function(e){return $t.define(i,e)},u.fields&&(i.fields=u.fields,i.idField=u.idField),i},P={selector:function(e){return lt(e)?e:St(e)},compare:function(e){var t=this.selector(e);return function(e,n){return e=t(e),n=t(n),null==e&&null==n?0:null==e?-1:null==n?1:e.localeCompare?e.localeCompare(n):e>n?1:n>e?-1:0}},create:function(e){var t=e.compare||this.compare(e.field);return"desc"==e.dir?function(e,n){return t(n,e,!0)}:t},combine:function(e){return function(t,n){var i,a,r=e[0](t,n);for(i=1,a=e.length;a>i;i++)r=r||e[i](t,n);return r}}},O=J({},P,{asc:function(e){var t=this.selector(e);return function(e,n){var i=t(e),a=t(n);return i&&i.getTime&&a&&a.getTime&&(i=i.getTime(),a=a.getTime()),i===a?e.__position-n.__position:null==i?-1:null==a?1:i.localeCompare?i.localeCompare(a):i>a?1:-1}},desc:function(e){var t=this.selector(e);return function(e,n){var i=t(e),a=t(n);return i&&i.getTime&&a&&a.getTime&&(i=i.getTime(),a=a.getTime()),i===a?e.__position-n.__position:null==i?1:null==a?-1:a.localeCompare?a.localeCompare(i):a>i?1:-1}},create:function(e){return this[e.dir](e.field)}}),N=function(e,t){var n,i=e.length,a=Array(i);for(n=0;i>n;n++)a[n]=t(e[n],n,e);return a},L=function(){function e(e){return e.replace(Bt,"\\").replace(Lt,"")}function t(t,n,i,a){var r;return null!=i&&(typeof i===ut&&(i=e(i),r=Ot.exec(i),r?i=new Date(+r[1]):a?(i="'"+i.toLowerCase()+"'",n="("+n+" || '').toLowerCase()"):i="'"+i+"'"),i.getTime&&(n="("+n+"?"+n+".getTime():"+n+")",i=i.getTime())),n+" "+t+" "+i}return{eq:function(e,n,i){return t("==",e,n,i)},neq:function(e,n,i){return t("!=",e,n,i)},gt:function(e,n,i){return t(">",e,n,i)},gte:function(e,n,i){return t(">=",e,n,i)},lt:function(e,n,i){return t("<",e,n,i)},lte:function(e,n,i){return t("<=",e,n,i)},startswith:function(t,n,i){return i&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".lastIndexOf('"+n+"', 0) == 0"},endswith:function(t,n,i){return i&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"', "+t+".length - "+(n||"").length+") >= 0"},contains:function(t,n,i){return i&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"') >= 0"},doesnotcontain:function(t,n,i){return i&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"') == -1"}}}(),r.filterExpr=function(e){var n,i,a,o,s,l,d=[],c={and:" && ",or:" || "},u=[],h=[],p=e.filters;for(n=0,i=p.length;i>n;n++)a=p[n],s=a.field,l=a.operator,a.filters?(o=r.filterExpr(a),a=o.expression.replace(/__o\[(\d+)\]/g,function(e,t){return t=+t,"__o["+(h.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){return t=+t,"__f["+(u.length+t)+"]"}),h.push.apply(h,o.operators),u.push.apply(u,o.fields)):(typeof s===ht?(o="__f["+u.length+"](d)",u.push(s)):o=st.expr(s),typeof l===ht?(a="__o["+h.length+"]("+o+", "+a.value+")",h.push(l)):a=L[(l||"eq").toLowerCase()](o,a.value,a.ignoreCase!==t?a.ignoreCase:!0)),d.push(a);return{expression:"("+d.join(c[e.logic])+")",fields:u,operators:h}},B={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"},r.normalizeFilter=l,r.prototype={toArray:function(){return this.data},range:function(e,t){return new r(this.data.slice(e,e+t))},skip:function(e){return new r(this.data.slice(e))},take:function(e){return new r(this.data.slice(0,e))},select:function(e){return new r(N(this.data,e))},order:function(e,t){var n={dir:t};return e&&(e.compare?n.compare=e.compare:n.field=e),new r(this.data.slice(0).sort(P.create(n)))},orderBy:function(e){return this.order(e,"asc")},orderByDescending:function(e){return this.order(e,"desc")},sort:function(e,t,n){var i,a,r=o(e,t),s=[];if(n=n||P,r.length){for(i=0,a=r.length;a>i;i++)s.push(n.create(r[i]));return this.orderBy({compare:n.combine(s)})}return this},filter:function(e){var t,n,i,a,o,s,d,c,u=this.data,h=[];if(e=l(e),!e||0===e.filters.length)return this;for(a=r.filterExpr(e),s=a.fields,d=a.operators,o=c=Function("d, __f, __o","return "+a.expression),(s.length||d.length)&&(c=function(e){return o(e,s,d)}),t=0,i=u.length;i>t;t++)n=u[t],c(n)&&h.push(n);return new r(h)},group:function(e,t){e=c(e||[]),t=t||this.data;var n,i=this,a=new r(i.data);return e.length>0&&(n=e[0],a=a.groupBy(n).select(function(i){var a=new r(t).filter([{field:i.field,operator:"eq",value:i.value,ignoreCase:!1}]);return{field:i.field,value:i.value,items:e.length>1?new r(i.items).group(e.slice(1),a.toArray()).toArray():i.items,hasSubgroups:e.length>1,aggregates:a.aggregate(n.aggregates)}})),a},groupBy:function(e){if(tt(e)||!this.data.length)return new r([]);var t,n,i,a,o=e.field,s=this._sortForGrouping(o,e.dir||"asc"),l=st.accessor(o),d=l.get(s[0],o),c={field:o,value:d,items:[]},h=[c];for(i=0,a=s.length;a>i;i++)t=s[i],n=l.get(t,o),u(d,n)||(d=n,c={field:o,value:d,items:[]},h.push(c)),c.items.push(t);return new r(h)},_sortForGrouping:function(e,t){var n,i,a=this.data;if(!Pt){for(n=0,i=a.length;i>n;n++)a[n].__position=n;for(a=new r(a).sort(e,t,O).toArray(),n=0,i=a.length;i>n;n++)delete a[n].__position;return a}return this.sort(e,t).toArray()},aggregate:function(e){var t,n,i={},a={};if(e&&e.length)for(t=0,n=this.data.length;n>t;t++)h(i,e,this.data[t],t,n,a);return i}},j={sum:function(e,t,n){var i=n.get(t);return p(e)?p(i)&&(e+=i):e=i,e},count:function(e){return(e||0)+1},average:function(e,n,i,a,r,o){var s=i.get(n);return o.count===t&&(o.count=0),p(e)?p(s)&&(e+=s):e=s,p(s)&&o.count++,a==r-1&&p(e)&&(e/=o.count),e},max:function(e,t,n){var i=n.get(t);return p(e)||(e=i),i>e&&p(i)&&(e=i),e},min:function(e,t,n){var i=n.get(t);return p(e)||(e=i),e>i&&p(i)&&(e=i),e}},r.process=function(e,n){n=n||{};var i,a=new r(e),s=n.group,l=c(s||[]).concat(o(n.sort||[])),d=n.filter,u=n.skip,h=n.take;return d&&(a=a.filter(d),i=a.toArray().length),l&&(a=a.sort(l),s&&(e=a.toArray())),u!==t&&h!==t&&(a=a.range(u,h)),s&&(a=a.group(s,e)),{total:i,data:a.toArray()}},W=ct.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),V=ct.extend({init:function(e){var t,n=this;e=n.options=J({},n.options,e),rt(Ct,function(t,n){typeof e[n]===ut&&(e[n]={url:e[n]})}),n.cache=e.cache?q.create(e.cache):{find:ot,add:ot},t=e.parameterMap,lt(e.push)&&(n.push=e.push),n.push||(n.push=Tt),n.parameterMap=lt(t)?t:function(e){var n={};return rt(e,function(e,i){e in t&&(e=t[e],et(e)&&(i=e.value(i),e=e.key)),n[e]=i}),n}},options:{parameterMap:Tt},create:function(e){return at(this.setup(e,pt))},read:function(n){var i,a,r,o=this,s=o.cache;n=o.setup(n,ft),i=n.success||ot,a=n.error||ot,r=s.find(n.data),r!==t?i(r):(n.success=function(e){s.add(n.data,e),i(e)},e.ajax(n))},update:function(e){return at(this.setup(e,gt))},destroy:function(e){return at(this.setup(e,mt))},setup:function(e,t){e=e||{};var n,i=this,a=i.options[t],r=lt(a.data)?a.data(e.data):a.data;return e=J(!0,{},a,e),n=J(!0,{},r,e.data),e.data=i.parameterMap(n,t),lt(e.url)&&(e.url=e.url(n)),e}}),q=ct.extend({init:function(){this._store={}},add:function(e,n){e!==t&&(this._store[Dt(e)]=n)},find:function(e){return this._store[Dt(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[Dt(e)]}}),q.create=function(e){var t={inmemory:function(){return new q}};return et(e)&&lt(e.find)?e:e===!0?new q:t[e]()},$=ct.extend({init:function(e){var t,n,i,a,r,o,s,l,d,c,u,h,p,f=this;e=e||{};for(t in e)n=e[t],f[t]=typeof n===ut?St(n):n;a=e.modelBase||$t,et(f.model)&&(f.model=i=a.define(f.model)),f.model&&(r=Z(f.data,f),o=Z(f.groups,f),s=Z(f.serialize,f),l={},d={},c={},u={},h=!1,i=f.model,i.fields&&(rt(i.fields,function(e,t){var n;p=e,et(t)&&t.field?p=t.field:typeof t===ut&&(p=t),et(t)&&t.from&&(n=t.from),h=h||n&&n!==e||p!==e,d[e]=St(n||p),c[e]=St(e),l[n||p]=e,u[e]=n||p}),!e.serialize&&h&&(f.serialize=_(s,i,m,c,l,u))),f._dataAccessFunction=r,f.data=_(r,i,v,d,l,u),f.groups=_(o,i,b,d,l,u))},errors:function(e){return e?e.errors:null},parse:Tt,data:Tt,total:function(e){return e.length},groups:Tt,aggregates:function(){return{}},serialize:function(e){return e}}),U=dt.extend({init:function(e){var n,i,a=this;e&&(i=e.data),e=a.options=J({},a.options,e),a._map={},a._prefetch={},a._data=[],a._pristineData=[],a._ranges=[],a._view=[],a._pristineTotal=0,a._destroyed=[],a._pageSize=e.pageSize,a._page=e.page||(e.pageSize?1:t),a._sort=o(e.sort),a._filter=l(e.filter),a._group=c(e.group),a._aggregate=e.aggregate,a._total=e.total,dt.fn.init.call(a),a.transport=G.create(e,i),lt(a.transport.push)&&a.transport.push({pushCreate:Z(a._pushCreate,a),pushUpdate:Z(a._pushUpdate,a),pushDestroy:Z(a._pushDestroy,a)}),a.reader=new st.data.readers[e.schema.type||"json"](e.schema),n=a.reader.model||{},a._data=a._observe(a._data),a.bind(["push",yt,vt,kt,bt,xt,wt],e)},options:{data:[],schema:{modelBase:$t},serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_pushCreate:function(e){this._push(e,"pushCreate")},_pushUpdate:function(e){this._push(e,"pushUpdate")},_pushDestroy:function(e){this._push(e,"pushDestroy")},_push:function(e,t){var n=this._readData(e);n||(n=e),this[t](n)},_flatData:function(e){return this._isServerGrouped()?k(e):e},parent:ot,get:function(e){var t,n,i=this._flatData(this._data);for(t=0,n=i.length;n>t;t++)if(i[t].id==e)return i[t]},getByUid:function(e){var t,n,i=this._flatData(this._data);if(i)for(t=0,n=i.length;n>t;t++)if(i[t].uid==e)return i[t]},indexOf:function(e){return D(this._data,e)},at:function(e){return this._data[e]},data:function(e){var n=this;return e===t?n._data:(n._data=this._observe(e),n._pristineData=e.slice(0),n._ranges=[],n._addRange(n._data),n._total=n._data.length,n._pristineTotal=n._total,n._process(n._data),t)},view:function(){return this._view},add:function(e){return this.insert(this._data.length,e)},_createNewModel:function(e){return this.reader.model?new this.reader.model(e):new Wt(e)},insert:function(e,t){return t||(t=e,e=0),t instanceof $t||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(e,0,T(this.group(),t)):this._data.splice(e,0,t),t},pushCreate:function(e){var t,n,i,a,r;for(nt(e)||(e=[e]),t=[],n=0;e.length>n;n++)i=e[n],a=this.add(i),t.push(a),r=a.toJSON(),this._isServerGrouped()&&(r=T(this.group(),r)),this._pristineData.push(r);t.length&&this.trigger("push",{type:"create",items:t})},pushUpdate:function(e){var t,n,i,a,r;for(nt(e)||(e=[e]),t=[],n=0;e.length>n;n++)i=e[n],a=this._createNewModel(i),r=this.get(a.id),r?(t.push(r),r.accept(i),r.trigger("change"),this._updatePristineForModel(r,i)):this.pushCreate(i);t.length&&this.trigger("push",{type:"update",items:t})},pushDestroy:function(e){var t,n,i,a,r,o;nt(e)||(e=[e]),t=[],n=this.options.autoSync,this.options.autoSync=!1;try{for(i=0;e.length>i;i++)a=e[i],r=this._createNewModel(a),o=!1,this._eachItem(this._data,function(e){for(var n=0;e.length>n;n++)if(e[n].id===r.id){t.push(e[n]),e.splice(n,1),o=!0;break}}),o&&(this._removePristineForModel(r),this._destroyed.pop())}finally{this.options.autoSync=n}t.length&&this.trigger("push",{type:"destroy",items:t})},remove:function(e){var n,i=this,a=i._isServerGrouped();return this._eachItem(i._data,function(r){return n=C(r,e),n&&a?(n.isNew&&n.isNew()||i._destroyed.push(n),!0):t}),this._removeModelFromRanges(e),this._updateRangesLength(),e},sync:function(){var t,n,i,a=this,r=[],o=[],s=a._destroyed,l=a._flatData(a._data);if(a.reader.model){for(t=0,n=l.length;n>t;t++)l[t].isNew()?r.push(l[t]):l[t].dirty&&o.push(l[t]);i=a._send("create",r),i.push.apply(i,a._send("update",o)),i.push.apply(i,a._send("destroy",s)),e.when.apply(null,i).then(function(){var e,t;for(e=0,t=arguments.length;t>e;e++)a._accept(arguments[e]);a._change({action:"sync"}),a.trigger(bt)})}},cancelChanges:function(e){var t=this;e instanceof st.data.Model?t._cancelModel(e):(t._destroyed=[],t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t._pristineTotal),t._change())},hasChanges:function(){var e,t,n=this._data;if(this._destroyed.length)return!0;for(e=0,t=n.length;t>e;e++)if(n[e].isNew()||n[e].dirty)return!0;return!1},_accept:function(t){var n,i=this,a=t.models,r=t.response,o=0,s=i._isServerGrouped(),l=i._pristineData,d=t.type;if(i.trigger(xt,{response:r,type:d}),r&&!tt(r)){if(r=i.reader.parse(r),i._handleCustomErrors(r))return;r=i.reader.data(r),nt(r)||(r=[r])}else r=e.map(a,function(e){return e.toJSON()});for("destroy"===d&&(i._destroyed=[]),o=0,n=a.length;n>o;o++)"destroy"!==d?(a[o].accept(r[o]),"create"===d?l.push(s?T(i.group(),a[o]):r[o]):"update"===d&&i._updatePristineForModel(a[o],r[o])):i._removePristineForModel(a[o])},_updatePristineForModel:function(e,t){this._executeOnPristineForModel(e,function(e,n){st.deepExtend(n[e],t)})},_executeOnPristineForModel:function(e,n){this._eachPristineItem(function(i){var a=S(i,e);return a>-1?(n(a,i),!0):t})},_removePristineForModel:function(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readData:function(e){var t=this._isServerGrouped()?this.reader.groups:this.reader.data;return t(e)},_eachPristineItem:function(e){this._eachItem(this._pristineData,e)},_eachItem:function(e,t){e&&e.length&&(this._isServerGrouped()?x(e,t):t(e))},_pristineForModel:function(e){var n,i,a=function(a){return i=S(a,e),i>-1?(n=a[i],!0):t};return this._eachPristineItem(a),n},_cancelModel:function(e){var t,n=this._pristineForModel(e);this._eachItem(this._data,function(i){t=D(i,e),-1!=t&&(!e.isNew()&&n?i[t].accept(n):i.splice(t,1))})},_promise:function(t,n,i){var a=this,r=a.transport;return e.Deferred(function(e){a.trigger(kt,{type:i}),r[i].call(r,J({success:function(t){e.resolve({response:t,models:n,type:i})},error:function(t,n,i){e.reject(t),a.error(t,n,i)}},t))}).promise()},_send:function(e,t){var n,i,a=this,r=[],o=a.reader.serialize(f(t));if(a.options.batch)t.length&&r.push(a._promise({data:{models:o}},t,e));else for(n=0,i=t.length;i>n;n++)r.push(a._promise({data:o[n]},[t[n]],e));return r},read:function(e){var t=this,n=t._params(e);t._queueRequest(n,function(){t.trigger(kt,{type:"read"})?t._dequeueRequest():(t.trigger(wt),t._ranges=[],t.transport.read({data:n,success:Z(t.success,t),error:Z(t.error,t)}))})},success:function(e){var n=this,i=n.options;return n.trigger(xt,{response:e,type:"read"}),e=n.reader.parse(e),n._handleCustomErrors(e)?(n._dequeueRequest(),t):(n._total=n.reader.total(e),n._pristineTotal=n._total,n._aggregate&&i.serverAggregates&&(n._aggregateResult=n.reader.aggregates(e)),e=n._readData(e),n._pristineData=e.slice(0),n._data=n._observe(e),n._addRange(n._data),n._process(n._data),n._dequeueRequest(),t)},_addRange:function(e){var t=this,n=t._skip||0,i=n+t._flatData(e).length;t._ranges.push({start:n,end:i,data:e}),t._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,n){this._dequeueRequest(),this.trigger(xt,{}),this.trigger(yt,{xhr:e,status:t,errorThrown:n})},_params:function(e){var t=this,n=J({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},e);return t.options.serverPaging||(delete n.take,delete n.skip,delete n.page,delete n.pageSize),t.options.serverGrouping?t.reader.model&&n.group&&(n.group=M(n.group,t.reader.model)):delete n.group,t.options.serverFiltering?t.reader.model&&n.filter&&(n.filter=A(n.filter,t.reader.model)):delete n.filter,t.options.serverSorting?t.reader.model&&n.sort&&(n.sort=M(n.sort,t.reader.model)):delete n.sort,t.options.serverAggregates?t.reader.model&&n.aggregate&&(n.aggregate=M(n.aggregate,t.reader.model)):delete n.aggregate,n},_queueRequest:function(e,n){var i=this;i._requestInProgress?i._pending={callback:Z(n,i),options:e}:(i._requestInProgress=!0,i._pending=t,n())},_dequeueRequest:function(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger(yt,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_observe:function(e){var t=this,n=t.reader.model,i=!1;return n&&e.length&&(i=!(e[0]instanceof n)),e instanceof jt?i&&(e.type=t.reader.model,e.wrapAll(e,e)):(e=new jt(e,t.reader.model),e.parent=function(){return t.parent()}),t._isServerGrouped()&&w(e,n),t._changeHandler&&t._data&&t._data instanceof jt?t._data.unbind(vt,t._changeHandler):t._changeHandler=Z(t._change,t),e.bind(vt,t._changeHandler)},_change:function(e){var t,n,i,a=this,r=e?e.action:"";if("remove"===r)for(t=0,n=e.items.length;n>t;t++)e.items[t].isNew&&e.items[t].isNew()||a._destroyed.push(e.items[t]);!a.options.autoSync||"add"!==r&&"remove"!==r&&"itemchange"!==r?(i=parseInt(a._total||a._pristineTotal,10),"add"===r?i+=e.items.length:"remove"===r?i-=e.items.length:"itemchange"===r||"sync"===r||a.options.serverPaging?"sync"===r&&(i=a._pristineTotal=parseInt(a._total,10)):i=a._pristineTotal,a._total=i,a._process(a._data,e)):a.sync()},_process:function(e,n){var i,a=this,o={};a.options.serverPaging!==!0&&(o.skip=a._skip,o.take=a._take||a._pageSize,o.skip===t&&a._page!==t&&a._pageSize!==t&&(o.skip=(a._page-1)*a._pageSize)),a.options.serverSorting!==!0&&(o.sort=a._sort),a.options.serverFiltering!==!0&&(o.filter=a._filter),a.options.serverGrouping!==!0&&(o.group=a._group),a.options.serverAggregates!==!0&&(o.aggregate=a._aggregate,a._aggregateResult=g(e,o)),i=r.process(e,o),a._view=i.data,i.total===t||a.options.serverFiltering||(a._total=i.total),n=n||{},n.items=n.items||a._view,a.trigger(vt,n)},_mergeState:function(e){var n=this;return e!==t&&(n._pageSize=e.pageSize,n._page=e.page,n._sort=e.sort,n._filter=e.filter,n._group=e.group,n._aggregate=e.aggregate,n._skip=e.skip,n._take=e.take,n._skip===t&&(n._skip=n.skip(),e.skip=n.skip()),n._take===t&&n._pageSize!==t&&(n._take=n._pageSize,e.take=n._take),e.sort&&(n._sort=e.sort=o(e.sort)),e.filter&&(n._filter=e.filter=l(e.filter)),e.group&&(n._group=e.group=c(e.group)),e.aggregate&&(n._aggregate=e.aggregate=d(e.aggregate))),e},query:function(e){var n,i=this,a=i.options.serverSorting||i.options.serverPaging||i.options.serverFiltering||i.options.serverGrouping||i.options.serverAggregates;a||(i._data===t||0===i._data.length)&&!i._destroyed.length?i.read(i._mergeState(e)):i.trigger(kt,{type:"read"})||(i.trigger(wt),n=r.process(i._data,i._mergeState(e)),i.options.serverFiltering||(i._total=n.total!==t?n.total:i._data.length),i._view=n.data,i._aggregateResult=g(i._data,e),i.trigger(xt,{}),i.trigger(vt,{items:n.data}))},fetch:function(t){var n=this;return e.Deferred(function(e){var i=function(i){n.unbind(yt,a),e.resolve(),t&&t.call(n,i)},a=function(t){e.reject(t)};n.one(vt,i),n.one(yt,a),n._query()}).promise()},_query:function(e){var t=this;t.query(J({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var n=this,i=n.page(),a=n.total();return e=e||{},!i||a&&i+1>n.totalPages()?t:(n._skip=i*n.take(),i+=1,e.page=i,n._query(e),i)},prev:function(e){var n=this,i=n.page();return e=e||{},i&&1!==i?(n._skip=n._skip-n.take(),i-=1,e.page=i,n._query(e),i):t},page:function(e){var n,i=this;return e!==t?(e=Et.max(Et.min(Et.max(e,1),i.totalPages()),1),i._query({page:e}),t):(n=i.skip(),n!==t?Et.round((n||0)/(i.take()||1))+1:t)},pageSize:function(e){var n=this;return e!==t?(n._query({pageSize:e,page:1}),t):n.take()},sort:function(e){var n=this;return e!==t?(n._query({sort:e}),t):n._sort},filter:function(e){var n=this;return e===t?n._filter:(n._query({filter:e,page:1}),t)},group:function(e){var n=this;return e!==t?(n._query({group:e}),t):n._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(e){var n=this;return e!==t?(n._query({aggregate:e}),t):n._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var e=this,t=e.pageSize()||e.total();return Et.ceil((e.total()||0)/t)},inRange:function(e,t){var n=this,i=Et.min(e+t,n.total());return!n.options.serverPaging&&n._data.length>0?!0:n._findRange(e,i).length>0},lastRange:function(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},range:function(e,n){var i,a,r,o,s,l,d,c;if(e=Et.min(e||0,this.total()),i=this,a=Et.max(Et.floor(e/n),0)*n,r=Et.min(a+n,i.total()),o=i._findRange(e,Et.min(e+n,i.total())),o.length){i._skip=e>i.skip()?Et.min(r,(i.totalPages()-1)*i.take()):a,i._take=n,s=i.options.serverPaging,l=i.options.serverSorting,d=i.options.serverFiltering,c=i.options.serverAggregates;try{i.options.serverPaging=!0,i._isServerGrouped()||i.group()&&i.group().length||(i.options.serverSorting=!0),i.options.serverFiltering=!0,i.options.serverPaging=!0,i.options.serverAggregates=!0,s&&(i._data=o=i._observe(o)),i._process(o)}finally{i.options.serverPaging=s,i.options.serverSorting=l,i.options.serverFiltering=d,i.options.serverAggregates=c}}else n!==t&&(i._rangeExists(a,r)?e>a&&i.prefetch(r,n,function(){i.range(e,n)}):i.prefetch(a,n,function(){e>a&&r<i.total()&&!i._rangeExists(r,Et.min(r+n,i.total()))?i.prefetch(r,n,function(){i.range(e,n)}):i.range(e,n)}))},_findRange:function(e,n){var i,a,s,l,d,u,h,p,f,g,m,v,b=this,_=b._ranges,y=[],k=b.options,w=k.serverSorting||k.serverPaging||k.serverFiltering||k.serverGrouping||k.serverAggregates;for(a=0,m=_.length;m>a;a++)if(i=_[a],e>=i.start&&i.end>=e){for(g=0,s=a;m>s;s++)if(i=_[s],f=b._flatData(i.data),f.length&&e+g>=i.start&&(u=i.data,h=i.end,w||(v=c(b.group()||[]).concat(o(b.sort()||[])),p=r.process(i.data,{sort:v,filter:b.filter()}),f=u=p.data,p.total!==t&&(h=p.total)),l=0,e+g>i.start&&(l=e+g-i.start),d=f.length,h>n&&(d-=h-n),g+=d-l,y=b._mergeGroups(y,u,l,d),i.end>=n&&g==n-e))return y;break}return[]},_mergeGroups:function(e,t,n,i){if(this._isServerGrouped()){var a,r=t.toJSON();return e.length&&(a=e[e.length-1]),y(a,r,n,i),e.concat(r)}return e.concat(t.slice(n,i))},skip:function(){var e=this;return e._skip===t?e._page!==t?(e._page-1)*(e.take()||1):t:e._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(e,t,n){var i=this;return function(a){var r,o,s,l=!1,d={start:e,end:t,data:[]};if(i._dequeueRequest(),i.trigger(xt,{response:a,type:"read"}),a=i.reader.parse(a),s=i._readData(a),s.length){for(r=0,o=i._ranges.length;o>r;r++)if(i._ranges[r].start===e){l=!0,d=i._ranges[r];break}l||i._ranges.push(d)}d.data=i._observe(s),d.end=d.start+i._flatData(d.data).length,i._ranges.sort(function(e,t){return e.start-t.start}),i._total=i.reader.total(a),n&&s.length?n():i.trigger(vt,{})}},prefetch:function(e,t,n){var i=this,a=Et.min(e+t,i.total()),r={take:t,skip:e,page:e/t+1,pageSize:t,sort:i._sort,filter:i._filter,group:i._group,aggregate:i._aggregate};i._rangeExists(e,a)?n&&n():(clearTimeout(i._timeout),i._timeout=setTimeout(function(){i._queueRequest(r,function(){i.trigger(kt,{type:"read"})?i._dequeueRequest():i.transport.read({data:i._params(r),success:i._prefetchSuccessHandler(e,a,n)})})},100))},_rangeExists:function(e,t){var n,i,a=this,r=a._ranges;for(n=0,i=r.length;i>n;n++)if(e>=r[n].start&&r[n].end>=t)return!0;return!1},_removeModelFromRanges:function(e){var t,n,i,a,r;for(a=0,r=this._ranges.length;r>a&&(i=this._ranges[a],this._eachItem(i.data,function(i){t=C(i,e),t&&(n=!0)}),!n);a++);},_updateRangesLength:function(){var e,t,n,i,a=0;for(n=0,i=this._ranges.length;i>n;n++)e=this._ranges[n],e.start=e.start-a,t=this._flatData(e.data).length,a=e.end-t,e.end=e.start+t}}),G={},G.create=function(e,t){var n,i=e.transport;return i?(i.read=typeof i.read===ut?{url:i.read}:i.read,e.type&&(st.data.transports[e.type]&&!et(st.data.transports[e.type])?n=new st.data.transports[e.type](J(i,{data:t})):i=J(!0,{},st.data.transports[e.type],i),e.schema=J(!0,{},st.data.schemas[e.type],e.schema)),n||(n=lt(i.read)?i:new V(i))):n=new W({data:e.data}),n},U.create=function(e){(nt(e)||e instanceof jt)&&(e={data:e});var t,n,i,a=e||{},r=a.data,o=a.fields,s=a.table,l=a.select,d={};if(r||!o||a.transport||(s?r=z(s,o):l&&(r=H(l,o))),st.data.Model&&o&&(!a.schema||!a.schema.model)){for(t=0,n=o.length;n>t;t++)i=o[t],i.type&&(d[i.field]=i);tt(d)||(a.schema=J(!0,a.schema,{model:{fields:d}}))}return a.data=r,s=null,a.table=null,a instanceof U?a:new U(a)},Q=$t.define({init:function(e){var t=this,n=t.hasChildren||e&&e.hasChildren,i="items",a={};st.data.Model.fn.init.call(t,e),typeof t.children===ut&&(i=t.children),a={schema:{data:i,model:{hasChildren:n,id:t.idField}}},typeof t.children!==ut&&J(a,t.children),a.data=e,n||(n=a.schema.data),typeof n===ut&&(n=st.getter(n)),lt(n)&&(t.hasChildren=!!n.call(t,t)),t._childrenOptions=a,t.hasChildren&&t._initChildren(),t._loaded=!(!e||!e[i]&&!e._loaded)},_initChildren:function(){var e,t,n,i=this;i.children instanceof Y||(e=i.children=new Y(i._childrenOptions),t=e.transport,n=t.parameterMap,t.parameterMap=function(e,t){return e[i.idField||"id"]=i.id,n&&(e=n(e,t)),e},e.parent=function(){return i},e.bind(vt,function(e){e.node=e.node||i,i.trigger(vt,e)}),e.bind(yt,function(e){var t=i.parent();t&&(e.node=e.node||i,t.trigger(yt,e))}),i._updateChildrenField())},append:function(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren:!1,level:function(){for(var e=this.parentNode(),t=0;e&&e.parentNode;)t++,e=e.parentNode?e.parentNode():null;return t},_updateChildrenField:function(){var e=this._childrenOptions.schema.data;this[e||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var e,n={},i="_query";this.hasChildren?(this._initChildren(),e=this.children,n[this.idField||"id"]=this.id,this._loaded||(e._data=t,i="read"),e.one(vt,Z(this._childrenLoaded,this)),e[i](n)):this.loaded(!0)},parentNode:function(){var e=this.parent();return e.parent()},loaded:function(e){return e===t?this._loaded:(this._loaded=e,t)},shouldSerialize:function(e){return $t.fn.shouldSerialize.call(this,e)&&"children"!==e&&"_loaded"!==e&&"hasChildren"!==e&&"_childrenOptions"!==e}}),Y=U.extend({init:function(e){var t=Q.define({children:e});U.fn.init.call(this,J(!0,{},{schema:{modelBase:t,model:t}},e)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var e=this;e._data.bind(yt,function(t){e.trigger(yt,t)})},remove:function(e){var t,n=e.parentNode(),i=this;return n&&n._initChildren&&(i=n.children),t=U.fn.remove.call(i,e),n&&!i.data().length&&(n.hasChildren=!1),t},success:I("success"),data:I("data"),insert:function(e,t){var n=this.parent();return n&&n._initChildren&&(n.hasChildren=!0,n._initChildren()),U.fn.insert.call(this,e,t)},_find:function(e,t){var n,i,a,r,o;if(a=U.fn[e].call(this,t))return a;if(r=this._flatData(this.data()))for(n=0,i=r.length;i>n;n++)if(o=r[n].children,o instanceof Y&&(a=o[e](t)))return a},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}}),Y.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},n=t.data,i=t.fields,a=t.list;return n&&n._dataSource?n._dataSource:(n||!i||t.transport||a&&(n=R(a,i)),t.data=n,t instanceof Y?t:new Y(t))},K=st.Observable.extend({init:function(e,t,n){st.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=e,this.prefetch=!n;var i=this;e.bind("change",function(){i._change()}),this._syncWithDataSource(),this.setViewSize(t)},setViewSize:function(e){this.viewSize=e,this._recalculate()},at:function(e){var n,i,a=this.pageSize;return e>=this.total()?(this.trigger("endreached",{index:e}),t):this.useRanges?(this.useRanges&&((this.dataOffset>e||e>this.skip+a)&&(i=Math.floor(e/a)*a,this.range(i)),e===this.prefetchThreshold&&this._prefetch(),e===this.midPageThreshold?this.range(this.nextMidRange):e===this.nextPageThreshold?this.range(this.nextFullRange):e===this.pullBackThreshold&&this.range(this.offset===this.skip?this.previousMidRange:this.previousFullRange),n=this.dataSource.at(e-this.dataOffset)),n===t&&this.trigger("endreached",{index:e}),n):this.dataSource.view()[e]},indexOf:function(e){return this.dataSource.data().indexOf(e)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var e=this,t=e.pageSize,n=e.skip-e.viewSize,i=Et.max(Et.floor(n/t),0)*t+t;this.offset=n,this.dataSource.prefetch(i,t,function(){e._goToRange(n,!0)})},range:function(e){if(this.offset!==e){var t=this,n=this.pageSize,i=Et.max(Et.floor(e/n),0)*n+n,a=this.dataSource;this.offset=e,this._recalculate(),a.inRange(e,n)?this._goToRange(e):this.prefetch&&a.prefetch(i,n,function(){t._goToRange(e,!0)})}},syncDataSource:function(){var e=this.offset;this.offset=null,this.range(e)},destroy:function(){this.unbind()},_prefetch:function(){var e=this,t=this.pageSize,n=this.skip+t,i=this.dataSource;i.inRange(n,t)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:n,take:t}),i.prefetch(n,t,function(){e._prefetching=!1,e.trigger("prefetched",{skip:n,take:t})}))},_goToRange:function(e,t){this.offset===e&&(this.dataOffset=e,this._expanding=t,this.dataSource.range(e,this.pageSize))},_change:function(){var e=this.dataSource,t=e.firstItemUid();this.length=this.useRanges?e.lastRange().end:e.view().length,this._firstItemUid===t&&this.useRanges||(this._syncWithDataSource(),this._recalculate(),this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var e=this.dataSource;this._firstItemUid=e.firstItemUid(),this.dataOffset=this.offset=e.skip()||0,this.pageSize=e.pageSize(),this.useRanges=e.options.serverPaging},_recalculate:function(){var e=this.pageSize,t=this.offset,n=this.viewSize,i=Math.ceil(t/e)*e;this.skip=i,this.midPageThreshold=i+e-1,this.nextPageThreshold=i+n-1,this.prefetchThreshold=i+Math.floor(e/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=i+e-n,this.nextFullRange=i,this.previousMidRange=t-n,this.previousFullRange=i-e}}),X=st.Observable.extend({init:function(e,t){var n=this;st.Observable.fn.init.call(n),this.dataSource=e,this.batchSize=t,this._total=0,this.buffer=new K(e,3*t),this.buffer.bind({endreached:function(e){n.trigger("endreached",{index:e.index})},prefetching:function(e){n.trigger("prefetching",{skip:e.skip,take:e.take})
},prefetched:function(e){n.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){n._total=0,n.trigger("reset")},resize:function(){n._total=Math.ceil(this.length/n.batchSize),n.trigger("resize",{total:n.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(e){var n,i,a=this.buffer,r=e*this.batchSize,o=this.batchSize,s=[];for(a.offset>r&&a.at(a.offset-1),i=0;o>i&&(n=a.at(r+i),n!==t);i++)s.push(n);return s},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}}),J(!0,st.data,{readers:{json:$},Query:r,DataSource:U,HierarchicalDataSource:Y,Node:Q,ObservableObject:Wt,ObservableArray:jt,LocalTransport:W,RemoteTransport:V,Cache:q,DataReader:$,Model:$t,Buffer:K,BatchBuffer:X})}(window.kendo.jQuery),function(e,t){function n(e){var t,i,a,r,o=[];for(t=0,i=e.length;i>t;t++)if(e[t].hasSubgroups)o=o.concat(n(e[t].items));else for(a=e[t].items,r=0;a.length>r;r++)o.push(a[r]);return o}function i(e,n){var i=x.initWidget(e,{},n);return i?new y(i):t}function a(e){var t,n,i,r,o,s,l,d={};for(l=e.match(k),t=0,n=l.length;n>t;t++)i=l[t],r=i.indexOf(":"),o=i.substring(0,r),s=i.substring(r+1),"{"==s.charAt(0)&&(s=a(s)),d[o]=s;return d}function r(e,t,n){var i,a={};for(i in e)a[i]=new n(t,e[i]);return a}function o(e,t,n,s){var d,c,u,h=e.getAttribute("data-"+x.ns+"role"),p=e.getAttribute("data-"+x.ns+"bind"),v=e.children,b=[],y=!0,k={};if(s=s||[t],(h||p)&&l(e),h&&(u=i(e,n)),p&&(p=a(p.replace(w,"")),u||(k=x.parseOptions(e,{textField:"",valueField:"",template:"",valueUpdate:N,valuePrimitive:!1,autoBind:!0}),k.roles=n,u=new _(e,k)),u.source=t,c=r(p,s,f),k.template&&(c.template=new m(s,"",k.template)),c.click&&(p.events=p.events||{},p.events.click=p.click,delete c.click),c.source&&(y=!1),p.attr&&(c.attr=r(p.attr,s,f)),p.style&&(c.style=r(p.style,s,f)),p.events&&(c.events=r(p.events,s,g)),u.bind(c)),u&&(e.kendoBindingTarget=u),y&&v){for(d=0;v.length>d;d++)b[d]=v[d];for(d=0;b.length>d;d++)o(b[d],t,n,s)}}function s(t,n){var i,a,r,s=x.rolesFromNamespaces([].slice.call(arguments,2));for(n=x.observable(n),t=e(t),i=0,a=t.length;a>i;i++)r=t[i],1===r.nodeType&&o(r,n,s)}function l(e){var t=e.kendoBindingTarget;t&&(t.destroy(),R?delete e.kendoBindingTarget:e.removeAttribute?e.removeAttribute("kendoBindingTarget"):e.kendoBindingTarget=null)}function d(e){l(e),c(e)}function c(e){var t,n,i=e.children;if(i)for(t=0,n=i.length;n>t;t++)d(i[t])}function u(t){var n,i;for(t=e(t),n=0,i=t.length;i>n;n++)d(t[n])}function h(e,t){var n=e.element,i=n[0].kendoBindingTarget;i&&s(n,i.source,t)}var p,f,g,m,v,b,_,y,k,w,x=window.kendo,C=x.Observable,T=x.data.ObservableObject,S=x.data.ObservableArray,D={}.toString,E={},F=x.Class,A=e.proxy,M="value",H="source",z="events",I="checked",R=!0,N="change";!function(){var e=document.createElement("a");e.innerText!==t?p="innerText":e.textContent!==t&&(p="textContent");try{delete e.test}catch(n){R=!1}}(),f=C.extend({init:function(e,t){var n=this;C.fn.init.call(n),n.source=e[0],n.parents=e,n.path=t,n.dependencies={},n.dependencies[t]=!0,n.observable=n.source instanceof C,n._access=function(e){n.dependencies[e.field]=!0},n.observable&&(n._change=function(e){n.change(e)},n.source.bind(N,n._change))},_parents:function(){var t,n=this.parents,i=this.get();return i&&"function"==typeof i.parent&&(t=i.parent(),e.inArray(t,n)<0&&(n=[t].concat(n))),n},change:function(e){var t,n,i=e.field,a=this;if("this"===a.path)a.trigger(N,e);else for(t in a.dependencies)if(0===t.indexOf(i)&&(n=t.charAt(i.length),!n||"."===n||"["===n)){a.trigger(N,e);break}},start:function(e){e.bind("get",this._access)},stop:function(e){e.unbind("get",this._access)},get:function(){var e=this,n=e.source,i=0,a=e.path,r=n;if(!e.observable)return r;for(e.start(e.source),r=n.get(a);r===t&&n;)n=e.parents[++i],n instanceof T&&(r=n.get(a));if(r===t)for(n=e.source;r===t&&n;)n=n.parent(),n instanceof T&&(r=n.get(a));return"function"==typeof r&&(i=a.lastIndexOf("."),i>0&&(n=n.get(a.substring(0,i))),e.start(n),r=n!==e.source?r.call(n,e.source):r.call(n),e.stop(n)),n&&n!==e.source&&(e.currentSource=n,n.unbind(N,e._change).bind(N,e._change)),e.stop(e.source),r},set:function(e){var t=this.currentSource||this.source,n=x.getter(this.path)(t);"function"==typeof n?t!==this.source?n.call(t,this.source,e):n.call(t,e):t.set(this.path,e)},destroy:function(){this.observable&&this.source.unbind(N,this._change)}}),g=f.extend({get:function(){var e,t=this.source,n=this.path,i=0;for(e=t.get(n);!e&&t;)t=this.parents[++i],t instanceof T&&(e=t.get(n));return A(e,t)}}),m=f.extend({init:function(e,t,n){var i=this;f.fn.init.call(i,e,t),i.template=n},render:function(e){var t;return this.start(this.source),t=x.render(this.template,e),this.stop(this.source),t}}),v=F.extend({init:function(e,t,n){this.element=e,this.bindings=t,this.options=n},bind:function(e,t){var n=this;e=t?e[t]:e,e.bind(N,function(e){n.refresh(t||e)}),n.refresh(t)},destroy:function(){}}),E.attr=v.extend({refresh:function(e){this.element.setAttribute(e,this.bindings.attr[e].get())}}),E.style=v.extend({refresh:function(e){this.element.style[e]=this.bindings.style[e].get()||""}}),E.enabled=v.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),E.readonly=v.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}}),E.disabled=v.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),E.events=v.extend({init:function(e,t,n){v.fn.init.call(this,e,t,n),this.handlers={}},refresh:function(t){var n=e(this.element),i=this.bindings.events[t],a=this.handlers[t];a&&n.off(t,a),a=this.handlers[t]=i.get(),n.on(t,i.source,a)},destroy:function(){var t,n=e(this.element);for(t in this.handlers)n.off(t,this.handlers[t])}}),E.text=v.extend({refresh:function(){var e=this.bindings.text.get();null==e&&(e=""),this.element[p]=e}}),E.visible=v.extend({refresh:function(){this.element.style.display=this.bindings.visible.get()?"":"none"}}),E.invisible=v.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}}),E.html=v.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),E.value=v.extend({init:function(t,n,i){v.fn.init.call(this,t,n,i),this._change=A(this.change,this),this.eventName=i.valueUpdate||N,e(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){var e,t;this._initChange=this.eventName!=N,e=this.element.value,t=this.element.type,"date"==t?e=x.parseDate(e,"yyyy-MM-dd"):"datetime-local"==t?e=x.parseDate(e,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):"number"==t&&(e=x.parseFloat(e)),this.bindings[M].set(e),this._initChange=!1},refresh:function(){var e,t;this._initChange||(e=this.bindings[M].get(),null==e&&(e=""),t=this.element.type,"date"==t?e=x.toString(e,"yyyy-MM-dd"):"datetime-local"==t&&(e=x.toString(e,"yyyy-MM-ddTHH:mm:ss")),this.element.value=e),this._initChange=!1},destroy:function(){e(this.element).off(this.eventName,this._change)}}),E.source=v.extend({init:function(e,t,n){v.fn.init.call(this,e,t,n);var i=this.bindings.source.get();i instanceof x.data.DataSource&&n.autoBind!==!1&&i.fetch()},refresh:function(e){var t=this,n=t.bindings.source.get();n instanceof S||n instanceof x.data.DataSource?(e=e||{},"add"==e.action?t.add(e.index,e.items):"remove"==e.action?t.remove(e.index,e.items):"itemchange"!=e.action&&t.render()):t.render()},container:function(){var e=this.element;return"table"==e.nodeName.toLowerCase()&&(e.tBodies[0]||e.appendChild(document.createElement("tbody")),e=e.tBodies[0]),e},template:function(){var e=this.options,t=e.template,n=this.container().nodeName.toLowerCase();return t||(t="select"==n?e.valueField||e.textField?x.format('<option value="#:{0}#">#:{1}#</option>',e.valueField||e.textField,e.textField||e.valueField):"<option>#:data#</option>":"tbody"==n?"<tr><td>#:data#</td></tr>":"ul"==n||"ol"==n?"<li>#:data#</li>":"#:data#",t=x.template(t)),t},add:function(t,n){var i,a,r,s,l=this.container(),d=l.cloneNode(!1),c=l.children[t];if(e(d).html(x.render(this.template(),n)),d.children.length)for(i=this.bindings.source._parents(),a=0,r=n.length;r>a;a++)s=d.children[0],l.insertBefore(s,c||null),o(s,n[a],this.options.roles,[n[a]].concat(i))},remove:function(e,t){var n,i,a=this.container();for(n=0;t.length>n;n++)i=a.children[e],d(i),a.removeChild(i)},render:function(){var t,n,i,a=this.bindings.source.get(),r=this.container(),s=this.template();if(a instanceof x.data.DataSource&&(a=a.view()),a instanceof S||"[object Array]"===D.call(a)||(a=[a]),this.bindings.template){if(c(r),e(r).html(this.bindings.template.render(a)),r.children.length)for(t=this.bindings.source._parents(),n=0,i=a.length;i>n;n++)o(r.children[n],a[n],this.options.roles,[a[n]].concat(t))}else e(r).html(x.render(s,a))}}),E.input={checked:v.extend({init:function(t,n,i){v.fn.init.call(this,t,n,i),this._change=A(this.change,this),e(this.element).change(this._change)},change:function(){var e,t,n=this.element,i=this.value();"radio"==n.type?this.bindings[I].set(i):"checkbox"==n.type&&(e=this.bindings[I].get(),e instanceof S?(i=this.element.value,"on"!==i&&"off"!==i&&(t=e.indexOf(i),t>-1?e.splice(t,1):e.push(i))):this.bindings[I].set(i))},refresh:function(){var e=this.bindings[I].get(),t=e,n=this.element;"checkbox"==n.type?(t instanceof S&&(e=this.element.value,t.indexOf(e)>=0&&(e=!0)),n.checked=e===!0):"radio"==n.type&&null!=e&&n.value===""+e&&(n.checked=!0)},value:function(){var e=this.element,t=e.value;return"checkbox"==e.type&&(t=e.checked),t},destroy:function(){e(this.element).off(N,this._change)}})},E.select={value:v.extend({init:function(t,n,i){v.fn.init.call(this,t,n,i),this._change=A(this.change,this),e(this.element).change(this._change)},change:function(){var e,t,n,i,a,r,o=[],s=this.element,l=this.options.valueField||this.options.textField,d=this.options.valuePrimitive;for(a=0,r=s.options.length;r>a;a++)t=s.options[a],t.selected&&(i=t.attributes.value,i=i&&i.specified?t.value:t.text,o.push(i));if(l)for(e=this.bindings.source.get(),n=0;o.length>n;n++)for(a=0,r=e.length;r>a;a++)if(e[a].get(l)==o[n]){o[n]=e[a];break}i=this.bindings[M].get(),i instanceof S?i.splice.apply(i,[0,i.length].concat(o)):this.bindings[M].set(d||!(i instanceof T)&&l?o[0].get(l):o[0])},refresh:function(){var e,t,n,i=this.element,a=i.options,r=this.bindings[M].get(),o=r,s=this.options.valueField||this.options.textField,l=!1;for(o instanceof S||(o=new S([r])),i.selectedIndex=-1,n=0;o.length>n;n++)for(r=o[n],s&&r instanceof T&&(r=r.get(s)),e=0;a.length>e;e++)t=a[e].value,""===t&&""!==r&&(t=a[e].text),t==r&&(a[e].selected=!0,l=!0)},destroy:function(){e(this.element).off(N,this._change)}})},E.widget={events:v.extend({init:function(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e,this.handlers={}},refresh:function(e){var t=this.bindings.events[e],n=this.handlers[e];n&&this.widget.unbind(e,n),n=t.get(),this.handlers[e]=function(e){e.data=t.source,n(e),e.data===t.source&&delete e.data},this.widget.bind(e,this.handlers[e])},destroy:function(){var e;for(e in this.handlers)this.widget.unbind(e,this.handlers[e])}}),checked:v.extend({init:function(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e,this._change=A(this.change,this),this.widget.bind(N,this._change)},change:function(){this.bindings[I].set(this.value())},refresh:function(){this.widget.check(this.bindings[I].get()===!0)},value:function(){var e=this.element,t=e.value;return("on"==t||"off"==t)&&(t=e.checked),t},destroy:function(){this.widget.unbind(N,this._change)}}),visible:v.extend({init:function(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){var e=this.bindings.visible.get();this.widget.wrapper[0].style.display=e?"":"none"}}),invisible:v.extend({init:function(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){var e=this.bindings.invisible.get();this.widget.wrapper[0].style.display=e?"none":""}}),enabled:v.extend({init:function(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:v.extend({init:function(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:v.extend({init:function(e,t,n){var i=this;v.fn.init.call(i,e.element[0],t,n),i.widget=e,i._dataBinding=A(i.dataBinding,i),i._dataBound=A(i.dataBound,i),i._itemChange=A(i.itemChange,i)},itemChange:function(e){o(e.item[0],e.data,this._ns(e.ns),[e.data].concat(this.bindings.source._parents()))},dataBinding:function(){var e,t,n=this.widget,i=n.items();for(e=0,t=i.length;t>e;e++)d(i[e])},_ns:function(t){t=t||x.ui;var n=[x.ui,x.dataviz.ui,x.mobile.ui];return n.splice(e.inArray(t,n),1),n.unshift(t),x.rolesFromNamespaces(n)},dataBound:function(e){var t,i,a,r=this.widget,s=r.items(),l=r.dataSource,d=l.view(),c=l.group()||[];if(s.length)for(c.length&&(d=n(d)),a=this.bindings.source._parents(),t=0,i=d.length;i>t;t++)o(s[t],d[t],this._ns(e.ns),[d[t]].concat(a))},refresh:function(e){var t,n=this,i=n.widget;e=e||{},e.action||(n.destroy(),i.bind("dataBinding",n._dataBinding),i.bind("dataBound",n._dataBound),i.bind("itemChange",n._itemChange),t=n.bindings.source.get(),i.dataSource instanceof x.data.DataSource&&i.dataSource!=t&&(t instanceof x.data.DataSource?i.setDataSource(t):t&&t._dataSource?i.setDataSource(t._dataSource):i.dataSource.data(t)))},destroy:function(){var e=this.widget;e.unbind("dataBinding",this._dataBinding),e.unbind("dataBound",this._dataBound),e.unbind("itemChange",this._itemChange)}}),value:v.extend({init:function(t,n,i){v.fn.init.call(this,t.element[0],n,i),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(N,this._change);var a=this.bindings.value.get();this._valueIsObservableObject=!i.valuePrimitive&&(null==a||a instanceof T),this._valueIsObservableArray=a instanceof S,this._initChange=!1},change:function(){var e,t,n,i,a,r,o,s=this.widget.value(),l=this.options.dataValueField||this.options.dataTextField,d="[object Array]"===D.call(s),c=this._valueIsObservableObject,u=[];if(this._initChange=!0,l)if(this.bindings.source&&(o=this.bindings.source.get()),""===s&&(c||this.options.valuePrimitive))s=null;else{for((!o||o instanceof x.data.DataSource)&&(o=this.widget.dataSource.view()),d&&(t=s.length,u=s.slice(0)),a=0,r=o.length;r>a;a++)if(n=o[a],i=n.get(l),d){for(e=0;t>e;e++)if(i==u[e]){u[e]=n;break}}else if(i==s){s=c?n:i;break}u[0]&&(s=this._valueIsObservableArray?u:c||!l?u[0]:u[0].get(l))}this.bindings.value.set(s),this._initChange=!1},refresh:function(){if(!this._initChange){var e,n=this.options.dataValueField||this.options.dataTextField,i=this.bindings.value.get(),a=0,r=[];if(i===t&&(i=null),n)if(i instanceof S){for(e=i.length;e>a;a++)r[a]=i[a].get(n);i=r}else i instanceof T&&(i=i.get(n));this.widget.value(i)}this._initChange=!1},destroy:function(){this.widget.unbind(N,this._change)}}),multiselect:{value:v.extend({init:function(t,n,i){v.fn.init.call(this,t.element[0],n,i),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(N,this._change),this._initChange=!1},change:function(){var e,t,n,i,a,r,o,s,l,d=this,c=d.bindings[M].get(),u=d.options.valuePrimitive,h=u?d.widget.value():d.widget.dataItems(),p=this.options.dataValueField||this.options.dataTextField;if(h=h.slice(0),d._initChange=!0,c instanceof S){for(e=[],t=h.length,n=0,i=0,a=c[n],r=!1;a;){for(l=!1,i=0;t>i;i++)if(u?r=h[i]==a:(s=h[i],s=s.get?s.get(p):s,r=s==(a.get?a.get(p):a)),r){h.splice(i,1),t-=1,l=!0;break}l?n+=1:(e.push(a),b(c,n,1),o=n),a=c[n]}b(c,c.length,0,h),e.length&&c.trigger("change",{action:"remove",items:e,index:o}),h.length&&c.trigger("change",{action:"add",items:h,index:c.length-1})}else d.bindings[M].set(h);d._initChange=!1},refresh:function(){if(!this._initChange){var e,n,i=this.options.dataValueField||this.options.dataTextField,a=this.bindings.value.get(),r=0,o=[];if(a===t&&(a=null),i)if(a instanceof S){for(e=a.length;e>r;r++)n=a[r],o[r]=n.get?n.get(i):n;a=o}else a instanceof T&&(a=a.get(i));this.widget.value(a)}},destroy:function(){this.widget.unbind(N,this._change)}})}},b=function(e,t,n,i){var a,r,o,s,l;if(i=i||[],n=n||0,a=i.length,r=e.length,o=[].slice.call(e,t+n),s=o.length,a){for(a=t+a,l=0;a>t;t++)e[t]=i[l],l++;e.length=a}else if(n)for(e.length=t,n+=t;n>t;)delete e[--n];if(s){for(s=t+s,l=0;s>t;t++)e[t]=o[l],l++;e.length=s}for(t=e.length;r>t;)delete e[t],t++},_=F.extend({init:function(e,t){this.target=e,this.options=t,this.toDestroy=[]},bind:function(e){var t,n,i,a,r=this.target.nodeName.toLowerCase(),o=E[r]||{};for(t in e)t==M?n=!0:t==H?i=!0:t==z?a=!0:this.applyBinding(t,e,o);i&&this.applyBinding(H,e,o),n&&this.applyBinding(M,e,o),a&&this.applyBinding(z,e,o)},applyBinding:function(e,t,n){var i,a=n[e]||E[e],r=this.toDestroy,o=t[e];if(a)if(a=new a(this.target,t,this.options),r.push(a),o instanceof f)a.bind(o),r.push(o);else for(i in o)a.bind(o,i),r.push(o[i]);else if("template"!==e)throw Error("The "+e+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var e,t,n=this.toDestroy;for(e=0,t=n.length;t>e;e++)n[e].destroy()}}),y=_.extend({bind:function(e){var t,n=this,i=!1,a=!1,r=E.widget[n.target.options.name.toLowerCase()]||{};for(t in e)t==M?i=!0:t==H?a=!0:n.applyBinding(t,e,r);a&&n.applyBinding(H,e,r),i&&n.applyBinding(M,e,r)},applyBinding:function(e,t,n){var i,a=n[e]||E.widget[e],r=this.toDestroy,o=t[e];if(!a)throw Error("The "+e+" binding is not supported by the "+this.target.options.name+" widget");if(a=new a(this.target,t,this.target.options),r.push(a),o instanceof f)a.bind(o),r.push(o);else for(i in o)a.bind(o,i),r.push(o[i])}}),k=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,w=/\s/g,x.unbind=u,x.bind=s,x.data.binders=E,x.data.Binder=v,x.notify=h,x.observable=function(e){return e instanceof T||(e=new T(e)),e},x.observableHierarchy=function(e){function t(e){var n,i;for(n=0;e.length>n;n++)e[n]._initChildren(),i=e[n].children,i.fetch(),e[n].items=i.data(),t(e[n].items)}var n=x.data.HierarchicalDataSource.create(e);return n.fetch(),t(n.data()),n._data._dataSource=n,n._data}}(window.kendo.jQuery),function(e,t){function n(e){return parseInt(e,10)}function i(e,t){return n(e.css(t))}function a(e){var t,n=[];for(t in e)n.push(t);return n}function r(e){for(var t in e)-1!=j.indexOf(t)&&-1==W.indexOf(t)&&delete e[t];return e}function o(e,t){var n,i,a,r,o=[],s={};for(i in t)n=i.toLowerCase(),r=A&&-1!=j.indexOf(n),!E.hasHW3D&&r&&-1==W.indexOf(n)?delete t[i]:(a=t[i],r?o.push(i+"("+a+")"):s[i]=a);return o.length&&(s[ot]=o.join(" ")),s}function s(e,t){var i,a,r;return A?(i=e.css(ot),i==Q?"scale"==t?1:0:(a=i.match(RegExp(t+"\\s*\\(([\\d\\w\\.]+)")),r=0,a?r=n(a[1]):(a=i.match(R)||[0,0,0,0,0],t=t.toLowerCase(),P.test(t)?r=parseFloat(a[3]/a[2]):"translatey"==t?r=parseFloat(a[4]/a[2]):"scale"==t?r=parseFloat(a[2]):"rotate"==t&&(r=parseFloat(Math.atan2(a[2],a[1])))),r)):parseFloat(e.css(t))}function l(e){return e.charAt(0).toUpperCase()+e.substring(1)}function d(e,t){var n=f.extend(t),i=n.prototype.directions;C[l(e)]=n,C.Element.prototype[e]=function(e,t,i,a){return new n(this.element,e,t,i,a)},T(i,function(t,i){C.Element.prototype[e+l(i)]=function(e,t,a){return new n(this.element,i,e,t,a)}})}function c(e,n,i,a){d(e,{directions:m,startValue:function(e){return this._startValue=e,this},endValue:function(e){return this._endValue=e,this},shouldHide:function(){return this._shouldHide},prepare:function(e,r){var o,s,l=this,d="out"===this._direction,c=l.element.data(n),u=!(isNaN(c)||c==i);o=u?c:t!==this._startValue?this._startValue:d?i:a,s=t!==this._endValue?this._endValue:d?a:i,this._reverse?(e[n]=s,r[n]=o):(e[n]=o,r[n]=s),l._shouldHide=r[n]===a}})}function u(e,t){var n=x.directions[t].vertical,i=e[n?X:K]()/2+"px";return b[t].replace("$size",i)}var h,p,f,g,m,v,b,_,y,k,w,x=window.kendo,C=x.effects,T=e.each,S=e.extend,D=e.proxy,E=x.support,F=E.browser,A=E.transforms,M=E.transitions,H={scale:0,scalex:0,scaley:0,scale3d:0},z={translate:0,translatex:0,translatey:0,translate3d:0},I=t!==document.documentElement.style.zoom&&!A,R=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,N=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,P=/translatex?$/i,O=/(zoom|fade|expand)(\w+)/,L=/(zoom|fade|expand)/,B=/[xy]$/i,j=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],W=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],V={rotate:"deg",scale:"",skew:"px",translate:"px"},q=A.css,$=Math.round,U="",G="px",Q="none",Y="auto",K="width",X="height",J="hidden",Z="origin",et="abortId",tt="overflow",nt="translate",it="position",at="completeCallback",rt=q+"transition",ot=q+"transform",st=q+"backface-visibility",lt=q+"perspective",dt="1500px",ct="perspective("+dt+")",ut={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};x.directions=ut,S(e.fn,{kendoStop:function(e,t){return M?C.stopQueue(this,e||!1,t||!1):this.stop(e,t)}}),A&&!M&&(T(W,function(n,i){e.fn[i]=function(n){if(t===n)return s(this,i);var a=e(this)[0],r=i+"("+n+V[i.replace(B,"")]+")";return-1==a.style.cssText.indexOf(ot)?e(this).css(ot,r):a.style.cssText=a.style.cssText.replace(RegExp(i+"\\(.*?\\)","i"),r),this},e.fx.step[i]=function(t){e(t.elem)[i](t.now)}}),h=e.fx.prototype.cur,e.fx.prototype.cur=function(){return-1!=W.indexOf(this.prop)?parseFloat(e(this.elem)[this.prop]()):h.apply(this,arguments)}),x.toggleClass=function(e,t,n,i){return t&&(t=t.split(" "),M&&(n=S({exclusive:"all",duration:400,ease:"ease-out"},n),e.css(rt,n.exclusive+" "+n.duration+"ms "+n.ease),setTimeout(function(){e.css(rt,"").css(X)},n.duration)),T(t,function(t,n){e.toggleClass(n,i)})),e},x.parseEffects=function(e,t){var n={};return"string"==typeof e?T(e.split(" "),function(e,i){var a=!L.test(i),r=i.replace(O,function(e,t,n){return t+":"+n.toLowerCase()}),o=r.split(":"),s=o[1],l={};o.length>1&&(l.direction=t&&a?ut[s].reverse:s),n[o[0]]=l}):T(e,function(e){var i=this.direction;i&&t&&!L.test(e)&&(this.direction=ut[i].reverse),n[e]=this}),n},M&&S(C,{transition:function(t,n,i){var r,s,l,d,c=0,u=t.data("keys")||[];i=S({duration:200,ease:"ease-out",complete:null,exclusive:"all"},i),l=!1,d=function(){l||(l=!0,s&&(clearTimeout(s),s=null),t.removeData(et).dequeue().css(rt,"").css(rt),i.complete.call(t))},i.duration=e.fx?e.fx.speeds[i.duration]||i.duration:i.duration,r=o(t,n),e.merge(u,a(r)),t.data("keys",e.unique(u)).height(),t.css(rt,i.exclusive+" "+i.duration+"ms "+i.ease).css(rt),t.css(r).css(ot),M.event&&(t.one(M.event,d),0!==i.duration&&(c=500)),s=setTimeout(d,i.duration+c),t.data(et,s),t.data(at,d)},stopQueue:function(e,t,n){var i,a=e.data("keys"),r=!n&&a,o=e.data(at);return r&&(i=x.getComputedStyles(e[0],a)),o&&o(),r&&e.css(i),e.removeData("keys").stop(t)}}),p=x.Class.extend({init:function(e,t){var n=this;n.element=e,n.effects=[],n.options=t,n.restore=[]},run:function(t){var n,i,a,s,l,d,c,u=this,h=t.length,p=u.element,f=u.options,g=e.Deferred(),m={},v={};for(u.effects=t,g.then(e.proxy(u,"complete")),p.data("animating",!0),i=0;h>i;i++)for(n=t[i],n.setReverse(f.reverse),n.setOptions(f),u.addRestoreProperties(n.restore),n.prepare(m,v),l=n.children(),a=0,d=l.length;d>a;a++)l[a].duration(f.duration).run();for(c in f.effects)S(v,f.effects[c].properties);for(p.is(":visible")||S(m,{display:p.data("olddisplay")||"block"}),A&&!f.reset&&(s=p.data("targetTransform"),s&&(m=S(s,m))),m=o(p,m),A&&!M&&(m=r(m)),p.css(m).css(ot),i=0;h>i;i++)t[i].setup();return f.init&&f.init(),p.data("targetTransform",v),C.animate(p,v,S({},f,{complete:g.resolve})),g.promise()},stop:function(){e(this.element).kendoStop(!0,!0)},addRestoreProperties:function(e){for(var t,n=this.element,i=0,a=e.length;a>i;i++)t=e[i],this.restore.push(t),n.data(t)||n.data(t,n.css(t))},restoreCallback:function(){var e,t,n,i=this.element;for(e=0,t=this.restore.length;t>e;e++)n=this.restore[e],i.css(n,i.data(n))},complete:function(){var t=this,n=0,i=t.element,a=t.options,r=t.effects,o=r.length;for(i.removeData("animating").dequeue(),a.hide&&i.data("olddisplay",i.css("display")).hide(),this.restoreCallback(),I&&!A&&setTimeout(e.proxy(this,"restoreCallback"),0);o>n;n++)r[n].teardown();a.completeCallback&&a.completeCallback(i)}}),C.promise=function(e,t){var n,i,a,r=[],o=new p(e,t),s=x.parseEffects(t.effects);t.effects=s;for(a in s)n=C[l(a)],n&&(i=new n(e,s[a].direction),r.push(i));r[0]?o.run(r):(e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.init&&t.init(),e.dequeue(),o.complete())},S(C,{animate:function(n,a,o){var s=o.transition!==!1;delete o.transition,M&&"transition"in C&&s?C.transition(n,a,o):A?n.animate(r(a),{queue:!1,show:!1,hide:!1,duration:o.duration,complete:o.complete}):n.each(function(){var n=e(this),r={};T(j,function(e,o){var s,l,d,c,u,h,p,f=a?a[o]+" ":null;f&&(l=a,o in H&&a[o]!==t?(s=f.match(N),A&&S(l,{scale:+s[0]})):o in z&&a[o]!==t&&(d=n.css(it),c="absolute"==d||"fixed"==d,n.data(nt)||(c?n.data(nt,{top:i(n,"top")||0,left:i(n,"left")||0,bottom:i(n,"bottom"),right:i(n,"right")}):n.data(nt,{top:i(n,"marginTop")||0,left:i(n,"marginLeft")||0})),u=n.data(nt),s=f.match(N),s&&(h=o==nt+"y"?0:+s[1],p=o==nt+"y"?+s[1]:+s[2],c?(isNaN(u.right)?isNaN(h)||S(l,{left:u.left+h}):isNaN(h)||S(l,{right:u.right-h}),isNaN(u.bottom)?isNaN(p)||S(l,{top:u.top+p}):isNaN(p)||S(l,{bottom:u.bottom-p})):(isNaN(h)||S(l,{marginLeft:u.left+h}),isNaN(p)||S(l,{marginTop:u.top+p})))),!A&&"scale"!=o&&o in l&&delete l[o],l&&S(r,l))}),F.msie&&delete r.scale,n.animate(r,{queue:!1,show:!1,hide:!1,duration:o.duration,complete:o.complete})})}}),C.animatedPromise=C.promise,f=x.Class.extend({init:function(e,t){var n=this;n.element=e,n._direction=t,n.options={},n._additionalEffects=[],n.restore||(n.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(e){return this._additionalEffects.push(e),this},direction:function(e){return this._direction=e,this},duration:function(e){return this._duration=e,this},compositeRun:function(){var e=this,t=new p(e.element,{reverse:e._reverse,duration:e._duration}),n=e._additionalEffects.concat([e]);return t.run(n)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var t,n,i=this,a=i.element,s=0,l=i.restore,d=l.length,c=e.Deferred(),u={},h={},p=i.children(),f=p.length;for(c.then(e.proxy(i,"_complete")),a.data("animating",!0),s=0;d>s;s++)t=l[s],a.data(t)||a.data(t,a.css(t));for(s=0;f>s;s++)p[s].duration(i._duration).run();return i.prepare(u,h),a.is(":visible")||S(u,{display:a.data("olddisplay")||"block"}),A&&(n=a.data("targetTransform"),n&&(u=S(n,u))),u=o(a,u),A&&!M&&(u=r(u)),a.css(u).css(ot),i.setup(),a.data("targetTransform",h),C.animate(a,h,{duration:i._duration,complete:c.resolve}),c.promise()},stop:function(){var t=0,n=this.children(),i=n.length;for(t=0;i>t;t++)n[t].stop();return e(this.element).kendoStop(!0,!0),this},restoreCallback:function(){var e,t,n,i=this.element;for(e=0,t=this.restore.length;t>e;e++)n=this.restore[e],i.css(n,i.data(n))},_complete:function(){var t=this,n=t.element;n.removeData("animating").dequeue(),t.restoreCallback(),t.shouldHide()&&n.data("olddisplay",n.css("display")).hide(),I&&!A&&setTimeout(e.proxy(t,"restoreCallback"),0),t.teardown()},setOptions:function(e){S(!0,this.options,e)},children:function(){return[]},shouldHide:e.noop,setup:e.noop,prepare:e.noop,teardown:e.noop,directions:[],setReverse:function(e){return this._reverse=e,this}}),g=["left","right","up","down"],m=["in","out"],d("slideIn",{directions:g,divisor:function(e){return this.options.divisor=e,this},prepare:function(e,t){var n,i=this,a=i.element,r=ut[i._direction],o=-r.modifier*(r.vertical?a.outerHeight():a.outerWidth()),s=o/(i.options&&i.options.divisor||1)+G,l="0px";i._reverse&&(n=e,e=t,t=n),A?(e[r.transition]=s,t[r.transition]=l):(e[r.property]=s,t[r.property]=l)}}),d("tile",{directions:g,init:function(e,t,n){f.prototype.init.call(this,e,t),this.options={previous:n}},previousDivisor:function(e){return this.options.previousDivisor=e,this},children:function(){var e=this,t=e._reverse,n=e.options.previous,i=e.options.previousDivisor||1,a=e._direction,r=[x.fx(e.element).slideIn(a).setReverse(t)];return n&&r.push(x.fx(n).slideIn(ut[a].reverse).divisor(i).setReverse(!t)),r}}),c("fade","opacity",1,0),c("zoom","scale",1,.01),d("slideMargin",{prepare:function(e,t){var n,i=this,a=i.element,r=i.options,o=a.data(Z),s=r.offset,l=i._reverse;l||null!==o||a.data(Z,parseFloat(a.css("margin-"+r.axis))),n=a.data(Z)||0,t["margin-"+r.axis]=l?n:n+s}}),d("slideTo",{prepare:function(e,t){var n=this,i=n.element,a=n.options,r=a.offset.split(","),o=n._reverse;A?(t.translatex=o?0:r[0],t.translatey=o?0:r[1]):(t.left=o?0:r[0],t.top=o?0:r[1]),i.css("left")}}),d("expand",{directions:["horizontal","vertical"],restore:[tt],prepare:function(e,n){var i=this,a=i.element,r=i.options,o=i._reverse,s="vertical"===i._direction?X:K,l=a[0].style[s],d=a.data(s),c=parseFloat(d||l),u=$(a.css(s,Y)[s]());e.overflow=J,c=r&&r.reset?u||c:c||u,n[s]=(o?0:c)+G,e[s]=(o?c:0)+G,d===t&&a.data(s,l)},shouldHide:function(){return this._reverse},teardown:function(){var e=this,t=e.element,n="vertical"===e._direction?X:K,i=t.data(n);(i==Y||i===U)&&setTimeout(function(){t.css(n,Y).css(n)},0)}}),v={position:"absolute",marginLeft:0,marginTop:0,scale:1},d("transfer",{init:function(e,t){this.element=e,this.options={target:t},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(e,t){var n,i,a,r,o,l,d,c,u,h,p,f,g,m=this,b=m.element,_=m.options,y=m._reverse,k=_.target,w=s(b,"scale"),x=k.offset(),C=k.outerHeight()/b.outerHeight();S(e,v),t.scale=1,b.css(ot,"scale(1)").css(ot),n=b.offset(),b.css(ot,"scale("+w+")"),i=0,a=0,r=x.left-n.left,o=x.top-n.top,l=i+b.outerWidth(),d=a,c=r+k.outerWidth(),u=o,h=(o-a)/(r-i),p=(u-d)/(c-l),f=(a-d-h*i+p*l)/(p-h),g=a+h*(f-i),e.top=n.top,e.left=n.left,e.transformOrigin=f+G+" "+g+G,y?e.scale=C:t.scale=C}}),b={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},_={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}},d("turningPage",{directions:g,init:function(e,t,n){f.prototype.init.call(this,e,t),this._container=n},prepare:function(e,t){var n=this,i=n._reverse,a=i?ut[n._direction].reverse:n._direction,r=_[a];e.zIndex=1,n._clipInHalf&&(e.clip=u(n._container,x.directions[a].reverse)),e[st]=J,t[ot]=ct+(i?r.start:r.end),e[ot]=ct+(i?r.end:r.start)},setup:function(){this._container.append(this.element)},face:function(e){return this._face=e,this},shouldHide:function(){var e=this,t=e._reverse,n=e._face;return t&&!n||!t&&n},clipInHalf:function(e){return this._clipInHalf=e,this},temporary:function(){return this.element.addClass("temp-page"),this}}),d("staticPage",{directions:g,init:function(e,t,n){f.prototype.init.call(this,e,t),this._container=n},restore:["clip"],prepare:function(e,t){var n=this,i=n._reverse?ut[n._direction].reverse:n._direction;e.clip=u(n._container,i),e.opacity=.999,t.opacity=1},shouldHide:function(){var e=this,t=e._reverse,n=e._face;return t&&!n||!t&&n},face:function(e){return this._face=e,this}}),d("pageturn",{directions:["horizontal","vertical"],init:function(e,t,n,i){f.prototype.init.call(this,e,t),this.options={},this.options.face=n,this.options.back=i},children:function(){var e,t=this,n=t.options,i="horizontal"===t._direction?"left":"top",a=x.directions[i].reverse,r=t._reverse,o=n.face.clone(!0).removeAttr("id"),s=n.back.clone(!0).removeAttr("id"),l=t.element;return r&&(e=i,i=a,a=e),[x.fx(n.face).staticPage(i,l).face(!0).setReverse(r),x.fx(n.back).staticPage(a,l).setReverse(r),x.fx(o).turningPage(i,l).face(!0).clipInHalf(!0).temporary().setReverse(r),x.fx(s).turningPage(a,l).clipInHalf(!0).temporary().setReverse(r)]},prepare:function(e,t){e[lt]=dt,e.transformStyle="preserve-3d",e.opacity=.999,t.opacity=1
},teardown:function(){this.element.find(".temp-page").remove()}}),d("flip",{directions:["horizontal","vertical"],init:function(e,t,n,i){f.prototype.init.call(this,e,t),this.options={},this.options.face=n,this.options.back=i},children:function(){var e,t=this,n=t.options,i="horizontal"===t._direction?"left":"top",a=x.directions[i].reverse,r=t._reverse,o=t.element;return r&&(e=i,i=a,a=e),[x.fx(n.face).turningPage(i,o).face(!0).setReverse(r),x.fx(n.back).turningPage(a,o).setReverse(r)]},prepare:function(e){e[lt]=dt,e.transformStyle="preserve-3d"}}),y=!E.mobileOS.android,d("replace",{init:function(t,n,i){f.prototype.init.call(this,t),this._previous=e(n),this._transitionClass=i},duration:function(){throw Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},_both:function(){return e().add(this._element).add(this._previous)},_containerClass:function(){var e=this._direction,t="k-fx k-fx-start k-fx-"+this._transitionClass;return e&&(t+=" k-fx-"+e),this._reverse&&(t+=" k-fx-reverse"),t},complete:function(){if(this.deferred){var e=this.container;e.removeClass("k-fx-end").removeClass(this._containerClass()),this._previous.hide().removeClass("k-fx-current"),this.element.removeClass("k-fx-next"),y&&e.css(tt,""),this.isAbsolute||this._both().css(it,""),this.deferred.resolve(),delete this.deferred}},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var t,n=this,i=n.element,a=n._previous,r=i.parents().filter(a.parents()).first(),o=n._both(),s=e.Deferred(),l=i.css(it);return r.length||(r=i.parent()),this.container=r,this.deferred=s,this.isAbsolute="absolute"==l,this.isAbsolute||o.css(it,"absolute"),y&&(t=r.css(tt),r.css(tt,"hidden")),M?(i.addClass("k-fx-hidden"),r.addClass(this._containerClass()),r.one(M.event,e.proxy(this,"complete")),x.animationFrame(function(){i.removeClass("k-fx-hidden").addClass("k-fx-next"),a.css("display","").addClass("k-fx-current"),x.animationFrame(function(){r.removeClass("k-fx-start").addClass("k-fx-end")})})):this.complete(),s.promise()},stop:function(){this.complete()}}),k=x.Class.extend({init:function(){var e=this;e._tickProxy=D(e._tick,e),e._started=!1},tick:e.noop,done:e.noop,onEnd:e.noop,onCancel:e.noop,start:function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,x.animationFrame(this._tickProxy)))},enabled:function(){return!0},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){var e=this;e._started&&(e.tick(),e.done()?(e._started=!1,e.onEnd()):x.animationFrame(e._tickProxy))}}),w=k.extend({init:function(e){var t=this;S(t,e),k.fn.init.call(t)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(e){var t=this,n=t.movable;t.initial=n[t.axis],t.delta=e.location-t.initial,t.duration="number"==typeof e.duration?e.duration:300,t.tick=t._easeProxy(e.ease),t.startDate=new Date,t.start()},_easeProxy:function(e){var t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}}}),S(w,{easeOutExpo:function(e,t,n,i){return e==i?t+n:n*(-Math.pow(2,-10*e/i)+1)+t},easeOutBack:function(e,t,n,i,a){return a=1.70158,n*((e=e/i-1)*e*((a+1)*e+a)+1)+t}}),C.Animation=k,C.Transition=w,C.createEffect=d}(window.kendo.jQuery),function(e){function t(e){if(!e)return{};var t=e.match(g)||[];return{type:t[1],direction:t[3],reverse:"reverse"===t[5]}}var n=window.kendo,i=n.Observable,a="SCRIPT",r="init",o="show",s="hide",l="attach",d="detach",c=/unrecognized expression/,u=i.extend({init:function(e,t){var a=this;t=t||{},i.fn.init.call(a),a.content=e,a.id=n.guid(),a.tagName=t.tagName||"div",a.model=t.model,a._wrap=t.wrap!==!1,a._fragments={},a.bind([r,o,s],t)},render:function(t){var i=this,a=!i.element;return a&&(i.element=i._createElement()),t&&e(t).append(i.element),a&&(n.bind(i.element,i.model),i.trigger(r)),t&&(i._eachFragment(l),i.trigger(o)),i.element},clone:function(){return new h(this)},triggerBeforeShow:function(){return!0},showStart:function(){this.element.css("display","")},showEnd:function(){},hideStart:function(){},hideEnd:function(){this.hide()},hide:function(){this._eachFragment(d),this.element.detach(),this.trigger(s)},destroy:function(){var e=this.element;e&&(n.unbind(e),n.destroy(e),e.remove())},fragments:function(t){e.extend(this._fragments,t)},_eachFragment:function(e){for(var t in this._fragments)this._fragments[t][e](this,t)},_createElement:function(){var t,i,r=this,o=r._wrap,s="<"+r.tagName+" />";try{i=e(document.getElementById(r.content)||r.content),i[0].tagName===a&&(i=i.html())}catch(l){c.test(l.message)&&(i=r.content)}return"string"==typeof i?(t=e(s).append(i),n.stripWhitespace(t[0]),o||(t=t.contents())):(t=i,o&&(t=t.wrapAll(s).parent())),t}}),h=n.Class.extend({init:function(t){e.extend(this,{element:t.element.clone(!0),transition:t.transition,id:t.id}),t.element.parent().append(this.element)},hideStart:e.noop,hideEnd:function(){this.element.remove()}}),p=u.extend({init:function(e,t){u.fn.init.call(this,e,t),this.containers={}},container:function(e){var t=this.containers[e];return t||(t=this._createContainer(e),this.containers[e]=t),t},showIn:function(e,t,n){this.container(e).show(t,n)},_createContainer:function(e){var t,n=this.render(),i=n.find(e);if(!i.length&&n.is(e)){if(!n.is(e))throw Error("can't find a container with the specified "+e+" selector");i=n}return t=new m(i),t.bind("accepted",function(e){e.view.render(i)}),t}}),f=u.extend({attach:function(e,t){e.element.find(t).replaceWith(this.render())},detach:function(){console.log("detach",arguments)}}),g=/^(\w+)(:(\w+))?( (\w+))?$/,m=i.extend({init:function(e){i.fn.init.call(this),this.container=e,this.history=[],this.view=null,this.running=!1},after:function(){this.running=!1,this.trigger("complete",{view:this.view}),this.trigger("after")},end:function(){this.view.showEnd(),this.previous.hideEnd(),this.after()},show:function(e,i,a){if(!e.triggerBeforeShow())return this.trigger("after"),!1;a=a||e.id;var r=this,o=e===r.view?e.clone():r.view,s=r.history,l=s[s.length-2]||{},d=l.id===a,c=i||(d?s[s.length-1].transition:e.transition),u=t(c);return r.running&&r.effect.stop(),"none"===c&&(c=null),r.trigger("accepted",{view:e}),r.view=e,r.previous=o,r.running=!0,d?s.pop():s.push({id:a,transition:c}),o?(o.hideStart(),e.showStart(),c&&n.effects.enabled?(d&&!i&&(u.reverse=!u.reverse),r.effect=n.fx(e.element).replace(o.element,u.type).direction(u.direction).setReverse(u.reverse),r.effect.run().then(function(){r.end()})):r.end(),!0):(e.showStart(),e.showEnd(),r.after(),!0)}});n.ViewContainer=m,n.Fragment=f,n.Layout=p,n.View=u,n.ViewClone=h}(window.kendo.jQuery),function(){kendo.data.transports.signalr=kendo.data.RemoteTransport.extend({init:function(e){var t,n=e&&e.signalr?e.signalr:{},i=n.promise;if(!i)throw Error('The "promise" option must be set.');if("function"!=typeof i.done||"function"!=typeof i.fail)throw Error('The "promise" option must be a Promise.');if(this.promise=i,t=n.hub,!t)throw Error('The "hub" option must be set.');if("function"!=typeof t.on||"function"!=typeof t.invoke)throw Error('The "hub" option is not a valid SignalR hub proxy.');this.hub=t,kendo.data.RemoteTransport.fn.init.call(this,e)},push:function(e){var t=this.options.signalr.client||{};t.create&&this.hub.on(t.create,e.pushCreate),t.update&&this.hub.on(t.update,e.pushUpdate),t.destroy&&this.hub.on(t.destroy,e.pushDestroy)},_crud:function(e,t){var n,i,a=this.hub,r=this.options.signalr.server;if(!r||!r[t])throw Error(kendo.format('The "server.{0}" option must be set.',t));n=[r[t]],i=this.parameterMap(e.data,t),$.isEmptyObject(i)||n.push(i),this.promise.done(function(){a.invoke.apply(a,n).done(e.success).fail(e.error)})},read:function(e){this._crud(e,"read")},create:function(e){this._crud(e,"create")},update:function(e){this._crud(e,"update")},destroy:function(e){this._crud(e,"destroy")}})}(),function(e){function t(t){var n,i=s.ui.validator.ruleResolvers||{},a={};for(n in i)e.extend(!0,a,i[n].resolve(t));return a}function n(e){return e.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function i(e){return e=(e+"").split("."),e.length>1?e[1].length:0}function a(t){return e(e.parseHTML?e.parseHTML(t):t)}function r(t,n){var i,a,r,o,l=e();for(r=0,o=t.length;o>r;r++)i=t[r],u.test(i.className)&&(a=i.getAttribute(s.attr("for")),a===n&&(l=l.add(i)));return l}var o,s=window.kendo,l=s.ui.Widget,d=".kendoValidator",c="k-invalid-msg",u=RegExp(c,"i"),h="k-invalid",p=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,f=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,g=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",m=":checkbox:not([disabled],[readonly])",v="[type=number],[type=range]",b="blur",_="name",y="form",k="novalidate",w=e.proxy,x=function(e,t){return"string"==typeof t&&(t=RegExp("^(?:"+t+")$")),t.test(e)},C=function(e,t,n){var i=e.val();return e.filter(t).length&&""!==i?x(i,n):!0},T=function(e,t){return e.length?null!=e[0].attributes[t]:!1};s.ui.validator||(s.ui.validator={rules:{},messages:{}}),o=l.extend({init:function(n,i){var a=this,r=t(n);i=i||{},i.rules=e.extend({},s.ui.validator.rules,r.rules,i.rules),i.messages=e.extend({},s.ui.validator.messages,r.messages,i.messages),l.fn.init.call(a,n,i),a._errorTemplate=s.template(a.options.errorTemplate),a.element.is(y)&&a.element.attr(k,k),a._errors={},a._attachEvents()},events:["validate"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(e){var t=e.filter("[type=checkbox]").length&&!e.is(":checked"),n=e.val();return!(T(e,"required")&&(""===n||!n||t))},pattern:function(e){return e.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&""!==e.val()?x(e.val(),e.attr("pattern")):!0},min:function(e){if(e.filter(v+",["+s.attr("type")+"=number]").filter("[min]").length&&""!==e.val()){var t=parseFloat(e.attr("min"))||0,n=s.parseFloat(e.val());return n>=t}return!0},max:function(e){if(e.filter(v+",["+s.attr("type")+"=number]").filter("[max]").length&&""!==e.val()){var t=parseFloat(e.attr("max"))||0,n=s.parseFloat(e.val());return t>=n}return!0},step:function(e){if(e.filter(v+",["+s.attr("type")+"=number]").filter("[step]").length&&""!==e.val()){var t,n=parseFloat(e.attr("min"))||0,a=parseFloat(e.attr("step"))||1,r=parseFloat(e.val()),o=i(a);return o?(t=Math.pow(10,o),(r-n)*t%(a*t)/Math.pow(100,o)===0):(r-n)%a===0}return!0},email:function(e){return C(e,"[type=email],["+s.attr("type")+"=email]",p)},url:function(e){return C(e,"[type=url],["+s.attr("type")+"=url]",f)},date:function(e){return e.filter("[type^=date],["+s.attr("type")+"=date]").length&&""!==e.val()?null!==s.parseDate(e.val(),e.attr(s.attr("format"))):!0}},validateOnBlur:!0},destroy:function(){l.fn.destroy.call(this),this.element.off(d)},_submit:function(e){return this.validate()?!0:(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),!1)},_attachEvents:function(){var t=this;t.element.is(y)&&t.element.on("submit"+d,w(t._submit,t)),t.options.validateOnBlur&&(t.element.is(g)?(t.element.on(b+d,function(){t.validateInput(t.element)}),t.element.is(m)&&t.element.on("click"+d,function(){t.validateInput(t.element)})):(t.element.on(b+d,g,function(){t.validateInput(e(this))}),t.element.on("click"+d,m,function(){t.validateInput(e(this))})))},validate:function(){var e,t,n,i,a=!1;if(this._errors={},this.element.is(g))a=this.validateInput(this.element);else{for(i=!1,e=this.element.find(g),t=0,n=e.length;n>t;t++)this.validateInput(e.eq(t))||(i=!0);a=!i}return this.trigger("validate",{valid:a}),a},validateInput:function(t){var i,r,o,s,l,d,u,p,f;return t=e(t),i=this,r=i._errorTemplate,o=i._checkValidity(t),s=o.valid,l="."+c,d=t.attr(_)||"",u=i._findMessageContainer(d).add(t.next(l)).hide(),t.removeAttr("aria-invalid"),s||(p=i._extractMessage(t,o.key),i._errors[d]=p,f=a(r({message:n(p)})),i._decorateMessageContainer(f,d),u.replaceWith(f).length||f.insertAfter(t),f.show(),t.attr("aria-invalid",!0)),t.toggleClass(h,!s),s},hideMessages:function(){var e=this,t="."+c,n=e.element;n.is(g)?n.next(t).hide():n.find(t).hide()},_findMessageContainer:function(t){var n,i,a,o=s.ui.validator.messageLocators,l=e();for(i=0,a=this.element.length;a>i;i++)l=l.add(r(this.element[i].getElementsByTagName("*"),t));for(n in o)l=l.add(o[n].locate(this.element,t));return l},_decorateMessageContainer:function(e,t){var n,i=s.ui.validator.messageLocators;e.addClass(c).attr(s.attr("for"),t||"");for(n in i)i[n].decorate(e,t);e.attr("role","alert")},_extractMessage:function(e,t){var n=this,i=n.options.messages[t],a=e.attr(_);return i=s.isFunction(i)?i(e):i,s.format(e.attr(s.attr(t+"-msg"))||e.attr("validationMessage")||e.attr("title")||i||"",a,e.attr(t))},_checkValidity:function(e){var t,n=this.options.rules;for(t in n)if(!n[t](e))return{valid:!1,key:t};return{valid:!0}},errors:function(){var e,t=[],n=this._errors;for(e in n)t.push(n[e]);return t}}),s.ui.plugin(o)}(window.kendo.jQuery),function(e){function t(e,t){var n=e.x.location,i=e.y.location,a=t.x.location,r=t.y.location,o=n-a,s=i-r;return{center:{x:(n+a)/2,y:(i+r)/2},distance:Math.sqrt(o*o+s*s)}}function n(e){var t,n,i,a=[],r=e.originalEvent,s=e.currentTarget,l=0;if(e.api)a.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e});else if(e.type.match(/touch/))for(n=r?r.changedTouches:[],t=n.length;t>l;l++)i=n[l],a.push({location:i,event:e,target:i.target,currentTarget:s,id:i.identifier});else a.push(o.pointers||o.msPointers?{location:r,event:e,target:e.target,currentTarget:s,id:r.pointerId}:{id:1,event:e,target:e.target,currentTarget:s,location:e});return a}function i(t){var n,i,a;t.preventDefault(),n=e(t.data.root),i=n.closest(".k-widget").parent(),i[0]||(i=n.parent()),a=e.extend(!0,{},t,{target:n[0]}),i.trigger(e.Event(t.type,a))}function a(e){for(var t=r.eventMap.up.split(" "),n=0,i=t.length;i>n;n++)e(t[n])}var r=window.kendo,o=r.support,s=window.document,l=r.Class,d=r.Observable,c=e.now,u=e.extend,h=o.mobileOS,p=h&&h.android,f=800,g=o.browser.msie?5:0,m="press",v="hold",b="select",_="start",y="move",k="end",w="cancel",x="tap",C="release",T="gesturestart",S="gesturechange",D="gestureend",E="gesturetap",F=l.extend({init:function(e,t){var n=this;n.axis=e,n._updateLocationData(t),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=c()},move:function(e){var t=this,n=e["page"+t.axis],i=c(),a=i-t.timeStamp||1;(n||!p)&&(t.delta=n-t.location,t._updateLocationData(e),t.initialDelta=n-t.startLocation,t.velocity=t.delta/a,t.timeStamp=i)},_updateLocationData:function(e){var t=this,n=t.axis;t.location=e["page"+n],t.client=e["client"+n],t.screen=e["screen"+n]}}),A=l.extend({init:function(e,t,n){u(this,{x:new F("X",n.location),y:new F("Y",n.location),userEvents:e,target:t,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,pressEvent:n,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(e.proxy(this,"_hold"),this.userEvents.minHold),this._trigger(m,this.pressEvent)},_hold:function(){this._trigger(v,this.pressEvent)},move:function(e){var t=this;if(!t._finished){if(t.x.move(e.location),t.y.move(e.location),!t._moved){if(t._withinIgnoreThreshold())return;if(M.current&&M.current!==t.userEvents)return t.dispose();t._start(e)}t._finished||t._trigger(y,e)}},end:function(e){var t=this;t.endTime=c(),t._finished||(t._finished=!0,t._moved?t._trigger(k,e):t._trigger(x,e),clearTimeout(t._holdTimeout),t._trigger(C,e),t.dispose())},dispose:function(){var t=this.userEvents,n=t.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),n.splice(e.inArray(this,n),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(e){clearTimeout(this._holdTimeout),this.startTime=c(),this._moved=!0,this._trigger(_,e)},_trigger:function(e,t){var n=this,i=t.event,a={touch:n,x:n.x,y:n.y,target:n.target,event:i};n.userEvents.notify(e,a)&&i.preventDefault()},_withinIgnoreThreshold:function(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.userEvents.threshold}}),M=d.extend({init:function(t,n){var i,l,c,h=this,p=r.guid();n=n||{},i=h.filter=n.filter,h.threshold=n.threshold||g,h.minHold=n.minHold||f,h.touches=[],h._maxTouches=n.multiTouch?2:1,h.allowSelection=n.allowSelection,h.captureUpIfMoved=n.captureUpIfMoved,h.eventNS=p,t=e(t).handler(h),d.fn.init.call(h),u(h,{element:t,surface:e(n.global?s.documentElement:n.surface||t),stopPropagation:n.stopPropagation,pressed:!1}),h.surface.handler(h).on(r.applyEventMap("move",p),"_move").on(r.applyEventMap("up cancel",p),"_end"),t.on(r.applyEventMap("down",p),i,"_start"),(o.pointers||o.msPointers)&&t.css("-ms-touch-action","pinch-zoom double-tap-zoom"),n.preventDragEvent&&t.on(r.applyEventMap("dragstart",p),r.preventDefault),t.on(r.applyEventMap("mousedown selectstart",p),i,{root:t},"_select"),h.captureUpIfMoved&&o.eventCapture&&(l=h.surface[0],c=e.proxy(h.preventIfMoving,h),a(function(e){l.addEventListener(e,c,!0)})),h.bind([m,v,x,_,y,k,C,w,T,S,D,E,b],n)},preventIfMoving:function(e){this._isMoved()&&e.preventDefault()},destroy:function(){var e,t=this;t._destroyed||(t._destroyed=!0,t.captureUpIfMoved&&o.eventCapture&&(e=t.surface[0],a(function(n){e.removeEventListener(n,t.preventIfMoving)})),t.element.kendoDestroy(t.eventNS),t.surface.kendoDestroy(t.eventNS),t.element.removeData("handler"),t.surface.removeData("handler"),t._disposeAll(),t.unbind(),delete t.surface,delete t.element,delete t.currentTarget)},capture:function(){M.current=this},cancel:function(){this._disposeAll(),this.trigger(w)},notify:function(e,n){var i=this,a=i.touches;if(this._isMultiTouch()){switch(e){case y:e=S;break;case k:e=D;break;case x:e=E}u(n,{touches:a},t(a[0],a[1]))}return this.trigger(e,n)},press:function(e,t,n){this._apiCall("_start",e,t,n)},move:function(e,t){this._apiCall("_move",e,t)},end:function(e,t){this._apiCall("_end",e,t)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var e=this.touches;e.length>0;)e.pop().dispose()},_isMoved:function(){return e.grep(this.touches,function(e){return e.isMoved()}).length},_select:function(e){(!this.allowSelection||this.trigger(b,{event:e}))&&i(e)},_start:function(t){var i,a,r=this,o=0,s=r.filter,l=n(t),d=l.length,c=t.which;if(!(c&&c>1||r._maxTouchesReached()))for(M.current=null,r.currentTarget=t.currentTarget,r.stopPropagation&&t.stopPropagation();d>o&&!r._maxTouchesReached();o++)a=l[o],i=s?e(a.currentTarget):r.element,i.length&&(a=new A(r,i,a),r.touches.push(a),a.press(),r._isMultiTouch()&&r.notify("gesturestart",{}))},_move:function(e){this._eachTouch("move",e)},_end:function(e){this._eachTouch("end",e)},_eachTouch:function(e,t){var i,a,r,o,s=this,l={},d=n(t),c=s.touches;for(i=0;c.length>i;i++)a=c[i],l[a.id]=a;for(i=0;d.length>i;i++)r=d[i],o=l[r.id],o&&o[e](r)},_apiCall:function(t,n,i,a){this[t]({api:!0,pageX:n,pageY:i,clientX:n,clientY:i,target:e(a||this.element)[0],stopPropagation:e.noop,preventDefault:e.noop})}});M.minHold=function(e){f=e},r.getTouches=n,r.touchDelta=t,r.UserEvents=M}(window.kendo.jQuery),function(e,t){function n(t,n){try{return e.contains(t,n)||t==n}catch(i){return!1}}function i(e,t){return parseInt(e.css(t),10)||0}function a(e,t){return Math.min(Math.max(e,t.min),t.max)}function r(e,t){var n=w(e),a=n.left+i(e,"borderLeftWidth")+i(e,"paddingLeft"),r=n.top+i(e,"borderTopWidth")+i(e,"paddingTop"),o=a+e.width()-t.outerWidth(!0),s=r+e.height()-t.outerHeight(!0);return{x:{min:a,max:o},y:{min:r,max:s}}}function o(e,n,i){for(var a,r,o=0,s=n&&n.length,l=i&&i.length;e&&e.parentNode;){for(o=0;s>o;o++)if(a=n[o],a.element[0]===e)return{target:a,targetElement:e};for(o=0;l>o;o++)if(r=i[o],f.matchesSelector.call(e,r.options.filter))return{target:r,targetElement:e};e=e.parentNode}return t}var s,l,d,c,u,h,p=window.kendo,f=p.support,g=window.document,m=p.Class,v=p.ui.Widget,b=p.Observable,_=p.UserEvents,y=e.proxy,k=e.extend,w=p.getOffset,x={},C={},T={},S=p.elementUnderCursor,D="keyup",E="change",F="dragstart",A="hold",M="drag",H="dragend",z="dragcancel",I="dragenter",R="dragleave",N="drop",P=b.extend({init:function(t,n){var i=this,a=t[0];i.capture=!1,a.addEventListener?(e.each(p.eventMap.down.split(" "),function(){a.addEventListener(this,y(i._press,i),!0)}),e.each(p.eventMap.up.split(" "),function(){a.addEventListener(this,y(i._release,i),!0)})):(e.each(p.eventMap.down.split(" "),function(){a.attachEvent(this,y(i._press,i))}),e.each(p.eventMap.up.split(" "),function(){a.attachEvent(this,y(i._release,i))})),b.fn.init.call(i),i.bind(["press","release"],n||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){var t=this;t.trigger("press"),t.capture&&e.preventDefault()},_release:function(e){var t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())}}),O=b.extend({init:function(t){var n=this;b.fn.init.call(n),n.forcedEnabled=!1,e.extend(n,t),n.scale=1,n.horizontal?(n.measure="offsetWidth",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="offsetHeight",n.scrollSize="scrollHeight",n.axis="y")},makeVirtual:function(){e.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(e,t){(this._virtualMin!==e||this._virtualMax!==t)&&(this._virtualMin=e,this._virtualMax=t,this.update())},outOfBounds:function(e){return e>this.max||this.min>e},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,n=t.virtual?t._virtualMax:t.getTotal(),i=n*t.scale,a=t.getSize();t.max=t.virtual?-t._virtualMin:0,t.size=a,t.total=i,t.min=Math.min(t.max,a-i),t.minScale=a/n,t.centerOffset=(i-a)/2,t.enabled=t.forcedEnabled||i>a,e||t.trigger(E,t)}}),L=b.extend({init:function(e){var t=this;b.fn.init.call(t),t.x=new O(k({horizontal:!0},e)),t.y=new O(k({horizontal:!1},e)),t.container=e.container,t.forcedMinScale=e.minScale,t.maxScale=e.maxScale||100,t.bind(E,e)},rescale:function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(E)}}),B=b.extend({init:function(e){var t=this;k(t,e),b.fn.init.call(t)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(e){var t=this,n=t.dimension,i=t.axis,a=t.movable,r=a[i]+e;n.enabled&&((n.min>r&&0>e||r>n.max&&e>0)&&(e*=t.resistance),a.translateAxis(i,e),t.trigger(E,t))}}),j=m.extend({init:function(e){var t,n,i,a,r=this;k(r,{elastic:!0},e),i=r.elastic?.5:0,a=r.movable,r.x=t=new B({axis:"x",dimension:r.dimensions.x,resistance:i,movable:a}),r.y=n=new B({axis:"y",dimension:r.dimensions.y,resistance:i,movable:a}),r.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(e){r.gesture=e,r.offset=r.dimensions.container.offset()},gesturechange:function(e){var i,o,s,l=r.gesture,d=l.center,c=e.center,u=e.distance/l.distance,h=r.dimensions.minScale,p=r.dimensions.maxScale;h>=a.scale&&1>u&&(u+=.8*(1-u)),a.scale*u>=p&&(u=p/a.scale),o=a.x+r.offset.left,s=a.y+r.offset.top,i={x:(o-d.x)*u+c.x-o,y:(s-d.y)*u+c.y-s},a.scaleWith(u),t.dragMove(i.x),n.dragMove(i.y),r.dimensions.rescale(a.scale),r.gesture=e,e.preventDefault()},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(t.dimension.enabled||n.dimension.enabled?(t.dragMove(e.x.delta),n.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}}),W=f.transitions.prefix+"Transform";l=f.hasHW3D?function(e,t,n){return"translate3d("+e+"px,"+t+"px,0) scale("+n+")"}:function(e,t,n){return"translate("+e+"px,"+t+"px) scale("+n+")"},d=b.extend({init:function(t){var n=this;b.fn.init.call(n),n.element=e(t),n.element[0].style.webkitTransformOrigin="left top",n.x=0,n.y=0,n.scale=1,n._saveCoordinates(l(n.x,n.y,n.scale))},translateAxis:function(e,t){this[e]+=t,this.refresh()},scaleTo:function(e){this.scale=e,this.refresh()},scaleWith:function(e){this.scale*=e,this.refresh()},translate:function(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxis:function(e,t){this[e]=t,this.refresh()},moveTo:function(e){k(this,e),this.refresh()},refresh:function(){var e,t=this,n=t.x,i=t.y;t.round&&(n=Math.round(n),i=Math.round(i)),e=l(n,i,t.scale),e!=t.coordinates&&(p.support.browser.msie&&10>p.support.browser.version?(t.element[0].style.position="absolute",t.element[0].style.left=t.x+"px",t.element[0].style.top=t.y+"px"):t.element[0].style[W]=e,t._saveCoordinates(e),t.trigger(E))},_saveCoordinates:function(e){this.coordinates=e}}),c=v.extend({init:function(e,t){var n,i=this;v.fn.init.call(i,e,t),n=i.options.group,n in C?C[n].push(i):C[n]=[i]},events:[I,R,N],options:{name:"DropTarget",group:"default"},destroy:function(){var e,t=this.options.group,n=C[t]||T[t];if(n.length>1){for(v.fn.destroy.call(this),e=0;n.length>e;e++)if(n[e]==this){n.splice(e,1);break}}else c.destroyGroup(t)},_trigger:function(e,n){var i=this,a=x[i.options.group];return a?i.trigger(e,k({},n.event,{draggable:a,dropTarget:n.dropTarget})):t},_over:function(e){this._trigger(I,e)},_out:function(e){this._trigger(R,e)},_drop:function(e){var t=this,n=x[t.options.group];n&&(n.dropped=!t._trigger(N,e))}}),c.destroyGroup=function(e){var t,n=C[e]||T[e];if(n){for(t=0;n.length>t;t++)v.fn.destroy.call(n[t]);n.length=0,delete C[e],delete T[e]}},c._cache=C,u=c.extend({init:function(e,t){var n,i=this;v.fn.init.call(i,e,t),n=i.options.group,n in T?T[n].push(i):T[n]=[i]},options:{name:"DropTargetArea",group:"default",filter:null}}),h=v.extend({init:function(e,t){var n=this;v.fn.init.call(n,e,t),n._activated=!1,n.userEvents=new _(n.element,{global:!0,allowSelection:!0,stopPropagation:!0,filter:n.options.filter,threshold:n.options.distance,start:y(n._start,n),hold:y(n._hold,n),move:y(n._drag,n),end:y(n._end,n),cancel:y(n._cancel,n),select:y(n._select,n)}),n._afterEndHandler=y(n._afterEnd,n),n.captureEscape=function(e){e.keyCode===p.keys.ESC&&(n._trigger(z,{event:e}),n.userEvents.cancel())}},events:[A,F,M,H,z],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,dropped:!1},cancelHold:function(){this._activated=!1},_updateHint:function(t){var n,i=this,r=i.options,o=i.boundaries,s=r.axis,l=i.options.cursorOffset;l?n={left:t.x.location+l.left,top:t.y.location+l.top}:(i.hintOffset.left+=t.x.delta,i.hintOffset.top+=t.y.delta,n=e.extend({},i.hintOffset)),o&&(n.top=a(n.top,o.y),n.left=a(n.left,o.x)),"x"===s?delete n.top:"y"===s&&delete n.left,i.hint.css(n)},_shouldIgnoreTarget:function(t){var n=this.options.ignore;return n&&e(t).is(n)},_select:function(e){this._shouldIgnoreTarget(e.event.target)||e.preventDefault()},_start:function(n){var i,a=this,o=a.options,s=o.container,l=o.hint;return this._shouldIgnoreTarget(n.touch.initialTouch)||o.holdToDrag&&!a._activated?(a.userEvents.cancel(),t):(a.currentTarget=n.target,a.currentTargetOffset=w(a.currentTarget),l&&(a.hint&&a.hint.stop(!0,!0).remove(),a.hint=p.isFunction(l)?e(l.call(a,a.currentTarget)):l,i=w(a.currentTarget),a.hintOffset=i,a.hint.css({position:"absolute",zIndex:2e4,left:i.left,top:i.top}).appendTo(g.body)),x[o.group]=a,a.dropped=!1,s&&(a.boundaries=r(s,a.hint)),a._trigger(F,n)&&(a.userEvents.cancel(),a._afterEnd()),e(g).on(D,a.captureEscape),t)},_hold:function(e){this.currentTarget=e.target,this._trigger(A,e)?this.userEvents.cancel():this._activated=!0},_drag:function(n){var i=this;n.preventDefault(),i._withDropTarget(n,function(i,a){if(!i)return s&&(s._trigger(R,k(n,{dropTarget:e(s.targetElement)})),s=null),t;if(s){if(a===s.targetElement)return;s._trigger(R,k(n,{dropTarget:e(s.targetElement)}))}i._trigger(I,k(n,{dropTarget:e(a)})),s=k(i,{targetElement:a})}),i._trigger(M,n),i.hint&&i._updateHint(n)},_end:function(t){var n=this;n._withDropTarget(t,function(n,i){n&&(n._drop(k({},t,{dropTarget:e(i)})),s=null)}),n._trigger(H,t),n._cancel(t.event)},_cancel:function(){var e=this;e._activated=!1,e.hint&&!e.dropped?setTimeout(function(){e.hint.stop(!0,!0).animate(e.currentTargetOffset,"fast",e._afterEndHandler)},0):e._afterEnd()},_trigger:function(e,t){var n=this;return n.trigger(e,k({},t.event,{x:t.x,y:t.y,currentTarget:n.currentTarget,dropTarget:t.dropTarget}))},_withDropTarget:function(e,t){var i,a,r=this,s=r.options,l=C[s.group],d=T[s.group];(l&&l.length||d&&d.length)&&(i=S(e),r.hint&&n(r.hint[0],i)&&(r.hint.hide(),i=S(e),i||(i=S(e)),r.hint.show()),a=o(i,l,d),a?t(a.target,a.targetElement):t())},destroy:function(){var e=this;v.fn.destroy.call(e),e._afterEnd(),e.userEvents.destroy(),e.currentTarget=null},_afterEnd:function(){var t=this;t.hint&&t.hint.remove(),delete x[t.options.group],t.trigger("destroy"),e(g).off(D,t.captureEscape)}}),p.ui.plugin(c),p.ui.plugin(u),p.ui.plugin(h),p.TapCapture=P,p.containerBoundaries=r,k(p.ui,{Pane:j,PaneDimensions:L,Movable:d})}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.mobile,a=n.effects,r=i.ui,o=e.proxy,s=e.extend,l=r.Widget,d=n.Class,c=n.ui.Movable,u=n.ui.Pane,h=n.ui.PaneDimensions,p=a.Transition,f=a.Animation,g=Math.abs,m=500,v=.7,b=.96,_=10,y=55,k=.5,w=5,x="km-scroller-release",C="km-scroller-refresh",T="pull",S="change",D="resize",E="scroll",F=2,A=f.extend({init:function(e){var t=this;f.fn.init.call(t),s(t,e),t.userEvents.bind("gestureend",o(t.start,t)),t.tapCapture.bind("press",o(t.cancel,t))},enabled:function(){return this.dimensions.minScale>this.movable.scale},done:function(){return.01>this.dimensions.minScale-this.movable.scale},tick:function(){var e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale)},onEnd:function(){var e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale)}}),M=f.extend({init:function(e){var t=this;f.fn.init.call(t),s(t,e,{transition:new p({axis:e.axis,movable:e.movable,onEnd:function(){t._end()}})}),t.tapCapture.bind("press",function(){t.cancel()}),t.userEvents.bind("end",o(t.start,t)),t.userEvents.bind("gestureend",o(t.start,t)),t.userEvents.bind("tap",o(t.onEnd,t))
},onCancel:function(){this.transition.cancel()},freeze:function(e){var t=this;t.cancel(),t._moveTo(e)},onEnd:function(){var e=this;e.paneAxis.outOfBounds()?e._snapBack():e._end()},done:function(){return g(this.velocity)<1},start:function(e){var t,n=this;n.dimension.enabled&&(n.paneAxis.outOfBounds()?n._snapBack():(t=e.touch.id===F?0:e.touch[n.axis].velocity,n.velocity=Math.max(Math.min(t*n.velocityMultiplier,y),-y),n.tapCapture.captureNext(),f.fn.start.call(n)))},tick:function(){var e=this,t=e.dimension,n=e.paneAxis.outOfBounds()?k:e.friction,i=e.velocity*=n,a=e.movable[e.axis]+i;!e.elastic&&t.outOfBounds(a)&&(a=Math.max(Math.min(a,t.max),t.min),e.velocity=0),e.movable.moveAxis(e.axis,a)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_snapBack:function(){var e=this,t=e.dimension,n=e.movable[e.axis]>t.max?t.max:t.min;e._moveTo(n)},_moveTo:function(e){this.transition.moveTo({location:e,duration:m,ease:p.easeOutExpo})}}),H=f.extend({init:function(e){var t=this;n.effects.Animation.fn.init.call(this),s(t,e,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates(),this.moveTo(this.origin)},done:function(){return g(this.offset.y)<w&&g(this.offset.x)<w},onEnd:function(){this.moveTo(this.destination)},setCoordinates:function(e,t){this.offset={},this.origin=e,this.destination=t},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),z=d.extend({init:function(t){var n=this,i="x"===t.axis,a=e('<div class="km-touch-scrollbar km-'+(i?"horizontal":"vertical")+'-scrollbar" />');s(n,t,{element:a,elementSize:0,movable:new c(a),scrollMovable:t.movable,size:i?"width":"height"}),n.scrollMovable.bind(S,o(n._move,n)),n.container.append(a)},_move:function(){var e=this,t=e.axis,n=e.dimension,i=n.size,a=e.scrollMovable,r=i/n.total,o=Math.round(-a[t]*r),s=Math.round(i*r);o+s>i?s=i-o:0>o&&(s+=o,o=0),e.elementSize!=s&&(e.element.css(e.size,s+"px"),e.elementSize=s),e.movable.moveAxis(t,o)},show:function(){this.element.css({opacity:v,visibility:"visible"})},hide:function(){this.element.css({opacity:0})}}),I=l.extend({init:function(i,a){var r,d,p,f,m,v,b,_,y,k=this;return l.fn.init.call(k,i,a),i=k.element,(k._native=k.options.useNative&&n.support.hasNativeScrolling)?(i.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),s(k,{scrollElement:i,fixedContainer:i.children().first()}),t):(i.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>'),r=i.children().eq(1),d=new n.TapCapture(i),p=new c(r),f=new h({element:r,container:i,forcedEnabled:k.options.zoom}),m=this.options.avoidScrolling,v=new n.UserEvents(i,{allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:k.options.zoom,start:function(t){f.refresh();var n=g(t.x.velocity),i=g(t.y.velocity),a=2*n>=i,r=e.contains(k.fixedContainer[0],t.event.target),o=2*i>=n;!r&&!m(t)&&k.enabled&&(f.x.enabled&&a||f.y.enabled&&o)?v.capture():v.cancel()}}),b=new u({movable:p,dimensions:f,userEvents:v,elastic:k.options.elastic}),_=new A({movable:p,dimensions:f,userEvents:v,tapCapture:d}),y=new H({moveTo:function(e){k.scrollTo(e.x,e.y)}}),p.bind(S,function(){k.scrollTop=-p.y,k.scrollLeft=-p.x,k.trigger(E,{scrollTop:k.scrollTop,scrollLeft:k.scrollLeft})}),k.options.mousewheelScrolling&&i.on("DOMMouseScroll mousewheel",o(this,"_wheelScroll")),s(k,{movable:p,dimensions:f,zoomSnapBack:_,animatedScroller:y,userEvents:v,pane:b,tapCapture:d,pulled:!1,enabled:!0,scrollElement:r,scrollTop:0,scrollLeft:0,fixedContainer:i.children().first()}),k._initAxis("x"),k._initAxis("y"),k._wheelEnd=function(){k._wheel=!1,k.userEvents.end(0,k._wheelY)},f.refresh(),k.options.pullToRefresh&&k._initPullToRefresh(),t)},_wheelScroll:function(e){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=n.wheelDeltaY(e);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY)),e.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(e,t){this.dimensions.y.virtualSize(e,t)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},events:[T,E,D],_resize:function(){this._native||this.contentResized()},setOptions:function(e){var t=this;l.fn.setOptions.call(t,e),e.pullToRefresh&&t._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},contentResized:function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(e,t){this._native?(this.scrollElement.scrollLeft(g(e)),this.scrollElement.scrollTop(g(t))):(this.dimensions.refresh(),this.movable.moveTo({x:e,y:t}))},animatedScrollTo:function(e,t){var n,i;this._native?this.scrollTo(e,t):(n={x:this.movable.x,y:this.movable.y},i={x:e,y:t},this.animatedScroller.setCoordinates(n,i),this.animatedScroller.start())},pullHandled:function(){var e=this;e.refreshHint.removeClass(C),e.hintContainer.html(e.pullTemplate({})),e.yinertia.onEnd(),e.xinertia.onEnd(),e.userEvents.cancel()},destroy:function(){l.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(e){this.dimensions.rescale(e),this.movable.scaleTo(e)},_initPullToRefresh:function(){var e=this;e.dimensions.y.forceEnabled(),e.pullTemplate=n.template(e.options.pullTemplate),e.releaseTemplate=n.template(e.options.releaseTemplate),e.refreshTemplate=n.template(e.options.refreshTemplate),e.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+e.pullTemplate({})+"</span></span>"),e.refreshHint=e.scrollElement.children().first(),e.hintContainer=e.refreshHint.children(".km-template"),e.pane.y.bind("change",o(e._paneChange,e)),e.userEvents.bind("end",o(e._dragEnd,e))},_dragEnd:function(){var e=this;e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(x).addClass(C),e.hintContainer.html(e.refreshTemplate({})),e.yinertia.freeze(e.options.pullOffset/2),e.trigger("pull"))},_paneChange:function(){var e=this;e.movable.y/k>e.options.pullOffset?e.pulled||(e.pulled=!0,e.refreshHint.removeClass(C).addClass(x),e.hintContainer.html(e.releaseTemplate({}))):e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(x),e.hintContainer.html(e.pullTemplate({})))},_initAxis:function(e){var t=this,n=t.movable,i=t.dimensions[e],a=t.tapCapture,r=t.pane[e],o=new z({axis:e,movable:n,dimension:i,container:t.element});r.bind(S,function(){o.show()}),t[e+"inertia"]=new M({axis:e,paneAxis:r,movable:n,tapCapture:a,userEvents:t.userEvents,dimension:i,elastic:t.options.elastic,friction:t.options.friction||b,velocityMultiplier:t.options.velocityMultiplier||_,end:function(){o.hide(),t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})}});r.plugin(I)}(window.kendo.jQuery),function(e,t){function n(e){return e.position().top+3}var i=window.kendo,a=i.ui.Widget,r=e.proxy,o=!1,s=".kendoGroupable",l="change",d=i.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:!1}),c=function(t){return e('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(t.attr(i.attr("title"))||t.attr(i.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},u=e('<div class="k-grouping-dropclue"/>'),h=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,p=a.extend({init:function(d,h){var p,f,g=this,m=i.guid(),v=r(g._intializePositions,g),b=g._dropCuePositions=[];a.fn.init.call(g,d,h),o=i.support.isRtl(d),f=o?"right":"left",g.draggable=p=g.options.draggable||new i.ui.Draggable(g.element,{filter:g.options.draggableElements,hint:c,group:m}),g.groupContainer=e(g.options.groupContainer,g.element).kendoDropTarget({group:p.options.group,dragenter:function(e){g._canDrag(e.draggable.currentTarget)&&(e.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add"),u.css("top",n(g.groupContainer)).css(f,0).appendTo(g.groupContainer))},dragleave:function(e){e.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied"),u.remove()},drop:function(t){var n,a=t.draggable.currentTarget,r=a.attr(i.attr("field")),s=a.attr(i.attr("title")),l=g.indicator(r),d=g._dropCuePositions,c=d[d.length-1];(a.hasClass("k-group-indicator")||g._canDrag(a))&&(c?(n=g._dropCuePosition(i.getOffset(u).left+parseInt(c.element.css("marginLeft"),10)*(o?-1:1)+parseInt(c.element.css("marginRight"),10)),n&&g._canDrop(e(l),n.element,n.left)&&(n.before?n.element.before(l||g.buildIndicator(r,s)):n.element.after(l||g.buildIndicator(r,s)),g._change())):(g.groupContainer.append(g.buildIndicator(r,s)),g._change()))}}).kendoDraggable({filter:"div.k-group-indicator",hint:c,group:p.options.group,dragcancel:r(g._dragCancel,g),dragstart:function(e){var t=e.currentTarget,i=parseInt(t.css("marginLeft"),10),a=t.position(),r=o?a.left-i:a.left+t.outerWidth();v(),u.css({top:n(g.groupContainer),left:r}).appendTo(g.groupContainer),this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){g._dragEnd(this)},drag:r(g._drag,g)}).on("click"+s,".k-button",function(t){t.preventDefault(),g._removeIndicator(e(this).parent())}).on("click"+s,".k-link",function(t){var n=e(this).parent(),a=g.buildIndicator(n.attr(i.attr("field")),n.attr(i.attr("title")),"asc"==n.attr(i.attr("dir"))?"desc":"asc");n.before(a).remove(),g._change(),t.preventDefault()}),p.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){g._dragEnd(this)},dragcancel:r(g._dragCancel,g),dragstart:function(e){var n,i,a;return g.options.allowDrag||g._canDrag(e.currentTarget)?(v(),b.length?(n=b[b.length-1].element,i=parseInt(n.css("marginRight"),10),a=n.position().left+n.outerWidth()+i):a=0,t):(e.preventDefault(),t)},drag:r(g._drag,g)}),g.dataSource=g.options.dataSource,g.dataSource&&g._refreshHandler?g.dataSource.unbind(l,g._refreshHandler):g._refreshHandler=r(g.refresh,g),g.dataSource&&(g.dataSource.bind("change",g._refreshHandler),g.refresh())},refresh:function(){var t=this,n=t.dataSource;t.groupContainer&&t.groupContainer.empty().append(e.map(n.group()||[],function(e){var n=e.field.replace(h,"\\$1"),a=t.element.find(t.options.filter).filter("["+i.attr("field")+"="+n+"]");return t.buildIndicator(e.field,a.attr(i.attr("title")),e.dir)}).join("")),t._invalidateGroupContainer()},destroy:function(){var e=this;a.fn.destroy.call(e),e.groupContainer.off(s),e.groupContainer.data("kendoDropTarget")&&e.groupContainer.data("kendoDropTarget").destroy(),e.groupContainer.data("kendoDraggable")&&e.groupContainer.data("kendoDraggable").destroy(),e.options.draggable||e.draggable.destroy(),e.dataSource&&e._refreshHandler&&(e.dataSource.unbind("change",e._refreshHandler),e._refreshHandler=null),e.groupContainer=e.element=e.draggable=null},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(t){var n=e(".k-group-indicator",this.groupContainer);return e.grep(n,function(n){return e(n).attr(i.attr("field"))===t})[0]},buildIndicator:function(e,t,n){return d({field:e.replace(/"/g,"'"),dir:n,title:t,ns:i.ns})},descriptors:function(){var t,n,a,r,o,s=this,l=e(".k-group-indicator",s.groupContainer);return t=s.element.find(s.options.filter).map(function(){var t=e(this),a=t.attr(i.attr("aggregates")),s=t.attr(i.attr("field"));if(a&&""!==a)for(n=a.split(","),a=[],r=0,o=n.length;o>r;r++)a.push({field:s,aggregate:n[r]});return a}).toArray(),e.map(l,function(n){return n=e(n),a=n.attr(i.attr("field")),{field:a,dir:n.attr(i.attr("dir")),aggregates:t||[]}})},_removeIndicator:function(e){var t=this;e.remove(),t._invalidateGroupContainer(),t._change()},_change:function(){var e=this;e.dataSource&&e.dataSource.group(e.descriptors())},_dropCuePosition:function(t){var n,i,a,r,s,l=this._dropCuePositions;return u.is(":visible")&&0!==l.length?(t=Math.ceil(t),n=l[l.length-1],i=n.left,a=n.right,r=parseInt(n.element.css("marginLeft"),10),s=parseInt(n.element.css("marginRight"),10),t>=a&&!o||i>t&&o?t={left:n.element.position().left+(o?-r:n.element.outerWidth()+s),element:n.element,before:!1}:(t=e.grep(l,function(e){return t>=e.left&&e.right>=t||o&&t>e.right})[0],t&&(t={left:o?t.element.position().left+t.element.outerWidth()+s:t.element.position().left-r,element:t.element,before:!0})),t):void 0},_drag:function(e){var t=this._dropCuePosition(e.x.location);t&&u.css({left:t.left,right:"auto"})},_canDrag:function(e){var t=e.attr(i.attr("field"));return"false"!=e.attr(i.attr("groupable"))&&t&&(e.hasClass("k-group-indicator")||!this.indicator(t))},_canDrop:function(e,t,n){var i=e.next(),a=e[0]!==t[0]&&(!i[0]||t[0]!==i[0]||!o&&n>i.position().left||o&&n<i.position().left);return a},_dragEnd:function(t){var n=this,a=t.currentTarget.attr(i.attr("field")),r=n.indicator(a);t!==n.options.draggable&&!t.dropped&&r&&n._removeIndicator(e(r)),n._dragCancel()},_dragCancel:function(){u.remove(),this._dropCuePositions=[]},_intializePositions:function(){var t,n=this,a=e(".k-group-indicator",n.groupContainer);n._dropCuePositions=e.map(a,function(n){return n=e(n),t=i.getOffset(n).left,{left:parseInt(t,10),right:parseInt(t+n.outerWidth(),10),element:n}})},_invalidateGroupContainer:function(){var e=this.groupContainer;e&&e.is(":empty")&&e.html(this.options.messages.empty)}});i.ui.plugin(p)}(window.kendo.jQuery),function(e){function t(t,n){t=e(t),n?t.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):t.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}var n=window.kendo,i=n.getOffset,a=n.ui.Widget,r="change",o="k-reorderable",s=a.extend({init:function(s,l){var d,c=this,u=n.guid()+"-reorderable";a.fn.init.call(c,s,l),s=c.element.addClass(o),l=c.options,c.draggable=d=l.draggable||new n.ui.Draggable(s,{group:u,filter:l.filter,hint:l.hint}),c.reorderDropCue=e('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>'),s.find(d.options.filter).kendoDropTarget({group:d.options.group,dragenter:function(e){var n,a,r,o;c._draggable&&(n=this.element,r=!c._dropTargetAllowed(n)||c._isLastDraggable(),t(e.draggable.hint,r),r||(a=i(n),o=a.left,l.inSameContainer&&!l.inSameContainer(n,c._draggable)?c._dropTarget=n:c._elements.index(n)>c._elements.index(c._draggable)&&(o+=n.outerWidth()),c.reorderDropCue.css({height:n.outerHeight(),top:a.top,left:o}).appendTo(document.body)))},dragleave:function(e){t(e.draggable.hint,!0),c.reorderDropCue.remove(),c._dropTarget=null},drop:function(){var e,t,n;c._dropTarget=null,c._draggable&&(e=this.element,t=c._draggable,n=!1,c._dropTargetAllowed(e)&&!c._isLastDraggable()&&c.trigger(r,{element:c._draggable,oldIndex:c._elements.index(t),newIndex:c._elements.index(e),position:i(c.reorderDropCue).left>i(e).left?"after":"before"}))}}),d.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:function(){c.reorderDropCue.remove(),c._draggable=null,c._elements=null},dragend:function(){c.reorderDropCue.remove(),c._draggable=null,c._elements=null},dragstart:function(e){c._draggable=e.currentTarget,c._elements=c.element.find(c.draggable.options.filter)},drag:function(e){var t,n;c._dropTarget&&!this.hint.find(".k-drag-status").hasClass("k-denied")&&(t=i(c._dropTarget).left,n=c._dropTarget.outerWidth(),c.reorderDropCue.css(e.pageX>t+n/2?{left:t+n}:{left:t}))}})},options:{name:"Reorderable",filter:"*"},events:[r],_isLastDraggable:function(){var e,t=this.options.inSameContainer,n=this._draggable[0],i=this._elements.get(),a=!1;if(!t)return!1;for(;!a&&i.length>0;)e=i.pop(),a=n!==e&&t(n,e);return!a},_dropTargetAllowed:function(e){var t=this.options.inSameContainer,n=this.options.dragOverContainers,i=this._draggable;return i[0]===e[0]?!1:t&&n?t(i,e)?!0:n(this._elements.index(i)):!0},destroy:function(){var t=this;a.fn.destroy.call(t),t.element.find(t.draggable.options.filter).each(function(){var t=e(this);t.data("kendoDropTarget")&&t.data("kendoDropTarget").destroy()}),t.draggable&&(t.draggable.destroy(),t.draggable.element=t.draggable=null),t.elements=t.reorderDropCue=t._elements=t._draggable=null}});n.ui.plugin(s)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui,a=i.Widget,r=e.proxy,o=n.isFunction,s=e.extend,l="horizontal",d="vertical",c="start",u="resize",h="resizeend",p=a.extend({init:function(e,t){var n=this;a.fn.init.call(n,e,t),n.orientation=n.options.orientation.toLowerCase()!=d?l:d,n._positionMouse=n.orientation==l?"x":"y",n._position=n.orientation==l?"left":"top",n._sizingDom=n.orientation==l?"outerWidth":"outerHeight",n.draggable=new i.Draggable(e,{distance:0,filter:t.handle,drag:r(n._resize,n),dragcancel:r(n._cancel,n),dragstart:r(n._start,n),dragend:r(n._stop,n)}),n.userEvents=n.draggable.userEvents},events:[u,h,c],options:{name:"Resizable",orientation:l},resize:function(){},_max:function(e){var n=this,i=n.hint?n.hint[n._sizingDom]():0,a=n.options.max;return o(a)?a(e):a!==t?n._initialElementPosition+a-i:a},_min:function(e){var n=this,i=n.options.min;return o(i)?i(e):i!==t?n._initialElementPosition+i:i},_start:function(t){var n=this,i=n.options.hint,a=e(t.currentTarget);n._initialElementPosition=a.position()[n._position],n._initialMousePosition=t[n._positionMouse].startLocation,i&&(n.hint=o(i)?e(i(a)):i,n.hint.css({position:"absolute"}).css(n._position,n._initialElementPosition).appendTo(n.element)),n.trigger(c,t),n._maxPosition=n._max(t),n._minPosition=n._min(t),e(document.body).css("cursor",a.css("cursor"))},_resize:function(e){var n,i=this,a=i._maxPosition,r=i._minPosition,o=i._initialElementPosition+(e[i._positionMouse].location-i._initialMousePosition);n=r!==t?Math.max(r,o):o,i.position=n=a!==t?Math.min(a,n):n,i.hint&&i.hint.toggleClass(i.options.invalidClass||"",n==a||n==r).css(i._position,n),i.resizing=!0,i.trigger(u,s(e,{position:n}))},_stop:function(t){var n=this;n.hint&&n.hint.remove(),n.resizing=!1,n.trigger(h,s(t,{position:n.position})),e(document.body).css("cursor","")},_cancel:function(e){var n=this;n.hint&&(n.position=t,n.hint.css(n._position,n._initialElementPosition),n._stop(e))},destroy:function(){var e=this;a.fn.destroy.call(e),e.draggable&&e.draggable.destroy()},press:function(e){if(e){var t=e.position(),n=this;n.userEvents.press(t.left,t.top,e[0]),n.targetPosition=t,n.target=e}},move:function(e){var n=this,i=n._position,a=n.targetPosition,r=n.position;r===t&&(r=a[i]),a[i]=r+e,n.userEvents.move(a.left,a.top)},end:function(){this.userEvents.end(),this.target=this.position=t}});n.ui.plugin(p)}(window.kendo.jQuery),function(e,t){function n(t,n){try{return e.contains(t,n)||t==n}catch(i){return!1}}function i(e){return e.clone()}function a(e){return e.clone().removeAttr("id").css("visibility","hidden")}var r=window.kendo,o=r.ui.Widget,s="start",l="beforeMove",d="move",c="end",u="change",h="cancel",p="sort",f="remove",g="receive",m=">*",v=-1,b=o.extend({init:function(e,t){var n=this;o.fn.init.call(n,e,t),n.options.placeholder||(n.options.placeholder=a),n.options.hint||(n.options.hint=i),n._draggable=n._createDraggable(),n.floating=!1},events:[s,l,d,c,u,h],options:{name:"Sortable",hint:null,placeholder:null,filter:m,holdToDrag:!1,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,cursor:"auto"},destroy:function(){this._draggable.destroy(),o.fn.destroy.call(this)},_createDraggable:function(){var t=this,n=t.element,i=t.options;return new r.ui.Draggable(n,{filter:i.filter,hint:r.isFunction(i.hint)?i.hint:e(i.hint),holdToDrag:i.holdToDrag,container:i.container?e(i.container):null,cursorOffset:i.cursorOffset,axis:i.axis,ignore:i.ignore,dragstart:e.proxy(t._dragstart,t),dragcancel:e.proxy(t._dragcancel,t),drag:e.proxy(t._drag,t),dragend:e.proxy(t._dragend,t)})},_dragstart:function(t){var n=this.draggedElement=t.currentTarget,i=t.target||r.elementUnderCursor(t),a=this.options.disabled,o=this.options.handler,l=this.options.placeholder,d=this.placeholder=e(r.isFunction(l)?l.call(this,n):l);a&&n.is(a)?t.preventDefault():o&&!e(i).is(o)?t.preventDefault():this.trigger(s,{item:n,draggableEvent:t})?t.preventDefault():(this.floating=this._isFloating(n),n.css("display","none"),n.before(d),this._setCursor())},_dragcancel:function(){this._cancel(),this.trigger(h,{item:this.draggedElement}),this._resetCursor()},_drag:function(n){var i,a,r,o,s,l=this.draggedElement,d=this._findTarget(n),c={left:n.x.location,top:n.y.location},u={x:n.x.delta,y:n.y.delta},h=this.options.axis,p={item:l,list:this,draggableEvent:n};if("x"===h||"y"===h)return this._movementByAxis(h,c,u[h],p),t;if(d){if(i=this._getElementCenter(d.element),a={left:Math.round(c.left-i.left),top:Math.round(c.top-i.top)},e.extend(p,{target:d.element}),d.appendToBottom)return this._movePlaceholder(d,null,p),t;if(d.appendAfterHidden&&this._movePlaceholder(d,"next",p),this.floating?0>u.x&&0>a.left?r="prev":u.x>0&&a.left>0&&(r="next"):0>u.y&&0>a.top?r="prev":u.y>0&&a.top>0&&(r="next"),r){for(s="prev"===r?jQuery.fn.prev:jQuery.fn.next,o=s.call(d.element);o.length&&!o.is(":visible");)o=s.call(o);o[0]!=this.placeholder[0]&&this._movePlaceholder(d,r,p)}}},_dragend:function(n){var i,a,r,o,s=this.placeholder,l=this.draggedElement,d=this.indexOf(l),h=this.indexOf(s),m=this.options.connectWith;return this._resetCursor(),r={action:p,item:l,oldIndex:d,newIndex:h,draggableEvent:n},h>=0?a=this.trigger(c,r):(i=s.parents(m).getKendoSortable(),r.action=f,o=e.extend({},r,{action:g,oldIndex:v,newIndex:i.indexOf(s)}),a=!(!this.trigger(c,r)&&!i.trigger(c,o))),a||h===d?(this._cancel(),t):(s.replaceWith(l),l.show(),this._draggable.dropped=!0,r={action:this.indexOf(l)!=v?p:f,item:l,oldIndex:d,newIndex:this.indexOf(l),draggableEvent:n},this.trigger(u,r),i&&(o=e.extend({},r,{action:g,oldIndex:v,newIndex:i.indexOf(l)}),i.trigger(u,o)),t)},_findTarget:function(n){var i,a,r=this._findElementUnderCursor(n),o=this.options.connectWith;return e.contains(this.element[0],r)?(i=this.items(),a=i.filter(r)[0]||i.has(r)[0],a?{element:e(a),sortable:this}:null):this.element[0]==r&&this._isEmpty()?{element:this.element,sortable:this,appendToBottom:!0}:this.element[0]==r&&this._isLastHidden()?(a=this.items().eq(0),{element:a,sortable:this,appendAfterHidden:!0}):o?this._searchConnectedTargets(r,n):t},_findElementUnderCursor:function(e){var t=r.elementUnderCursor(e),i=e.sender;return this.items(),n(i.hint[0],t)&&(i.hint.hide(),t=r.elementUnderCursor(e),t||(t=r.elementUnderCursor(e)),i.hint.show()),t},_searchConnectedTargets:function(t,n){var i,a,r,o,s=e(this.options.connectWith);for(o=0;s.length>o;o++)if(i=s.eq(o).getKendoSortable(),e.contains(s[o],t)){if(i)return a=i.items(),r=a.filter(t)[0]||a.has(t)[0],r?(i.placeholder=this.placeholder,{element:e(r),sortable:i}):null}else if(s[o]==t){if(i&&i._isEmpty())return{element:s.eq(o),sortable:i,appendToBottom:!0};if(this._isCursorAfterLast(i,n))return r=i.items().last(),{element:r,sortable:i}}},_isCursorAfterLast:function(e,t){var n,i,a=e.items().last(),o={left:t.x.location,top:t.y.location};return n=r.getOffset(a),n.top+=a.outerHeight(),n.left+=a.outerWidth(),i=this.floating?n.left-o.left:n.top-o.top,0>i?!0:!1},_movementByAxis:function(t,n,i,a){var r,o="x"===t?n.left:n.top,s=0>i?this.placeholder.prev():this.placeholder.next();s.length&&!s.is(":visible")&&(s=0>i?s.prev():s.next()),e.extend(a,{target:s}),r=this._getElementCenter(s),r&&(r="x"===t?r.left:r.top),s.length&&0>i&&0>o-r?this._movePlaceholder({element:s,sortable:this},"prev",a):s.length&&i>0&&o-r>0&&this._movePlaceholder({element:s,sortable:this},"next",a)},_movePlaceholder:function(e,t,n){var i=this.placeholder;e.sortable.trigger(l,n)||(t?"prev"===t?e.element.before(i):"next"===t&&e.element.after(i):e.element.append(i),e.sortable.trigger(d,n))},_setCursor:function(){var t,n=this.options.cursor;n&&"auto"!==n&&(t=e(document.body),this._originalCursorType=t.css("cursor"),t.css({cursor:n}),this._cursorStylesheet||(this._cursorStylesheet=e("<style>* { cursor: "+n+" !important; }</style>")),this._cursorStylesheet.appendTo(t))},_resetCursor:function(){this._originalCursorType&&(e(document.body).css("cursor",this._originalCursorType),this._originalCursorType=null,this._cursorStylesheet.remove())},_getElementCenter:function(e){var t=e.length?r.getOffset(e):null;return t&&(t.top+=e.outerHeight()/2,t.left+=e.outerWidth()/2),t},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_cancel:function(){this.draggedElement.show(),this.placeholder.remove()},_items:function(){var e,t=this.options.filter;return e=t?this.element.find(t):this.element.children()},indexOf:function(e){var t=this._items(),n=this.placeholder,i=this.draggedElement;return n&&e[0]==n[0]?t.not(i).index(e):t.not(n).index(e)},items:function(){var e=this.placeholder,t=this._items();return e&&(t=t.not(e)),t},_isEmpty:function(){return!this.items().length},_isLastHidden:function(){return 1===this.items().length&&this.items().is(":hidden")}});r.ui.plugin(b)}(window.kendo.jQuery),function(e,t){function n(e,t){var n=a.getOffset(e),i=t.left+t.width,r=t.top+t.height;return n.right=n.left+e.outerWidth(),n.bottom=n.top+e.outerHeight(),!(n.left>i||t.left>n.right||n.top>r||t.top>n.bottom)}var i,a=window.kendo,r=a.ui.Widget,o=e.proxy,s=Math.abs,l="aria-selected",d="k-state-selected",c="k-state-selecting",u="k-selectable",h="change",p=".kendoSelectable",f="k-state-unselecting",g=!1;!function(e){!function(){e('<div class="parent"><span /></div>').on("click",">*",function(){g=!0}).find("span").click().end().off()}()}(e),i=r.extend({init:function(t,n){var i,s=this;r.fn.init.call(s,t,n),s._marquee=e("<div class='k-marquee'><div class='k-marquee-color'></div></div>"),s._lastActive=null,s.element.addClass(u),s.relatedTarget=s.options.relatedTarget,i=s.options.multiple,s.userEvents=new a.UserEvents(s.element,{global:!0,allowSelection:!0,filter:(g?"":"."+u+" ")+s.options.filter,tap:o(s._tap,s)}),i&&s.userEvents.bind("start",o(s._start,s)).bind("move",o(s._move,s)).bind("end",o(s._end,s)).bind("select",o(s._select,s))},events:[h],options:{name:"Selectable",filter:">*",multiple:!1,relatedTarget:e.noop},_isElement:function(e){var t,n=this.element,i=n.length,a=!1;for(e=e[0],t=0;i>t;t++)if(n[t]===e){a=!0;break}return a},_tap:function(t){var n,i=e(t.target),a=this,r=t.event.ctrlKey||t.event.metaKey,o=a.options.multiple,s=o&&t.event.shiftKey,l=t.event.which,c=t.event.button;!a._isElement(i.closest("."+u))||l&&3==l||c&&2==c||(n=i.hasClass(d),o&&r||a.clear(),i=i.add(a.relatedTarget(i)),s?a.selectRange(a._firstSelectee(),i):(n&&r?(a._unselect(i),a._notify(h)):a.value(i),a._lastActive=a._downTarget=i))},_start:function(n){var i,a=this,r=e(n.target),o=r.hasClass(d),s=n.event.ctrlKey||n.event.metaKey;return a._downTarget=r,a._isElement(r.closest("."+u))?(a.options.useAllItems?a._items=a.element.find(a.options.filter):(i=r.closest(a.element),a._items=i.find(a.options.filter)),a._marquee.appendTo(document.body).css({left:n.x.client+1,top:n.y.client+1,width:0,height:0}),s||a.clear(),r=r.add(a.relatedTarget(r)),o&&(a._selectElement(r,!0),s&&r.addClass(f)),t):(a.userEvents.cancel(),t)},_move:function(e){var t=this,n={left:e.x.startLocation>e.x.location?e.x.location:e.x.startLocation,top:e.y.startLocation>e.y.location?e.y.location:e.y.startLocation,width:s(e.x.initialDelta),height:s(e.y.initialDelta)};t._marquee.css(n),t._invalidateSelectables(n,e.event.ctrlKey||e.event.metaKey),e.preventDefault()},_end:function(){var e,t=this;t._marquee.remove(),t._unselect(t.element.find(t.options.filter+"."+f)).removeClass(f),e=t.element.find(t.options.filter+"."+c),e=e.add(t.relatedTarget(e)),t.value(e),t._lastActive=t._downTarget,t._items=null},_invalidateSelectables:function(e,t){var i,a,r,o,s=this._downTarget[0],l=this._items;for(i=0,a=l.length;a>i;i++)o=l.eq(i),r=o.add(this.relatedTarget(o)),n(o,e)?o.hasClass(d)?t&&s!==o[0]&&r.removeClass(d).addClass(f):o.hasClass(c)||o.hasClass(f)||r.addClass(c):o.hasClass(c)?r.removeClass(c):t&&o.hasClass(f)&&r.removeClass(f).addClass(d)},value:function(e){var n=this,i=o(n._selectElement,n);return e?(e.each(function(){i(this)}),n._notify(h),t):n.element.find(n.options.filter+"."+d)},_firstSelectee:function(){var e,t=this;return null!==t._lastActive?t._lastActive:(e=t.value(),e.length>0?e[0]:t.element.find(t.options.filter)[0])},_selectElement:function(t,n){var i=e(t),a=!n&&this._notify("select",{element:t});i.removeClass(c),a||(i.addClass(d),this.options.aria&&i.attr(l,!0))},_notify:function(e,t){return t=t||{},this.trigger(e,t)},_unselect:function(e){return e.removeClass(d),this.options.aria&&e.attr(l,!1),e},_select:function(t){var n="input,a,textarea,.k-multiselect-wrap,select",i=a.support.browser.msie;e(t.event.target).is(n)?(this.userEvents.cancel(),this._downTarget=null):(!i||i&&!e(a._activeElement()).is(n))&&t.preventDefault()},clear:function(){var e=this.element.find(this.options.filter+"."+d);this._unselect(e)},selectRange:function(t,n){var i,a,r,o=this;for(o.clear(),o.element.length>1&&(r=o.options.continuousItems()),r&&r.length||(r=o.element.find(o.options.filter)),t=e.inArray(e(t)[0],r),n=e.inArray(e(n)[0],r),t>n&&(a=t,t=n,n=a),o.options.useAllItems||(n+=o.element.length-1),i=t;n>=i;i++)o._selectElement(r[i]);o._notify(h)},destroy:function(){var e=this;r.fn.destroy.call(e),e.element.off(p),e.userEvents.destroy(),e._marquee=e._lastActive=e.element=e.userEvents=null}}),a.ui.plugin(i)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui.Widget,a=e.proxy,r=n.keys,o="click",s="k-button",l="k-button-icon",d="k-button-icontext",c=".kendoButton",u="disabled",h="k-state-disabled",p="k-state-focused",f="k-state-selected",g=i.extend({init:function(e,t){var r=this;i.fn.init.call(r,e,t),e=r.wrapper=r.element,t=r.options,e.addClass(s).attr("role","button"),t.enable=t.enable&&!e.attr(u),r.enable(t.enable),r._tabindex(),r._graphics(),e.on(o+c,a(r._click,r)).on("focus"+c,a(r._focus,r)).on("blur"+c,a(r._blur,r)).on("keydown"+c,a(r._keydown,r)).on("keyup"+c,a(r._keyup,r)),n.notify(r)},events:[o],options:{name:"Button",icon:"",spriteCssClass:"",imageUrl:"",enable:!0},_isNativeButton:function(){return"button"==this.element.prop("tagName").toLowerCase()},_click:function(e){this.options.enable&&this.trigger(o,{event:e})},_focus:function(){this.options.enable&&this.element.addClass(p)},_blur:function(){this.element.removeClass(p)},_keydown:function(e){var t=this;t._isNativeButton()||(e.keyCode==r.ENTER||e.keyCode==r.SPACEBAR)&&(e.keyCode==r.SPACEBAR&&(e.preventDefault(),t.options.enable&&t.element.addClass(f)),t._click(e))},_keyup:function(){this.element.removeClass(f)},_graphics:function(){var t,n,i,a=this,r=a.element,o=a.options,s=o.icon,c=o.spriteCssClass,u=o.imageUrl;(c||u||s)&&(i=!0,r.contents().not("span.k-sprite").not("span.k-icon").not("img.k-image").each(function(t,n){(1==n.nodeType||3==n.nodeType&&e.trim(n.nodeValue).length>0)&&(i=!1)}),r.addClass(i?l:d)),s?(t=r.children("span.k-icon").first(),t[0]||(t=e('<span class="k-icon"></span>').prependTo(r)),t.addClass("k-i-"+s)):c?(t=r.children("span.k-sprite").first(),t[0]||(t=e('<span class="k-sprite"></span>').prependTo(r)),t.addClass(c)):u&&(n=r.children("img.k-image").first(),n[0]||(n=e('<img alt="icon" class="k-image" />').prependTo(r)),n.attr("src",u))},enable:function(e){var n=this,i=n.element;e===t&&(e=!0),e=!!e,n.options.enable=e,i.toggleClass(h,!e).attr("aria-disabled",!e).attr(u,!e)}});n.ui.plugin(g)
}(window.kendo.jQuery),function(e,t){function n(e,t,n,i,a){return e({idx:t,text:n,ns:d.ns,numeric:i,title:a||""})}function i(e,t,n){return w({className:e.substring(1),text:t,wrapClassName:n||""})}function a(e,t,n,i){e.find(t).parent().attr(d.attr("page"),n).attr("tabindex",-1).toggleClass("k-state-disabled",i)}function r(e,t){a(e,p,1,1>=t)}function o(e,t){a(e,g,Math.max(1,t-1),1>=t)}function s(e,t,n){a(e,m,Math.min(n,t+1),t>=n)}function l(e,t,n){a(e,f,n,t>=n)}var d=window.kendo,c=d.ui,u=c.Widget,h=e.proxy,p=".k-i-seek-w",f=".k-i-seek-e",g=".k-i-arrow-w",m=".k-i-arrow-e",v="change",b=".kendoPager",_="click",y="keydown",k="disabled",w=d.template('<a href="\\#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #">#=text#</span></a>'),x=u.extend({init:function(t,n){var a,c,k=this;u.fn.init.call(k,t,n),n=k.options,k.dataSource=d.data.DataSource.create(n.dataSource),k.linkTemplate=d.template(k.options.linkTemplate),k.selectTemplate=d.template(k.options.selectTemplate),a=k.page(),c=k.totalPages(),k._refreshHandler=h(k.refresh,k),k.dataSource.bind(v,k._refreshHandler),n.previousNext&&(k.element.find(p).length||(k.element.append(i(p,n.messages.first,"k-pager-first")),r(k.element,a,c)),k.element.find(g).length||(k.element.append(i(g,n.messages.previous)),o(k.element,a,c))),n.numeric&&(k.list=k.element.find(".k-pager-numbers"),k.list.length||(k.list=e('<ul class="k-pager-numbers k-reset" />').appendTo(k.element))),n.input&&(k.element.find(".k-pager-input").length||k.element.append('<span class="k-pager-input k-label">'+n.messages.page+'<input class="k-textbox">'+d.format(n.messages.of,c)+"</span>"),k.element.on(y+b,".k-pager-input input",h(k._keydown,k))),n.previousNext&&(k.element.find(m).length||(k.element.append(i(m,n.messages.next)),s(k.element,a,c)),k.element.find(f).length||(k.element.append(i(f,n.messages.last,"k-pager-last")),l(k.element,a,c))),n.pageSizes&&(k.element.find(".k-pager-sizes").length||e('<span class="k-pager-sizes k-label"><select/>'+n.messages.itemsPerPage+"</span>").appendTo(k.element).find("select").html(e.map(e.isArray(n.pageSizes)?n.pageSizes:[5,10,20],function(e){return"<option>"+e+"</option>"}).join("")).end().appendTo(k.element),k.element.find(".k-pager-sizes select").val(k.pageSize()),d.ui.DropDownList&&k.element.find(".k-pager-sizes select").show().kendoDropDownList(),k.element.on(v+b,".k-pager-sizes select",h(k._change,k))),n.refresh&&(k.element.find(".k-pager-refresh").length||k.element.append('<a href="#" class="k-pager-refresh k-link" title="'+n.messages.refresh+'"><span class="k-icon k-i-refresh">'+n.messages.refresh+"</span></a>"),k.element.on(_+b,".k-pager-refresh",h(k._refreshClick,k))),n.info&&(k.element.find(".k-pager-info").length||k.element.append('<span class="k-pager-info k-label" />')),k.element.on(_+b,"a",h(k._click,k)).addClass("k-pager-wrap k-widget"),n.autoBind&&k.refresh(),d.notify(k)},destroy:function(){var e=this;u.fn.destroy.call(e),e.element.off(b),e.dataSource.unbind(v,e._refreshHandler),e._refreshHandler=null,d.destroy(e.element),e.element=e.list=null},events:[v],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(e){var t=this;t.dataSource.unbind(v,t._refreshHandler),t.dataSource=t.options.dataSource=e,e.bind(v,t._refreshHandler),t.options.autoBind&&e.fetch()},refresh:function(e){var t,i,a,c=this,u=1,h="",p=c.page(),f=c.options,g=c.pageSize(),m=c.dataSource.total(),v=c.totalPages(),b=c.linkTemplate,_=f.buttonCount;if(!e||"itemchange"!=e.action){if(f.numeric){for(p>_&&(a=p%_,u=0===a?p-_+1:p-a+1),i=Math.min(u+_-1,v),u>1&&(h+=n(b,u-1,"...",!1,f.messages.morePages)),t=u;i>=t;t++)h+=n(t==p?c.selectTemplate:b,t,t,!0);v>i&&(h+=n(b,t,"...",!1,f.messages.morePages)),""===h&&(h=c.selectTemplate({text:0})),c.list.html(h)}f.info&&(h=m>0?d.format(f.messages.display,(p-1)*g+1,Math.min(p*g,m),m):f.messages.empty,c.element.find(".k-pager-info").html(h)),f.input&&c.element.find(".k-pager-input").html(c.options.messages.page+'<input class="k-textbox">'+d.format(f.messages.of,v)).find("input").val(p).attr(k,1>m).toggleClass("k-state-disabled",1>m),f.previousNext&&(r(c.element,p,v),o(c.element,p,v),s(c.element,p,v),l(c.element,p,v)),f.pageSizes&&c.element.find(".k-pager-sizes select").val(g).filter("["+d.attr("role")+"=dropdownlist]").kendoDropDownList("value",g).kendoDropDownList("text",g)}},_keydown:function(e){if(e.keyCode===d.keys.ENTER){var t=this.element.find(".k-pager-input").find("input"),n=parseInt(t.val(),10);(isNaN(n)||1>n||n>this.totalPages())&&(n=this.page()),t.val(n),this.page(n)}},_refreshClick:function(e){e.preventDefault(),this.dataSource.read()},_change:function(e){var t=parseInt(e.currentTarget.value,10);isNaN(t)||this.dataSource.pageSize(t)},_click:function(t){var n=e(t.currentTarget);t.preventDefault(),n.is(".k-state-disabled")||this.page(n.attr(d.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(e){return e===t?this.dataSource.total()>0?this.dataSource.page():0:(this.dataSource.page(e),this.trigger(v,{index:e}),t)}});c.plugin(x)}(window.kendo.jQuery),function(e){function t(t,n){return t===n||e.contains(t,n)}var n=window.kendo,i=n.ui,a=i.Widget,r=n.support,o=n.getOffset,s=n._activeElement,l="open",d="close",c="deactivate",u="activate",h="center",p="left",f="right",g="top",m="bottom",v="absolute",b="hidden",_="body",y="location",k="position",w="visible",x="effects",C="k-state-active",T="k-state-border",S=/k-state-border-(\w+)/,D=".k-picker-wrap, .k-dropdown-wrap, .k-link",E="down",F=e(window),A=e(document.documentElement),M="resize scroll",H=r.transitions.css,z=H+"transform",I=e.extend,R=".kendoPopup",N=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],P=a.extend({init:function(t,i){var r,o=this;i=i||{},i.isRtl&&(i.origin=i.origin||m+" "+f,i.position=i.position||g+" "+f),a.fn.init.call(o,t,i),t=o.element,i=o.options,o.collisions=i.collision?i.collision.split(" "):[],1===o.collisions.length&&o.collisions.push(o.collisions[0]),r=e(o.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),i.appendTo=e(e(i.appendTo)[0]||r[0]||_),o.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!i.isRtl).css({position:v}).appendTo(i.appendTo).on("mouseenter"+R,function(){o._hovered=!0}).on("mouseleave"+R,function(){o._hovered=!1}),o.wrapper=e(),i.animation===!1&&(i.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),I(i.animation.open,{complete:function(){o.wrapper.css({overflow:w}),o.trigger(u)}}),I(i.animation.close,{complete:function(){o.wrapper.hide();var a,r,s=o.wrapper.data(y),l=e(i.anchor);s&&o.wrapper.css(s),i.anchor!=_&&(a=(l[0].className.match(S)||["","down"])[1],r=T+"-"+a,l.removeClass(r).children(D).removeClass(C).removeClass(r),t.removeClass(T+"-"+n.directions[a].reverse)),o._closing=!1,o.trigger(c)}}),o._mousedownProxy=function(e){o._mousedown(e)},o._resizeProxy=function(e){o._resize(e)},i.toggleTarget&&e(i.toggleTarget).on(i.toggleEvent+R,e.proxy(o.toggle,o))},events:[l,u,d,c],options:{name:"Popup",toggleEvent:"click",origin:m+" "+p,position:g+" "+p,anchor:_,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},destroy:function(){var t,i=this,r=i.options,o=i.element.off(R);a.fn.destroy.call(i),r.toggleTarget&&e(r.toggleTarget).off(R),r.modal||(A.unbind(E,i._mousedownProxy),F.unbind(M,i._resizeProxy)),n.destroy(i.element.children()),o.removeData(),r.appendTo[0]===document.body&&(t=o.parent(".k-animation-container"),t[0]?t.remove():o.remove())},open:function(t,i){var a,o,s,d=this,c={isFixed:!isNaN(parseInt(i,10)),x:t,y:i},u=d.element,h=d.options,p="down",f=e(h.anchor),m=u[0]&&u.hasClass("km-widget");if(!d.visible()){if(h.copyAnchorStyles&&(m&&"font-size"==N[0]&&N.shift(),u.css(n.getComputedStyles(f[0],N))),u.data("animating")||d.trigger(l))return;h.modal||(A.unbind(E,d._mousedownProxy).bind(E,d._mousedownProxy),r.mobileOS.ios||r.mobileOS.android||F.unbind(M,d._resizeProxy).bind(M,d._resizeProxy)),d.wrapper=o=n.wrap(u,h.autosize).css({overflow:b,display:"block",position:v}),r.mobileOS.android&&o.add(f).css(z,"translatez(0)"),o.css(k),e(h.appendTo)[0]==document.body&&o.css(g,"-10000px"),a=I(!0,{},h.animation.open),d.flipped=d._position(c),a.effects=n.parseEffects(a.effects,d.flipped),p=a.effects.slideIn?a.effects.slideIn.direction:p,h.anchor!=_&&(s=T+"-"+p,u.addClass(T+"-"+n.directions[p].reverse),f.addClass(s).children(D).addClass(C).addClass(s)),u.data(x,a.effects).kendoStop(!0).kendoAnimate(a)}},toggle:function(){var e=this;e[e.visible()?d:l]()},visible:function(){return this.element.is(":"+w)},close:function(){var t,i,a,r,o=this,s=o.options;if(o.visible()){if(t=o.wrapper[0]?o.wrapper:n.wrap(o.element).hide(),o._closing||o.trigger(d))return;o.element.find(".k-popup").each(function(){var t=e(this),n=t.data("kendoPopup");n&&n.close()}),A.unbind(E,o._mousedownProxy),F.unbind(M,o._resizeProxy),i=I(!0,{},s.animation.close),a=o.element.data(x),r=i.effects,!r&&!n.size(r)&&a&&n.size(a)&&(i.effects=a,i.reverse=!0),o._closing=!0,o.element.kendoStop(!0),t.css({overflow:b}),o.element.kendoAnimate(i)}},_resize:function(e){var n=this;"resize"===e.type?(clearTimeout(n._resizeTimeout),n._resizeTimeout=setTimeout(function(){n._position(),n._resizeTimeout=null},50)):n._hovered||t(n.element[0],s())||n.close()},_mousedown:function(i){var a=this,r=a.element[0],o=a.options,s=e(o.anchor)[0],l=o.toggleTarget,d=n.eventTarget(i),c=e(d).closest(".k-popup"),u=c.parent().parent(".km-shim").length;c=c[0],(u||!c||c===a.element[0])&&"popover"!==e(i.target).closest("a").data("rel")&&(t(r,d)||t(s,d)||l&&t(e(l)[0],d)||a.close())},_fit:function(e,t,n){var i=0;return e+t>n&&(i=n-(e+t)),0>e&&(i=-e),i},_flip:function(e,t,n,i,a,r,o){var s=0;return o=o||t,r!==a&&r!==h&&a!==h&&(e+o>i&&(s+=-(n+t)),0>e+s&&(s+=n+t)),s},_position:function(t){var n,i,a,s,l,d,c,u,h,p=this,f=p.element.css(k,""),g=p.wrapper,m=p.options,b=e(m.viewport),_=b.offset(),w=e(m.anchor),x=m.origin.toLowerCase().split(" "),C=m.position.toLowerCase().split(" "),T=p.collisions,S=r.zoomLevel(),D=10002,E=!!(b[0]==window&&window.innerWidth&&1.02>=S),F=0,A=E?window.innerWidth:b.width(),M=E?window.innerHeight:b.height(),H=w.parents().filter(g.siblings());if(H[0])if(i=+e(H).css("zIndex"))D=i+1;else for(n=w.parentsUntil(H),a=n.length;a>F;F++)i=+e(n[F]).css("zIndex"),i&&i>D&&(D=i+1);return g.css("zIndex",D),g.css(t&&t.isFixed?{left:t.x,top:t.y}:p._align(x,C)),s=o(g,k,w[0]===g.offsetParent()[0]),l=o(g),d=w.offsetParent().parent(".k-animation-container,.k-popup,.k-group"),d.length&&(s=o(g,k,!0),l=o(g)),b[0]===window?(l.top-=window.pageYOffset||document.documentElement.scrollTop||0,l.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(l.top-=_.top,l.left-=_.left),p.wrapper.data(y)||g.data(y,I({},s)),c=I({},l),u=I({},s),"fit"===T[0]&&(u.top+=p._fit(c.top,g.outerHeight(),M/S)),"fit"===T[1]&&(u.left+=p._fit(c.left,g.outerWidth(),A/S)),h=I({},u),"flip"===T[0]&&(u.top+=p._flip(c.top,f.outerHeight(),w.outerHeight(),M/S,x[0],C[0],g.outerHeight())),"flip"===T[1]&&(u.left+=p._flip(c.left,f.outerWidth(),w.outerWidth(),A/S,x[1],C[1],g.outerWidth())),f.css(k,v),g.css(u),u.left!=h.left||u.top!=h.top},_align:function(t,n){var i,a=this,r=a.wrapper,s=e(a.options.anchor),l=t[0],d=t[1],c=n[0],u=n[1],p=o(s),g=e(a.options.appendTo),v=r.outerWidth(),b=r.outerHeight(),_=s.outerWidth(),y=s.outerHeight(),k=p.top,w=p.left,x=Math.round;return g[0]!=document.body&&(i=o(g),k-=i.top,w-=i.left),l===m&&(k+=y),l===h&&(k+=x(y/2)),c===m&&(k-=b),c===h&&(k-=x(b/2)),d===f&&(w+=_),d===h&&(w+=x(_/2)),u===f&&(w-=v),u===h&&(w-=x(v/2)),{top:k,left:w}}});i.plugin(P)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui.Widget,a=e.proxy,r=e.extend,o=window.setTimeout,s="click",l="show",d="hide",c="k-notification",u=".k-notification-wrap .k-i-close",h="info",p="success",f="warning",g="error",m="top",v="left",b="bottom",_="right",y="up",k=".kendoNotification",w='<div class="k-widget k-notification"></div>',x='<div class="k-notification-wrap"><span class="k-icon k-i-note">#=typeIcon#</span>#=content#<span class="k-icon k-i-close">Hide</span></div>',C=i.extend({init:function(t,a){var r=this;i.fn.init.call(r,t,a),a=r.options,a.appendTo&&e(a.appendTo).is(t)||r.element.hide(),r._compileTemplates(a.templates),r._guid="_"+n.guid(),r._isRtl=n.support.isRtl(t),r._compileStacking(a.stacking,a.position.top),n.notify(r)},events:[l,d],options:{name:"Notification",position:{pinned:!0,top:null,left:null,bottom:20,right:20},stacking:"default",hideOnClick:!0,button:!1,allowHideAfter:0,autoHideAfter:5e3,appendTo:null,width:null,height:null,templates:[],animation:{open:{effects:"fade:in",duration:300},close:{effects:"fade:out",duration:600,hide:!0}}},_compileTemplates:function(t){var i=this,a=n.template;i._compiled={},e.each(t,function(t,n){i._compiled[n.type]=a(n.template||e("#"+n.templateId).html())}),i._defaultCompiled=a(x)},_getCompiled:function(e){var t=this,n=t._defaultCompiled;return e?t._compiled[e]||n:n},_compileStacking:function(e,t){var n,i,a=this,r={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};switch(e){case"down":n=b+" "+v,i=m+" "+v,delete r.paddingBottom;break;case _:n=m+" "+_,i=m+" "+v,delete r.paddingRight;break;case v:n=m+" "+v,i=m+" "+_,delete r.paddingLeft;break;case y:n=m+" "+v,i=b+" "+v,delete r.paddingTop;break;default:null!==t?(n=b+" "+v,i=m+" "+v,delete r.paddingBottom):(n=m+" "+v,i=b+" "+v,delete r.paddingTop)}a._popupOrigin=n,a._popupPosition=i,a._popupPaddings=r},_attachPopupEvents:function(e,t){function n(e){e.on(s+k,function(){t.close()})}var i,a=e.allowHideAfter,r=!isNaN(a)&&a>0;e.hideOnClick?t.bind("activate",function(){r?o(function(){n(t.element)},a):n(t.element)}):e.button&&(i=t.element.find(u),r?o(function(){n(i)},a):n(i))},_showPopup:function(t,i){var a,s,l=this,c=i.autoHideAfter,h=i.position.left,p=i.position.top;s=e("."+l._guid).last(),a=new n.ui.Popup(t,{anchor:s[0]?s:document.body,origin:l._popupOrigin,position:l._popupPosition,animation:i.animation,modal:!0,collision:"",isRtl:l._isRtl,close:function(){l.trigger(d,{element:this.element})},deactivate:function(e){e.sender.element.off(k),e.sender.element.find(u).off(k),e.sender.destroy()}}),l._attachPopupEvents(i,a),s[0]?a.open():(null===h&&(h=e(window).width()-t.width()-i.position.right),null===p&&(p=e(window).height()-t.height()-i.position.bottom),a.open(h,p)),a.wrapper.addClass(l._guid).css(r({margin:0},l._popupPaddings)),i.position.pinned?(a.wrapper.css("position","fixed"),s[0]&&l._togglePin(a.wrapper,!0)):s[0]||l._togglePin(a.wrapper,!1),c>0&&o(function(){a.close()},c)},_togglePin:function(t,n){var i=e(window),a=n?-1:1;t.css({top:parseInt(t.css(m),10)+a*i.scrollTop(),left:parseInt(t.css(v),10)+a*i.scrollLeft()})},_attachStaticEvents:function(e,t){function n(e){e.on(s+k,a(i._hideStatic,i,t))}var i=this,r=e.allowHideAfter,l=!isNaN(r)&&r>0;e.hideOnClick?l?o(function(){n(t)},r):n(t):e.button&&(l?o(function(){n(t.find(u))},r):n(t.find(u)))},_showStatic:function(e,t){var n=this,i=t.autoHideAfter,a=t.animation,r=t.stacking==y||t.stacking==v?"prependTo":"appendTo";e.addClass(n._guid)[r](t.appendTo).hide().kendoAnimate(a.open),n._attachStaticEvents(t,e),i>0&&o(function(){n._hideStatic(e)},i)},_hideStatic:function(e){e.kendoAnimate(r(this.options.animation.close,{complete:function(){e.off(k).find(u).off(k),e.remove()}})),this.trigger(d,{element:e})},show:function(i,a){var o,s,d=this,u=d.options,p=e(w);return a||(a=h),null!==i&&i!==t&&""!==i&&(n.isFunction(i)&&(i=i()),s={typeIcon:a,content:""},o=e.isPlainObject(i)?r(s,i):r(s,{content:i}),p.addClass(c+"-"+a).toggleClass(c+"-button",u.button).attr("data-role","alert").css({width:u.width,height:u.height}).append(d._getCompiled(a)(o)),e(u.appendTo)[0]?d._showStatic(p,u):d._showPopup(p,u),d.trigger(l,{element:p})),d},info:function(e){return this.show(e,h)},success:function(e){return this.show(e,p)},warning:function(e){return this.show(e,f)},error:function(e){return this.show(e,g)},hide:function(){var t=this,n=t.getNotifications();return n.each(t.options.appendTo?function(n,i){t._hideStatic(e(i))}:function(t,n){var i=e(n).data("kendoPopup");i&&i.close()}),t},getNotifications:function(){var t=this,n=e("."+t._guid);return t.options.appendTo?n:n.children("."+c)},setOptions:function(e){var n,a=this;i.fn.setOptions.call(a,e),n=a.options,e.templates!==t&&a._compileTemplates(n.templates),(e.stacking!==t||e.position!==t)&&a._compileStacking(n.stacking,n.position.top)},destroy:function(){i.fn.destroy.call(this),this.getNotifications().off(k).find(u).off(k)}});n.ui.plugin(C)}(window.kendo.jQuery),function(e){function t(e){for(;e.length;)n(e),e=e.parent()}function n(e){var t=e.data(r.ns+"title");t&&(e.attr("title",t),e.removeData(r.ns+"title"))}function i(e){var t=e.attr("title");t&&(e.data(r.ns+"title",t),e.attr("title",""))}function a(e){for(;e.length&&!e.is("body");)i(e),e=e.parent()}var r=window.kendo,o=r.ui.Widget,s=r.ui.Popup,l=r.isFunction,d=e.isPlainObject,c=e.extend,u=e.proxy,h=e(document),p=r.isLocalUrl,f="_tt_active",g="aria-describedby",m="show",v="hide",b="error",_="contentLoad",y="requestStart",k="k-content-frame",w='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>',x=r.template("<iframe frameborder='0' class='"+k+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),C=".kendoTooltip",T={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},S={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},D={bottom:"n",top:"s",left:"e",right:"w",center:"n"},E={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},F=function(e){return e.target.data(r.ns+"title")},A=o.extend({init:function(e,t){var n,i=this;o.fn.init.call(i,e,t),n=i.options.position.match(/left|right/)?"horizontal":"vertical",i.dimensions=E[n],i._documentKeyDownHandler=u(i._documentKeyDown,i),i.element.on(i.options.showOn+C,i.options.filter,u(i._showOn,i)).on("mouseenter"+C,i.options.filter,u(i._mouseenter,i)),this.options.autoHide&&i.element.on("mouseleave"+C,i.options.filter,u(i._mouseleave,i))},options:{name:"Tooltip",filter:"",content:F,showAfter:100,callout:!0,position:"bottom",showOn:"mouseenter",autoHide:!0,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:!0}}},events:[m,v,_,b,y],_mouseenter:function(t){a(e(t.currentTarget))},_showOn:function(t){var n=this,i=e(t.currentTarget);n.options.showOn&&n.options.showOn.match(/click|focus/)?n._show(i):(clearTimeout(n.timeout),n.timeout=setTimeout(function(){n._show(i)},n.options.showAfter))},_appendContent:function(e){var t,n=this,i=n.options.content,a=n.content,o=n.options.iframe;d(i)&&i.url?("iframe"in n.options||(o=!p(i.url)),n.trigger(y,{options:i,target:e}),o?(a.hide(),t=a.find("."+k)[0],t?t.src=i.url||t.src:a.html(x({content:i})),a.find("."+k).off("load"+C).on("load"+C,function(){n.trigger(_),a.show()})):(a.empty(),r.ui.progress(a,!0),n._ajaxRequest(i))):i&&l(i)?(i=i({sender:this,target:e}),n.content.html(i||"")):n.content.html(i)},_ajaxRequest:function(e){var t=this;jQuery.ajax(c({type:"GET",dataType:"html",cache:!1,error:function(e,n){r.ui.progress(t.content,!1),t.trigger(b,{status:n,xhr:e})},success:u(function(e){r.ui.progress(t.content,!1),t.content.html(e),t.trigger(_)},t)},e))},_documentKeyDown:function(e){e.keyCode===r.keys.ESC&&this.hide()},refresh:function(){var e=this,t=e.popup;t&&t.options.anchor&&e._appendContent(t.options.anchor)},hide:function(){this.popup&&this.popup.close()},show:function(e){e=e||this.element,a(e),this._show(e)},_show:function(e){var n=this,i=n.target();n.popup||n._initPopup(),i&&i[0]!=e[0]&&(n.popup.close(),n.popup.element.kendoStop(!0,!0)),i&&i[0]==e[0]||(n._appendContent(e),n.popup.options.anchor=e),n.popup.one("deactivate",function(){t(e),e.removeAttr(g),this.element.removeAttr("id").attr("aria-hidden",!0),h.off("keydown"+C,n._documentKeyDownHandler)}),n.popup.open()},_initPopup:function(){var t=this,n=t.options,i=e(r.template(w)({callout:n.callout&&"center"!==n.position,dir:D[n.position],autoHide:n.autoHide}));t.popup=new s(i,c({activate:function(){var e=this.options.anchor,i=e[0].id||t.element[0].id;i&&(e.attr(g,i+f),this.element.attr("id",i+f)),n.callout&&t._positionCallout(),this.element.removeAttr("aria-hidden"),h.on("keydown"+C,t._documentKeyDownHandler),t.trigger(m)},close:function(){t.trigger(v)},copyAnchorStyles:!1,animation:n.animation},T[n.position])),i.css({width:n.width,height:n.height}),t.content=i.find(".k-tooltip-content"),t.arrow=i.find(".k-callout"),n.autoHide?i.on("mouseleave"+C,u(t._mouseleave,t)):i.on("click"+C,".k-tooltip-button",u(t._closeButtonClick,t))},_closeButtonClick:function(e){e.preventDefault(),this.hide()},_mouseleave:function(n){if(this.popup){var i=e(n.currentTarget),a=i.offset(),r=n.pageX,o=n.pageY;if(a.right=a.left+i.outerWidth(),a.bottom=a.top+i.outerHeight(),r>a.left&&a.right>r&&o>a.top&&a.bottom>o)return;this.popup.close()}else t(e(n.currentTarget));clearTimeout(this.timeout)},_positionCallout:function(){var t=this,n=t.options.position,i=t.dimensions,a=i.offset,r=t.popup,o=r.options.anchor,s=e(o).offset(),l=parseInt(t.arrow.css("border-top-width"),10),d=e(r.element).offset(),c=D[r.flipped?S[n]:n],u=s[a]-d[a]+e(o)[i.size]()/2-l;t.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+c).css(a,u)},target:function(){return this.popup?this.popup.options.anchor:null},destroy:function(){var e=this.popup;e&&(e.element.off(C),e.destroy()),this.element.off(C),h.off("keydown"+C,this._documentKeyDownHandler),o.fn.destroy.call(this)}});r.ui.plugin(A)}(window.kendo.jQuery),function(e,t){function n(t,i){t.filters&&(t.filters=e.grep(t.filters,function(e){return n(e,i),e.filters?e.filters.length:e.field!=i}))}var i=window.kendo,a=i.ui,r=a.Widget,o=i.keys,s=i.support,l=i.htmlEncode,d=i._activeElement,c="id",u="li",h="change",p="k-state-focused",f="k-state-hover",g="k-loading",m="open",v="close",b="select",_="selected",y="progress",k="requestEnd",w="width",x=e.extend,C=e.proxy,T=s.browser,S=T.msie&&9>T.version,D=/"/g,E={ComboBox:"DropDownList",DropDownList:"ComboBox"},F=r.extend({init:function(t,n){var i,a=this,o=a.ns;r.fn.init.call(a,t,n),t=a.element,a._isSelect=t.is(b),a._template(),a.ul=e('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:s.kineticScrollNeeded?"":"auto"}).on("mouseenter"+o,u,function(){e(this).addClass(f)}).on("mouseleave"+o,u,function(){e(this).removeClass(f)}).on("click"+o,u,C(a._click,a)).attr({tabIndex:-1,role:"listbox","aria-hidden":!0}),a.list=e("<div class='k-list-container'/>").append(a.ul).on("mousedown"+o,function(e){e.preventDefault()}),i=t.attr(c),i&&(a.list.attr(c,i+"-list"),a.ul.attr(c,i+"_listbox"),a._optionID=i+"_option_selected"),a._header(),a._accessors(),a._initValue()},options:{valuePrimitive:!1,headerTemplate:""},setOptions:function(e){r.fn.setOptions.call(this,e),e&&e.enable!==t&&(e.enabled=e.enable)},focus:function(){this._focused.focus()},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},_filterSource:function(e){var t=this,i=t.options,a=t.dataSource,r=a.filter()||{};n(r,i.dataTextField),e&&(r=r.filters||[],r.push(e)),a.filter(r)},_header:function(){var t,n=this.options.headerTemplate;e.isFunction(n)&&(n=n({})),n&&(this.list.prepend(n),t=this.ul.prev(),this.header=t[0]?t:null)},_initValue:function(){var e=this,t=e.options.value;null!==t?e.element.val(t):(t=e._accessor(),e.options.value=t),e._old=t},_ignoreCase:function(){var e,t=this,n=t.dataSource.reader.model;n&&n.fields&&(e=n.fields[t.options.dataTextField],e&&e.type&&"string"!==e.type&&(t.options.ignoreCase=!1))},items:function(){return this.ul[0].children},current:function(e){var n=this,i=n._optionID;return e===t?n._current:(n._current&&(n._current.removeClass(p).removeAttr("aria-selected").removeAttr(c),n._focused.removeAttr("aria-activedescendant")),e&&(e.addClass(p),n._scroll(e),i&&(e.attr("id",i),n._focused.attr("aria-activedescendant",i))),n._current=e,t)},destroy:function(){var e=this,t=e.ns;r.fn.destroy.call(e),e._unbindDataSource(),e.ul.off(t),e.list.off(t),e._touchScroller&&e._touchScroller.destroy(),e.popup.destroy(),e._form&&e._form.off("reset",e._resetHandler)},dataItem:function(e){var n=this;return e===t&&(e=n.selectedIndex),n._data()[e]},_accessors:function(){var e=this,t=e.element,n=e.options,a=i.getter,r=t.attr(i.attr("text-field")),o=t.attr(i.attr("value-field"));r&&(n.dataTextField=r),o&&(n.dataValueField=o),e._text=a(n.dataTextField),e._value=a(n.dataValueField)},_aria:function(e){var n=this,i=n.options,a=n._focused;i.suggest!==t&&a.attr("aria-autocomplete",i.suggest?"both":"list"),e=e?e+" "+n.ul[0].id:n.ul[0].id,a.attr("aria-owns",e),n.ul.attr("aria-live",i.filter&&"none"!==i.filter?"polite":"off")},_blur:function(){var e=this;e._change(),e.close()},_change:function(){var e,n=this,i=n.selectedIndex,a=n.options.value,r=n.value();n._isSelect&&!n._bound&&a&&(r=a),r!==n._old?e=!0:i!==t&&i!==n._oldIndex&&(e=!0),e&&(n._old=r,n._oldIndex=i,n.trigger(h),n.element.trigger(h))},_click:function(t){t.isDefaultPrevented()||this._accept(e(t.currentTarget))},_data:function(){return this.dataSource.view()},_enable:function(){var e=this,n=e.options,i=e.element.is("[disabled]");n.enable!==t&&(n.enabled=n.enable),!n.enabled||i?e.enable(!1):e.readonly(e.element.is("[readonly]"))},_focus:function(e){var n=this,i=!0;return n.popup.visible()&&e&&n.trigger(b,{item:e})?(n.close(),t):(n._select(e),n._triggerCascade(i),n._blur(),t)},_index:function(e){var t,n,i=this,a=i._data();for(t=0,n=a.length;n>t;t++)if(i._dataValue(a[t])==e)return t;return-1},_dataValue:function(e){var n=this._value(e);return n===t&&(n=this._text(e)),n},_height:function(e){if(e){var t,n=this,i=n.list,a=n.popup.visible(),r=n.options.height,o=n.header;t=i.add(i.parent(".k-animation-container")).show(),r=n.ul[0].scrollHeight>r?r:"auto",t.height(r),o&&n.ul.height("auto"==r?r:i.height()-o.height()),a||t.hide()}},_adjustListWidth:function(){var e,t,n=this.list,i=n[0].style.width,a=this.wrapper;return n.data(w)||!i?(e=window.getComputedStyle?window.getComputedStyle(a[0],null):0,t=e?parseFloat(e.width):a.outerWidth(),e&&(T.mozilla||T.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),i="border-box"!==n.css("box-sizing")?t-(n.outerWidth()-n.width()):t,n.css({fontFamily:a.css("font-family"),width:i}).data(w,i),!0):void 0},_popup:function(){var e=this,t=e.list,n=e._focused,r=e.options,o=e.wrapper;e.popup=new a.Popup(t,x({},r.popup,{anchor:o,open:function(t){e._adjustListWidth(),e.trigger(m)?t.preventDefault():(n.attr("aria-expanded",!0),e.ul.attr("aria-hidden",!1))},close:function(t){e.trigger(v)?t.preventDefault():(n.attr("aria-expanded",!1),e.ul.attr("aria-hidden",!0))},animation:r.animation,isRtl:s.isRtl(o)})),e.popup.one(m,function(){e._height(e._data().length)}),e._touchScroller=i.touchScroller(e.popup.element)},_makeUnselectable:function(){S&&this.list.find("*").attr("unselectable","on")},_toggleHover:function(t){e(t.currentTarget).toggleClass(f,"mouseenter"===t.type)},_toggle:function(e){var n=this,i=s.touch&&s.MSPointers&&s.pointers;e=e!==t?e:!n.popup.visible(),i||n._focused[0]===d()||n._focused.focus(),n[e?m:v]()},_scroll:function(e){if(e){e[0]&&(e=e[0]);var t,n,i=this.ul[0],a=e.offsetTop,r=e.offsetHeight,o=i.scrollTop,s=i.clientHeight,l=a+r,d=this._touchScroller;d?(t=d.dimensions.y,t.enabled&&a>t.size&&(a=a-t.size+r+4,d.scrollTo(0,-a))):(n=this.header?this.header.outerHeight():0,i.scrollTop=o>a?a-n:l>o+s?l-s-n:o)}},_template:function(){var e=this,t=e.options,n=t.template,a=t.dataSource;e._isSelect&&e.element[0].length&&(a||(t.dataTextField=t.dataTextField||"text",t.dataValueField=t.dataValueField||"value")),n?(n=i.template(n),e.template=function(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+n(e)+"</li>"}):e.template=i.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+i.expr(t.dataTextField,"data")+"}</li>",{useWithBlock:!1})},_triggerCascade:function(e){var t=this,n=t.value();(!t._bound&&n||t._old!==n)&&t.trigger("cascade",{userTriggered:e})},_unbindDataSource:function(){var e=this;e.dataSource.unbind(h,e._refreshHandler).unbind(y,e._progressHandler).unbind(k,e._requestEndHandler).unbind("error",e._errorHandler)}});x(F,{inArray:function(e,t){var n,i,a=t.children;if(!e||e.parentNode!==t)return-1;for(n=0,i=a.length;i>n;n++)if(e===a[n])return n;return-1}}),i.ui.List=F,a.Select=F.extend({init:function(e,t){F.fn.init.call(this,e,t),this._initial=this.element.val()},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this._bound=!1,this.options.autoBind&&this.dataSource.fetch()},close:function(){this.popup.close()},select:function(e){var n=this;return e===t?n.selectedIndex:(n._select(e),n._triggerCascade(),n._old=n._accessor(),n._oldIndex=n.selectedIndex,t)},_accessor:function(e,n){var i,a=this.element[0],r=this._isSelect,o=a.selectedIndex;return e===t?(r?o>-1&&(i=a.options[o],i&&(e=i.value)):e=a.value,e):(r?(o>-1&&a.options[o].removeAttribute(_),a.selectedIndex=n,i=a.options[n],i&&i.setAttribute(_,_)):a.value=e,t)},_hideBusy:function(){var e=this;clearTimeout(e._busy),e._arrow.removeClass(g),e._focused.attr("aria-busy",!1),e._busy=null},_showBusy:function(){var e=this;e._request=!0,e._busy||(e._busy=setTimeout(function(){e._focused.attr("aria-busy",!0),e._arrow.addClass(g)},100))},_requestEnd:function(){this._request=!1},_dataSource:function(){var t,n=this,a=n.element,r=n.options,o=r.dataSource||{};o=e.isArray(o)?{data:o}:o,n._isSelect&&(t=a[0].selectedIndex,t>-1&&(r.index=t),o.select=a,o.fields=[{field:r.dataTextField},{field:r.dataValueField}]),n.dataSource&&n._refreshHandler?n._unbindDataSource():(n._refreshHandler=C(n.refresh,n),n._progressHandler=C(n._showBusy,n),n._requestEndHandler=C(n._requestEnd,n),n._errorHandler=C(n._hideBusy,n)),n.dataSource=i.data.DataSource.create(o).bind(h,n._refreshHandler).bind(y,n._progressHandler).bind(k,n._requestEndHandler).bind("error",n._errorHandler)},_get:function(t){var n,i,a=this,r=a._data();if("function"==typeof t)for(n=0,i=r.length;i>n;n++)if(t(r[n])){t=n;break}if("number"==typeof t){if(0>t)return e();t=e(a.ul[0].children[t])}return t&&t.nodeType&&(t=e(t)),t},_move:function(e){var t,n,i=this,a=e.keyCode,r=i.ul[0],s=i.popup.visible()?"_select":"_accept",l=i._current,d=a===o.DOWN;if(a===o.UP||d){if(e.altKey)i.toggle(d);else{if(t=r.firstChild,!t&&!i._accessor()&&"filter"!==i._state)return i._fetch||(i.dataSource.one(h,function(){i._move(e),i._fetch=!1}),i._fetch=!0,i._filterSource()),e.preventDefault(),!0;d?(!l||-1===i.selectedIndex&&!i.value()&&l[0]===t?l=t:(l=l[0].nextSibling,l||t!==r.lastChild||(l=t)),i[s](l)):(l=l?l[0].previousSibling:r.lastChild,l||t!==r.lastChild||(l=t),i[s](l))}e.preventDefault(),n=!0}else a===o.ENTER||a===o.TAB?(i.popup.visible()&&e.preventDefault(),!i._typing&&(i.popup.visible()||l&&l.hasClass("k-state-selected"))||(l=null),i._accept(l),n=!0):a===o.ESC&&(i.popup.visible()&&e.preventDefault(),i.close(),n=!0);return n},_selectItem:function(){var e,n,i=this,a=i._bound===t,r=i.options;e=i._isSelect&&!i._initial&&!r.value&&r.index&&!i._bound,e||(n=i._selectedValue||a&&r.value||i._accessor()),n?i.value(n):a&&i.select(r.index)},_fetchItems:function(e){var n=this,i=n.ul[0].firstChild;return n._request?!0:n._fetch||i?t:n.options.cascadeFrom?!i:(n.dataSource.one(h,function(){n._old=t,n.value(e),n._fetch=!1
}),n._fetch=!0,n.dataSource.fetch(),!0)},_options:function(e,n){var i,a,r,o,s=this,d=s.element,c=e.length,u="",h=0;for(n&&(h=1,u=n);c>h;h++)i="<option",a=e[h],r=s._text(a),o=s._value(a),o!==t&&(o+="",-1!==o.indexOf('"')&&(o=o.replace(D,"&quot;")),i+=' value="'+o+'"'),i+=">",r!==t&&(i+=l(r)),i+="</option>",u+=i;d.html(u)},_reset:function(){var t=this,n=t.element,i=n.attr("form"),a=i?e("#"+i):n.closest("form");a[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initial)})},t._form=a.on("reset",t._resetHandler))},_cascade:function(){var t,i,a,r,o,s=this,l=s.options,d=l.cascadeFrom;if(d){if(s._selectedValue=l.value||s._accessor(),i=e("#"+d),t=i.data("kendo"+l.name),t||(t=i.data("kendo"+E[l.name])),!t)return;l.autoBind=!1,r=l.cascadeFromField||t.options.dataValueField,o=function(){s.dataSource.unbind(h,o);var e=s._selectedValue||s.value();s._userTriggered?s._clearSelection(t,!0):e?(s.value(e),s.dataSource.view()[0]&&-1!==s.selectedIndex||s._clearSelection(t,!0)):s.select(l.index),s.enable(),s._triggerCascade(s._userTriggered),s._userTriggered=!1},a=function(){var e,i,a,l=t.dataItem(),d=l?t._value(l):null;d||0===d?(e=s.dataSource.filter()||{},n(e,r),i=e.filters||[],i.push({field:r,operator:"eq",value:d}),a=function(){s.unbind("dataBound",a),o.apply(s,arguments)},s.first("dataBound",a),s.dataSource.filter(i)):(s.enable(!1),s._clearSelection(t),s._triggerCascade(s._userTriggered),s._userTriggered=!1)},t.first("cascade",function(e){s._userTriggered=e.userTriggered,a()}),t._bound?a():t.value()||s.enable(!1)}}})}(window.kendo.jQuery),function(e,t){function n(e,t,n,i){var a,r=e.getFullYear(),o=t.getFullYear(),s=n.getFullYear();return r-=r%i,a=r+(i-1),o>r&&(r=o),a>s&&(a=s),r+"-"+a}function i(e){for(var t,n=0,i=e.min,a=e.max,r=e.start,o=e.setter,l=e.build,d=e.cells||12,c=e.perRow||4,u=e.content||M,h=e.empty||H,p=e.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';d>n;n++)n>0&&n%c===0&&(p+='</tr><tr role="row">'),t=l(r,n),p+=s(r,i,a)?u(t):h(t),o(r,1);return p+"</tr></tbody></table>"}function a(e,t,n){var i=e.getFullYear(),a=t.getFullYear(),r=a,o=0;return n&&(a-=a%n,r=a-a%n+n-1),i>r?o=1:a>i&&(o=-1),o}function r(){var e=new ft;return new ft(e.getFullYear(),e.getMonth(),e.getDate())}function o(e,t,n){var i=r();return e&&(i=new ft(+e)),t>i?i=new ft(+t):i>n&&(i=new ft(+n)),i}function s(e,t,n){return+e>=+t&&+n>=+e}function l(e,t){return e.slice(t).concat(e.slice(0,t))}function d(e,t,n){t=t instanceof ft?t.getFullYear():e.getFullYear()+n*t,e.setFullYear(t)}function c(t){e(this).toggleClass(G,it.indexOf(t.type)>-1||t.type==tt)}function u(e){e.preventDefault()}function h(e){return E(e).calendars.standard}function p(e){var n=gt[e.start],i=gt[e.depth],a=E(e.culture);e.format=S(e.format||a.calendars.standard.patterns.d),isNaN(n)&&(n=0,e.start=W),(i===t||i>n)&&(e.depth=W),e.dates||(e.dates=[])}function f(e){I&&e.find("*").attr("unselectable","on")}function g(e,t){for(var n=0,i=t.length;i>n;n++)if(e===+t[n])return!0;return!1}function m(e,t){return e?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate():!1}function v(e,t){return e?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth():!1}var b,_=window.kendo,y=_.support,k=_.ui,w=k.Widget,x=_.keys,C=_.parseDate,T=_.date.adjustDST,S=_._extractFormat,D=_.template,E=_.getCulture,F=_.support.transitions,A=F?F.css+"transform-origin":"",M=D('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),H=D('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),z=_.support.browser,I=z.msie&&9>z.version,R=".kendoCalendar",N="click"+R,P="keydown"+R,O="id",L="min",B="left",j="slideIn",W="month",V="century",q="change",$="navigate",U="value",G="k-state-hover",Q="k-state-disabled",Y="k-state-focused",K="k-other-month",X=' class="'+K+'"',J="k-nav-today",Z="td:has(.k-link)",et="blur"+R,tt="focus",nt=tt+R,it=y.touch?"touchstart":"mouseenter",at=y.touch?"touchstart"+R:"mouseenter"+R,rt=y.touch?"touchend"+R+" touchmove"+R:"mouseleave"+R,ot=6e4,st=864e5,lt="_prevArrow",dt="_nextArrow",ct="aria-disabled",ut="aria-selected",ht=e.proxy,pt=e.extend,ft=Date,gt={month:0,year:1,decade:2,century:3},mt=w.extend({init:function(t,n){var i,a,r=this;w.fn.init.call(r,t,n),t=r.wrapper=r.element,n=r.options,n.url=window.unescape(n.url),r._templates(),r._header(),r._footer(r.footer),a=t.addClass("k-widget k-calendar").on(at+" "+rt,Z,c).on(P,"table.k-content",ht(r._move,r)).on(N,Z,function(t){var n=t.currentTarget.firstChild;-1!=n.href.indexOf("#")&&t.preventDefault(),r._click(e(n))}).on("mouseup"+R,"table.k-content, .k-footer",function(){r._focusView(r.options.focusOnNav!==!1)}).attr(O),a&&(r._cellID=a+"_cell_selected"),p(n),i=C(n.value,n.format,n.culture),r._index=gt[n.start],r._current=new ft(+o(i,n.min,n.max)),r._addClassProxy=function(){r._active=!0,r._cell.addClass(Y)},r._removeClassProxy=function(){r._active=!1,r._cell.removeClass(Y)},r.value(i),_.notify(r)},options:{name:"Calendar",value:null,min:new ft(1900,0,1),max:new ft(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:W,depth:W,animation:{horizontal:{effects:j,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[q,$],setOptions:function(e){var t=this;p(e),e.dates[0]||(e.dates=t.options.dates),w.fn.setOptions.call(t,e),t._templates(),t._footer(t.footer),t._index=gt[t.options.start],t.navigate()},destroy:function(){var e=this,t=e._today;e.element.off(R),e._title.off(R),e[lt].off(R),e[dt].off(R),_.destroy(e._table),t&&_.destroy(t.off(R)),w.fn.destroy.call(e)},current:function(){return this._current},view:function(){return this._view},focus:function(e){e=e||this._table,this._bindTable(e),e.focus()},min:function(e){return this._option(L,e)},max:function(e){return this._option("max",e)},navigateToPast:function(){this._navigate(lt,-1)},navigateToFuture:function(){this._navigate(dt,1)},navigateUp:function(){var e=this,t=e._index;e._title.hasClass(Q)||e.navigate(e._current,++t)},navigateDown:function(e){var n=this,i=n._index,a=n.options.depth;return e?i===gt[a]?(+n._value!=+e&&(n.value(e),n.trigger(q)),t):(n.navigate(e,--i),t):void 0},navigate:function(n,i){i=isNaN(i)?gt[i]:i;var a,r,s,l,d=this,c=d.options,u=c.culture,h=c.min,p=c.max,g=d._title,m=d._table,v=d._oldTable,_=d._value,y=d._current,k=n&&+n>+y,w=i!==t&&i!==d._index;n||(n=y),d._current=n=new ft(+o(n,h,p)),i===t?i=d._index:d._index=i,d._view=r=b.views[i],s=r.compare,l=i===gt[V],g.toggleClass(Q,l).attr(ct,l),l=s(n,h)<1,d[lt].toggleClass(Q,l).attr(ct,l),l=s(n,p)>-1,d[dt].toggleClass(Q,l).attr(ct,l),m&&v&&v.data("animating")&&(v.kendoStop(!0,!0),m.kendoStop(!0,!0)),d._oldTable=m,(!m||d._changeView)&&(g.html(r.title(n,h,p,u)),d._table=a=e(r.content(pt({min:h,max:p,date:n,url:c.url,dates:c.dates,format:c.format,culture:u},d[r.name]))),f(a),d._animate({from:m,to:a,vertical:w,future:k}),d._focus(n),d.trigger($)),i===gt[c.depth]&&_&&d._class("k-state-selected",r.toDateString(_)),d._class(Y,r.toDateString(n)),!m&&d._cell&&d._cell.removeClass(Y),d._changeView=!0},value:function(e){var n=this,i=n._view,a=n.options,r=n._view,o=a.min,l=a.max;return e===t?n._value:(e=C(e,a.format,a.culture),null!==e&&(e=new ft(+e),s(e,o,l)||(e=null)),n._value=e,r&&null===e&&n._cell?n._cell.removeClass("k-state-selected"):(n._changeView=!e||i&&0!==i.compare(e,n._current),n.navigate(e)),t)},_move:function(t){var n,i,a,r,s=this,l=s.options,d=t.keyCode,c=s._view,u=s._index,h=new ft(+s._current),p=_.support.isRtl(s.wrapper);return t.target===s._table[0]&&(s._active=!0),t.ctrlKey?d==x.RIGHT&&!p||d==x.LEFT&&p?(s.navigateToFuture(),i=!0):d==x.LEFT&&!p||d==x.RIGHT&&p?(s.navigateToPast(),i=!0):d==x.UP?(s.navigateUp(),i=!0):d==x.DOWN&&(s._click(e(s._cell[0].firstChild)),i=!0):(d==x.RIGHT&&!p||d==x.LEFT&&p?(n=1,i=!0):d==x.LEFT&&!p||d==x.RIGHT&&p?(n=-1,i=!0):d==x.UP?(n=0===u?-7:-4,i=!0):d==x.DOWN?(n=0===u?7:4,i=!0):d==x.ENTER?(s._click(e(s._cell[0].firstChild)),i=!0):d==x.HOME||d==x.END?(a=d==x.HOME?"first":"last",r=c[a](h),h=new ft(r.getFullYear(),r.getMonth(),r.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()),i=!0):d==x.PAGEUP?(i=!0,s.navigateToPast()):d==x.PAGEDOWN&&(i=!0,s.navigateToFuture()),(n||a)&&(a||c.setDate(h,n),s._focus(o(h,l.min,l.max)))),i&&t.preventDefault(),s._current},_animate:function(e){var t=this,n=e.from,i=e.to,a=t._active;n?n.parent().data("animating")?(n.parent().kendoStop(!0,!0).remove(),n.remove(),i.insertAfter(t.element[0].firstChild),t._focusView(a)):n.is(":visible")&&t.options.animation!==!1?t[e.vertical?"_vertical":"_horizontal"](n,i,e.future):(i.insertAfter(n),n.remove(),t._focusView(a)):(i.insertAfter(t.element[0].firstChild),t._bindTable(i))},_horizontal:function(e,n,i){var a=this,r=a._active,o=a.options.animation.horizontal,s=o.effects,l=e.outerWidth();s&&-1!=s.indexOf(j)&&(e.add(n).css({width:l}),e.wrap("<div/>"),a._focusView(r,e),e.parent().css({position:"relative",width:2*l,"float":B,"margin-left":i?0:-l}),n[i?"insertAfter":"insertBefore"](e),pt(o,{effects:j+":"+(i?"right":B),complete:function(){e.remove(),n.unwrap(),a._focusView(r),a._oldTable=t}}),e.parent().kendoStop(!0,!0).kendoAnimate(o))},_vertical:function(e,n){var i,a,r=this,o=r.options.animation.vertical,s=o.effects,l=r._active;s&&-1!=s.indexOf("zoom")&&(n.css({position:"absolute",top:e.prev().outerHeight(),left:0}).insertBefore(e),A&&(i=r._cellByDate(r._view.toDateString(r._current)),a=i.position(),a=a.left+parseInt(i.width()/2,10)+"px "+(a.top+parseInt(i.height()/2,10)+"px"),n.css(A,a)),e.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){e.remove(),n.css({position:"static",top:0,left:0}),r._focusView(l),r._oldTable=t}}),n.kendoStop(!0,!0).kendoAnimate(o))},_cellByDate:function(t){return this._table.find("td:not(."+K+")").filter(function(){return e(this.firstChild).attr(_.attr(U))===t})},_class:function(t,n){var i=this,a=i._cellID,r=i._cell;r&&r.removeAttr(ut).removeAttr("aria-label").removeAttr(O),r=i._table.find("td:not(."+K+")").removeClass(t).filter(function(){return e(this.firstChild).attr(_.attr(U))===n}).attr(ut,!0),t!==Y||i._active||i.options.focusOnNav===!1||(t=""),r.addClass(t),r[0]&&(i._cell=r),a&&(r.attr(O,a),i._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",a))},_bindTable:function(e){e.on(nt,this._addClassProxy).on(et,this._removeClassProxy)},_click:function(e){var t=this,n=t.options,i=new Date(+t._current),a=e.attr(_.attr(U)).split("/");a=new ft(a[0],a[1],a[2]),T(a,0),t._view.setDate(i,a),t.navigateDown(o(i,n.min,n.max))},_focus:function(e){var t=this,n=t._view;0!==n.compare(e,t._current)?t.navigate(e):(t._current=e,t._class(Y,n.toDateString(e)))},_focusView:function(e,t){e&&this.focus(t)},_footer:function(n){var i=this,a=r(),o=i.element,s=o.find(".k-footer");return n?(s[0]||(s=e('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(o)),i._today=s.show().find(".k-link").html(n(a)).attr("title",_.toString(a,"D",i.options.culture)),i._toggle(),t):(i._toggle(!1),s.hide(),t)},_header:function(){var e,t=this,n=t.element;n.find(".k-header")[0]||n.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>'),e=n.find(".k-link").on(at+" "+rt+" "+nt+" "+et,c).click(!1),t._title=e.eq(1).on(N,function(){t._focusView(t.options.focusOnNav!==!1),t.navigateUp()}),t[lt]=e.eq(0).on(N,function(){t._focusView(t.options.focusOnNav!==!1),t.navigateToPast()}),t[dt]=e.eq(2).on(N,function(){t._focusView(t.options.focusOnNav!==!1),t.navigateToFuture()})},_navigate:function(e,t){var n=this,i=n._index+1,a=new ft(+n._current);e=n[e],e.hasClass(Q)||(i>3?a.setFullYear(a.getFullYear()+100*t):b.views[i].setDate(a,t),n.navigate(a))},_option:function(e,n){var i,a=this,r=a.options,o=a._value||a._current;return n===t?r[e]:(n=C(n,r.format,r.culture),n&&(r[e]=new ft(+n),i=e===L?n>o:o>n,(i||v(o,n))&&(i&&(a._value=null),a._changeView=!0),a._changeView||(a._changeView=!(!r.month.content&&!r.month.empty)),a.navigate(a._value),a._toggle()),t)},_toggle:function(e){var n=this,i=n.options,a=n._today;e===t&&(e=s(r(),i.min,i.max)),a&&(a.off(N),e?a.addClass(J).removeClass(Q).on(N,ht(n._todayClick,n)):a.removeClass(J).addClass(Q).on(N,u))},_todayClick:function(e){var t=this,n=gt[t.options.depth],i=r();e.preventDefault(),0===t._view.compare(t._current,i)&&t._index==n&&(t._changeView=!1),t._value=i,t.navigate(i,n),t.trigger(q)},_templates:function(){var e=this,t=e.options,n=t.footer,i=t.month,a=i.content,r=i.empty;e.month={content:D('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+_.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(a||"#=data.value#")+"</a></td>",{useWithBlock:!!a}),empty:D('<td role="gridcell">'+(r||"&nbsp;")+"</td>",{useWithBlock:!!r})},e.footer=n!==!1?D(n||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}):null}});k.plugin(mt),b={firstDayOfMonth:function(e){return new ft(e.getFullYear(),e.getMonth(),1)},firstVisibleDay:function(e,t){t=t||_.culture().calendar;for(var n=t.firstDay,i=new ft(e.getFullYear(),e.getMonth(),0,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());i.getDay()!=n;)b.setTime(i,-1*st);return i},setTime:function(e,t){var n=e.getTimezoneOffset(),i=new ft(e.getTime()+t),a=i.getTimezoneOffset()-n;e.setTime(i.getTime()+a*ot)},views:[{name:W,title:function(e,t,n,i){return h(i).months.names[e.getMonth()]+" "+e.getFullYear()},content:function(e){for(var t=this,n=0,a=e.min,r=e.max,o=e.date,s=e.dates,d=e.format,c=e.culture,u=e.url,p=u&&s[0],f=h(c),m=f.firstDay,v=f.days,y=l(v.names,m),k=l(v.namesShort,m),w=b.firstVisibleDay(o,f),x=t.first(o),C=t.last(o),S=t.toDateString,D=new ft,E='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';7>n;n++)E+='<th scope="col" title="'+y[n]+'">'+k[n]+"</th>";return D=new ft(D.getFullYear(),D.getMonth(),D.getDate()),T(D,0),D=+D,i({cells:42,perRow:7,html:E+='</tr></thead><tbody><tr role="row">',start:new ft(w.getFullYear(),w.getMonth(),w.getDate()),min:new ft(a.getFullYear(),a.getMonth(),a.getDate()),max:new ft(r.getFullYear(),r.getMonth(),r.getDate()),content:e.content,empty:e.empty,setter:t.setDate,build:function(e){var t=[],n=e.getDay(),i="",a="#";return(x>e||e>C)&&t.push(K),+e===D&&t.push("k-today"),(0===n||6===n)&&t.push("k-weekend"),p&&g(+e,s)&&(a=u.replace("{0}",_.toString(e,d,c)),i=" k-action-link"),{date:e,dates:s,ns:_.ns,title:_.toString(e,"D",c),value:e.getDate(),dateString:S(e),cssClass:t[0]?' class="'+t.join(" ")+'"':"",linkClass:i,url:a}}})},first:function(e){return b.firstDayOfMonth(e)},last:function(e){var t=new ft(e.getFullYear(),e.getMonth()+1,0),n=b.firstDayOfMonth(e),i=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return i&&t.setHours(n.getHours()+i/60),t},compare:function(e,t){var n,i=e.getMonth(),a=e.getFullYear(),r=t.getMonth(),o=t.getFullYear();return n=a>o?1:o>a?-1:i==r?0:i>r?1:-1},setDate:function(e,t){var n=e.getHours();t instanceof ft?e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):b.setTime(e,t*st),T(e,n)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate()}},{name:"year",title:function(e){return e.getFullYear()},content:function(e){var t=h(e.culture).months.namesAbbr,n=this.toDateString,a=e.min,r=e.max;return i({min:new ft(a.getFullYear(),a.getMonth(),1),max:new ft(r.getFullYear(),r.getMonth(),1),start:new ft(e.date.getFullYear(),0,1),setter:this.setDate,build:function(e){return{value:t[e.getMonth()],ns:_.ns,dateString:n(e),cssClass:""}}})},first:function(e){return new ft(e.getFullYear(),0,e.getDate())},last:function(e){return new ft(e.getFullYear(),11,e.getDate())},compare:function(e,t){return a(e,t)},setDate:function(e,t){var n,i=e.getHours();t instanceof ft?(n=t.getMonth(),e.setFullYear(t.getFullYear(),n,e.getDate()),n!==e.getMonth()&&e.setDate(0)):(n=e.getMonth()+t,e.setMonth(n),n>11&&(n-=12),n>0&&e.getMonth()!=n&&e.setDate(0)),T(e,i)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/1"}},{name:"decade",title:function(e,t,i){return n(e,t,i,10)},content:function(e){var t=e.date.getFullYear(),n=this.toDateString;return i({start:new ft(t-t%10-1,0,1),min:new ft(e.min.getFullYear(),0,1),max:new ft(e.max.getFullYear(),0,1),setter:this.setDate,build:function(e,t){return{value:e.getFullYear(),ns:_.ns,dateString:n(e),cssClass:0===t||11==t?X:""}}})},first:function(e){var t=e.getFullYear();return new ft(t-t%10,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return new ft(t-t%10+9,e.getMonth(),e.getDate())},compare:function(e,t){return a(e,t,10)},setDate:function(e,t){d(e,t,1)},toDateString:function(e){return e.getFullYear()+"/0/1"}},{name:V,title:function(e,t,i){return n(e,t,i,100)},content:function(e){var t=e.date.getFullYear(),n=e.min.getFullYear(),a=e.max.getFullYear(),r=this.toDateString,o=n,s=a;return o-=o%10,s-=s%10,10>s-o&&(s=o+9),i({start:new ft(t-t%100-10,0,1),min:new ft(o,0,1),max:new ft(s,0,1),setter:this.setDate,build:function(e,t){var i=e.getFullYear(),o=i+9;return n>i&&(i=n),o>a&&(o=a),{ns:_.ns,value:i+" - "+o,dateString:r(e),cssClass:0===t||11==t?X:""}}})},first:function(e){var t=e.getFullYear();return new ft(t-t%100,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return new ft(t-t%100+99,e.getMonth(),e.getDate())},compare:function(e,t){return a(e,t,100)},setDate:function(e,t){d(e,t,10)},toDateString:function(e){var t=e.getFullYear();return t-t%10+"/0/1"}}]},b.isEqualDatePart=m,b.makeUnselectable=f,b.restrictValue=o,b.isInRange=s,b.normalize=p,b.viewsEnum=gt,_.calendar=b}(window.kendo.jQuery),function(e,t){function n(t){var n=t.parseFormats,i=t.format;N.normalize(t),n=e.isArray(n)?n:[n],-1===e.inArray(i,n)&&n.splice(0,0,t.format),t.parseFormats=n}function i(e){e.preventDefault()}var a,r=window.kendo,o=r.ui,s=o.Widget,l=r.parseDate,d=r.keys,c=r.template,u=r._activeElement,h="<div />",p="<span />",f=".kendoDatePicker",g="click"+f,m="open",v="close",b="change",_="disabled",y="readonly",k="k-state-default",w="k-state-focused",x="k-state-selected",C="k-state-disabled",T="k-state-hover",S="mouseenter"+f+" mouseleave"+f,D="mousedown"+f,E="id",F="min",A="max",M="month",H="aria-disabled",z="aria-expanded",I="aria-hidden",R="aria-readonly",N=r.calendar,P=N.isInRange,O=N.restrictValue,L=N.isEqualDatePart,B=e.extend,j=e.proxy,W=Date,V=function(t){var n,i=this,a=document.body,s=e(h).attr(I,"true").addClass("k-calendar-container").appendTo(a);i.options=t=t||{},n=t.id,n&&(n+="_dateview",s.attr(E,n),i._dateViewID=n),i.popup=new o.Popup(s,B(t.popup,t,{name:"Popup",isRtl:r.support.isRtl(t.anchor)})),i.div=s,i.value(t.value)};V.prototype={_calendar:function(){var t,n=this,a=n.calendar,s=n.options;a||(t=e(h).attr(E,r.guid()).appendTo(n.popup.element).on(D,i).on(g,"td:has(.k-link)",j(n._click,n)),n.calendar=a=new o.Calendar(t),n._setOptions(s),r.calendar.makeUnselectable(a.element),a.navigate(n._value||n._current,s.start),n.value(n._value))},_setOptions:function(e){this.calendar.setOptions({focusOnNav:!1,change:e.change,culture:e.culture,dates:e.dates,depth:e.depth,footer:e.footer,format:e.format,max:e.max,min:e.min,month:e.month,start:e.start})},setOptions:function(e){var t=this.options;this.options=B(t,e,{change:t.change,close:t.close,open:t.open}),this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var e=this;e._calendar(),e.popup.open()},close:function(){this.popup.close()},min:function(e){this._option(F,e)},max:function(e){this._option(A,e)},toggle:function(){var e=this;e[e.popup.visible()?v:m]()},move:function(e){var n=this,i=e.keyCode,a=n.calendar,r=e.ctrlKey&&i==d.DOWN||i==d.ENTER;return i==d.ESC?(n.close(),t):e.altKey?(i==d.DOWN?(n.open(),e.preventDefault()):i==d.UP&&(n.close(),e.preventDefault()),t):n.popup.visible()?r&&a._cell.hasClass(x)?(n.close(),e.preventDefault(),t):(n._current=a._move(e),t):void 0},current:function(e){this._current=e,this.calendar._focus(e)},value:function(e){var t=this,n=t.calendar,i=t.options;t._value=e,t._current=new W(+O(e,i.min,i.max)),n&&n.value(e)},_click:function(e){-1!==e.currentTarget.className.indexOf(x)&&this.close()},_option:function(e,t){var n=this,i=n.calendar;n.options[e]=t,i&&i[e](t)}},V.normalize=n,r.DateView=V,a=s.extend({init:function(e,t){var i,a,o=this;s.fn.init.call(o,e,t),e=o.element,t=o.options,t.min=l(e.attr("min"))||l(t.min),t.max=l(e.attr("max"))||l(t.max),n(t),o._wrapper(),o.dateView=new V(B({},t,{id:e.attr(E),anchor:o.wrapper,change:function(){o._change(this.value()),o.close()},close:function(t){o.trigger(v)?t.preventDefault():(e.attr(z,!1),a.attr(I,!0))},open:function(t){var n,i=o.options;o.trigger(m)?t.preventDefault():(o.element.val()!==o._oldText&&(n=l(e.val(),i.parseFormats,i.culture),o.dateView[n?"current":"value"](n)),e.attr(z,!0),a.attr(I,!1),o._updateARIA(n))}})),a=o.dateView.div,o._icon();try{e[0].setAttribute("type","text")}catch(d){e[0].type="text"}e.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":o.dateView._dateViewID}),o._reset(),o._template(),i=e.is("[disabled]"),i?o.enable(!1):o.readonly(e.is("[readonly]")),o._old=o._update(t.value||o.element.val()),o._oldText=e.val(),r.notify(o)},events:[m,v,b],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:M,depth:M,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(e){var t=this,i=t._value;s.fn.setOptions.call(t,e),e=t.options,e.min=l(e.min),e.max=l(e.max),n(e),t.dateView.setOptions(e),i&&(t.element.val(r.toString(i,e.format,e.culture)),t._updateARIA(i))},_editable:function(e){var t=this,n=t._dateIcon.off(f),a=t.element.off(f),r=t._inputWrapper.off(f),o=e.readonly,s=e.disable;o||s?(r.addClass(s?C:k).removeClass(s?k:C),a.attr(_,s).attr(y,o).attr(H,s).attr(R,o)):(r.addClass(k).removeClass(C).on(S,t._toggleHover),a.removeAttr(_).removeAttr(y).attr(H,!1).attr(R,!1).on("keydown"+f,j(t._keydown,t)).on("blur"+f,j(t._blur,t)).on("focus"+f,function(){t._inputWrapper.addClass(w)}),n.on(g,j(t._click,t)).on(D,i))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;s.fn.destroy.call(e),e.dateView.destroy(),e.element.off(f),e._dateIcon.off(f),e._inputWrapper.off(f),e._form&&e._form.off("reset",e._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(e){return this._option(F,e)},max:function(e){return this._option(A,e)},value:function(e){var n=this;return e===t?n._value:(n._old=n._update(e),null===n._old&&n.element.val(""),n._oldText=n.element.val(),t)},_toggleHover:function(t){e(t.currentTarget).toggleClass(T,"mouseenter"===t.type)},_blur:function(){var e=this,t=e.element.val();e.close(),t!==e._oldText&&e._change(t),e._inputWrapper.removeClass(w)},_click:function(){var e=this,t=e.element;e.dateView.toggle(),r.support.touch||t[0]===u()||t.focus()},_change:function(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t.trigger(b),t.element.trigger(b))},_keydown:function(e){var t=this,n=t.dateView,i=t.element.val();n.popup.visible()||e.keyCode!=d.ENTER||i===t._oldText?(n.move(e),t._updateARIA(n._current)):t._change(i)},_icon:function(){var t,n=this,i=n.element;t=i.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(i)),n._dateIcon=t.attr({role:"button","aria-controls":n.dateView._dateViewID})},_option:function(e,n){var i=this,a=i.options;return n===t?a[e]:(n=l(n,a.parseFormats,a.culture),n&&(a[e]=new W(+n),i.dateView[e](n)),t)},_update:function(e){var t,n=this,i=n.options,a=i.min,o=i.max,s=n._value,d=l(e,i.parseFormats,i.culture),c=null===d&&null===s||d instanceof Date&&s instanceof Date;return+d===+s&&c?(t=r.toString(d,i.format,i.culture),t!==e&&n.element.val(null===d?e:t),d):(null!==d&&L(d,a)?d=O(d,a,o):P(d,a,o)||(d=null),n._value=d,n.dateView.value(d),n.element.val(d?r.toString(d,i.format,i.culture):e),n._updateARIA(d),d)},_wrapper:function(){var t,n=this,i=n.element;t=i.parents(".k-datepicker"),t[0]||(t=i.wrap(p).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(p).parent()),t[0].style.cssText=i[0].style.cssText,i.css({width:"100%",height:i[0].style.height}),n.wrapper=t.addClass("k-widget k-datepicker k-header").addClass(i[0].className),n._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,n=t.element,i=n.attr("form"),a=i?e("#"+i):n.closest("form");a[0]&&(t._resetHandler=function(){t.value(n[0].defaultValue)},t._form=a.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=c(this.options.ARIATemplate)},_updateARIA:function(e){var t,n=this,i=n.dateView.calendar;n.element.removeAttr("aria-activedescendant"),i&&(t=i._cell,t.attr("aria-label",n._ariaTemplate({current:e||i.current()})),n.element.attr("aria-activedescendant",t.attr("id")))}}),o.plugin(a)}(window.kendo.jQuery),function(e,t){function n(e,t,n){return n?t.substring(0,e).split(n).length-1:0}function i(e,t,i){return t.split(i)[n(e,t,i)]}function a(e,t,i,a){var r=t.split(a);return r.splice(n(e,t,a),1,i),a&&""!==r[r.length-1]&&r.push(""),r.join(a)}var r=window.kendo,o=r.support,s=r.caret,l=r._activeElement,d=o.placeholder,c=r.ui,u=c.List,h=r.keys,p=r.data.DataSource,f="aria-disabled",g="aria-readonly",m="k-state-default",v="disabled",b="readonly",_="k-state-focused",y="k-state-selected",k="k-state-disabled",w="k-state-hover",x=".kendoAutoComplete",C="mouseenter"+x+" mouseleave"+x,T=e.proxy,S=u.extend({init:function(t,n){var i,a=this;a.ns=x,n=e.isArray(n)?{dataSource:n}:n,u.fn.init.call(a,t,n),t=a.element,n=a.options,n.placeholder=n.placeholder||t.attr("placeholder"),d&&t.attr("placeholder",n.placeholder),a._wrapper(),a._loader(),a._dataSource(),a._ignoreCase(),t[0].type="text",i=a.wrapper,a._popup(),t.addClass("k-input").on("keydown"+x,T(a._keydown,a)).on("paste"+x,T(a._search,a)).on("focus"+x,function(){a._prev=a._accessor(),a._placeholder(!1),i.addClass(_)}).on("blur"+x,function(){a._change(),a._placeholder(),i.removeClass(_)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),a._enable(),a._old=a._accessor(),t[0].id&&t.attr("aria-owns",a.ul[0].id),a._aria(),a._placeholder(),r.notify(a)},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},value:null},_dataSource:function(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._refreshHandler=T(e.refresh,e),e._progressHandler=T(e._showBusy,e)),e.dataSource=p.create(e.options.dataSource).bind("change",e._refreshHandler).bind("progress",e._progressHandler)},setDataSource:function(e){this.options.dataSource=e,this._dataSource()},events:["open","close","change","select","dataBinding","dataBound"],setOptions:function(e){u.fn.setOptions.call(this,e),this._template(),this._accessors(),this._aria()},_editable:function(e){var t=this,n=t.element,i=t.wrapper.off(x),a=e.readonly,r=e.disable;a||r?(i.addClass(r?k:m).removeClass(r?m:k),n.attr(v,r).attr(b,a).attr(f,r).attr(g,a)):(i.addClass(m).removeClass(k).on(C,t._toggleHover),n.removeAttr(v).removeAttr(b).attr(f,!1).attr(g,!1))},close:function(){var e=this,t=e._current;t&&t.removeClass(y),e.current(null),e.popup.close()},destroy:function(){var e=this;e.element.off(x),e.wrapper.off(x),u.fn.destroy.call(e)},refresh:function(){var n,i=this,a=i.ul[0],o=i.popup,s=i.options,d=i._data(),c=d.length;i.trigger("dataBinding"),a.innerHTML=r.render(i.template,d),i._height(c),o.visible()&&o._position(),c&&(s.highlightFirst&&i.current(e(a.firstChild)),s.suggest&&i.suggest(e(a.firstChild))),i._open&&(i._open=!1,n=c?"open":"close",i._typing&&i.element[0]!==l()&&(n="close"),o[n](),i._typing=t),i._touchScroller&&i._touchScroller.reset(),i._makeUnselectable(),i._hideBusy(),i.trigger("dataBound")},select:function(e){this._select(e)},search:function(e){var t,n=this,a=n.options,r=a.ignoreCase,o=a.separator;e=e||n._accessor(),n._current=null,clearTimeout(n._typing),o&&(e=i(s(n.element)[0],e,o)),t=e.length,t?t>=n.options.minLength&&(n._open=!0,n._filterSource({value:r?e.toLowerCase():e,operator:a.filter,field:a.dataTextField,ignoreCase:r})):n.popup.close()},suggest:function(e){var i,a=this,r=a._last,o=a._accessor(),d=a.element[0],c=s(d)[0],p=a.options.separator,f=o.split(p),g=n(c,o,p),m=c;return r==h.BACKSPACE||r==h.DELETE?(a._last=t,t):(e=e||"","string"!=typeof e&&(i=u.inArray(e[0],a.ul[0]),e=i>-1?a._text(a._data()[i]):""),0>=c&&(c=o.toLowerCase().indexOf(e.toLowerCase())+1),i=o.substring(0,c).lastIndexOf(p),i=i>-1?c-(i+p.length):c,o=f[g].substring(0,i),e&&(i=e.toLowerCase().indexOf(o.toLowerCase()),i>-1&&(e=e.substring(i+o.length),m=c+e.length,o+=e),p&&""!==f[f.length-1]&&f.push("")),f[g]=o,a._accessor(f.join(p||"")),d===l()&&s(d,c,m),t)},value:function(e){return e===t?this._accessor():(this._accessor(e),this._old=e,t)},_accessor:function(e){var n=this,i=n.element[0];return e===t?(e=i.value,i.className.indexOf("k-readonly")>-1&&e===n.options.placeholder?"":e):(i.value=null===e?"":e,n._placeholder(),t)},_accept:function(e){var t=this.element;this._focus(e),s(t,t.val().length)},_keydown:function(t){var n=this,i=n.ul[0],a=t.keyCode,r=n._current,o=n.popup.visible();n._last=a,a===h.DOWN?(o&&n._move(r?r.next():e(i.firstChild)),t.preventDefault()):a===h.UP?(o&&n._move(r?r.prev():e(i.lastChild)),t.preventDefault()):a===h.ENTER||a===h.TAB?(a===h.ENTER&&n.popup.visible()&&t.preventDefault(),n._accept(r)):a===h.ESC?(n.popup.visible()&&t.preventDefault(),n.close()):n._search()},_move:function(e){var t=this;e=e[0]?e:null,t.current(e),t.options.suggest&&t.suggest(e)},_hideBusy:function(){var e=this;clearTimeout(e._busy),e._loading.hide(),e.element.attr("aria-busy",!1),e._busy=null},_showBusy:function(){var e=this;e._busy||(e._busy=setTimeout(function(){e.element.attr("aria-busy",!0),e._loading.show()},100))},_placeholder:function(e){if(!d){var n,i=this,a=i.element,r=i.options.placeholder;if(r){if(n=a.val(),e===t&&(e=!n),e||(r=n!==r?n:""),n===i._old&&!e)return;a.toggleClass("k-readonly",e).val(r),r||a[0]!==document.activeElement||s(a[0],0,0)}}},_search:function(){var e=this;clearTimeout(e._typing),e._typing=setTimeout(function(){e._prev!==e._accessor()&&(e._prev=e._accessor(),e.search())},e.options.delay)},_select:function(t){var n,i,r=this,o=r.options.separator,l=r._data();t=e(t),t[0]&&!t.hasClass(y)&&(i=u.inArray(t[0],r.ul[0]),i>-1&&(l=l[i],n=r._text(l),o&&(n=a(s(r.element)[0],r._accessor(),n,o)),r._accessor(n),r._prev=r._accessor(),r.current(t.addClass(y))))},_loader:function(){this._loading=e('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)},_toggleHover:function(t){e(t.currentTarget).toggleClass(w,"mouseenter"===t.type)},_wrapper:function(){var e,t=this,n=t.element,i=n[0];e=n.parent(),e.is("span.k-widget")||(e=n.wrap("<span />").parent()),e.attr("tabindex",-1),e.attr("role","presentation"),e[0].style.cssText=i.style.cssText,n.css({width:"100%",height:i.style.height}),t._focused=t.element,t.wrapper=e.addClass("k-widget k-autocomplete k-header").addClass(i.className)}});c.plugin(S)}(window.kendo.jQuery),function(e,t){function n(e,t,n){for(var i,a=0,r=t.length-1;r>a;++a)i=t[a],i in e||(e[i]={}),e=e[i];e[t[r]]=n}var i=window.kendo,a=i.ui,r=a.Select,o=i.support.mobileOS,s=".kendoDropDownList",l="disabled",d="readonly",c="change",u="k-state-focused",h="k-state-default",p="k-state-disabled",f="aria-disabled",g="aria-readonly",m="k-state-selected",v="mouseenter"+s+" mouseleave"+s,b="tabindex",_=e.proxy,y=r.extend({init:function(n,a){var o,l,d,c=this,u=a&&a.index;c.ns=s,a=e.isArray(a)?{dataSource:a}:a,r.fn.init.call(c,n,a),c._focusHandler=function(){c.wrapper.focus()},a=c.options,n=c.element.on("focus"+s,c._focusHandler),this._inputTemplate(),c._reset(),c._word="",c._wrapper(),c._tabindex(),c.wrapper.data(b,c.wrapper.attr(b)),c._aria(),c._span(),c._popup(),c._mobile(),c._dataSource(),c._ignoreCase(),c._enable(),c._oldIndex=c.selectedIndex=-1,c._cascade(),u!==t&&(a.index=u),a.autoBind?c.dataSource.fetch():-1===c.selectedIndex&&(d=a.text||"",d||(o=a.optionLabel,l=o&&0===a.index,c._isSelect?d=l?o:n.children(":selected").text():!n[0].value&&l&&(d=o)),c._textAccessor(d)),i.notify(c)
},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,template:"",valueTemplate:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{}},events:["open","close",c,"select","dataBinding","dataBound","cascade"],setOptions:function(e){r.fn.setOptions.call(this,e),this._template(),this._inputTemplate(),this._accessors(),this._aria()},destroy:function(){var e=this;e.wrapper.off(s),e.element.off(s),e._inputWrapper.off(s),r.fn.destroy.call(e)},open:function(){var e=this;e.ul[0].firstChild?(e.popup.open(),e._scroll(e._current)):(e._open=!0,e._request||e.dataSource.fetch())},toggle:function(e){this._toggle(e)},refresh:function(){var e,t=this,n=t._data(),a=n.length,r=t.options.optionLabel,o=t.element[0];t.trigger("dataBinding"),t._current&&t.current(null),t.ul[0].innerHTML=i.render(t.template,n),t._height(a),t.popup.visible()&&t.popup._position(),t._isSelect&&(e=o.selectedIndex,r&&a&&(r='<option value="">'+t._optionLabelText(r)+"</option>"),t._options(n,r),o.selectedIndex=-1===e?0:e),t._open&&(t._open=!1,t.toggle(!!a)),t._hideBusy(),t._makeUnselectable(),t._fetch||(a?t._selectItem():t._textAccessor()!==r&&(t.element.val(""),t._textAccessor(""))),t._bound=!!a,t.trigger("dataBound")},search:function(e){if(e){var n=this,i=n.options.ignoreCase;i&&(e=e.toLowerCase()),n._select(function(a){var r=n._text(a);return r!==t?(r+="",i&&(r=r.toLowerCase()),0===r.indexOf(e)):t})}},text:function(e){var n,i,a=this,r=a.options.ignoreCase;return e=null===e?"":e,e===t?a._textAccessor():("string"==typeof e&&(i=r?e.toLowerCase():e,n=a._select(function(e){return e=a._text(e),r&&(e=(e+"").toLowerCase()),e===i}),n&&(e=n)),a._textAccessor(e),t)},value:function(e){var n,i,a=this;return e===t?a._accessor():(null!==e&&(e=""+e),a._selectedValue=e,i=e||a.options.optionLabel&&!a.element[0].disabled&&""===e,i&&a._fetchItems(e)||(n=a._index(e),a.select(n>-1?n:0)),t)},_editable:function(e){var t=this,n=t.element,a=e.disable,r=e.readonly,o=t.wrapper.off(s),c=t._inputWrapper.off(v),m=function(){c.addClass(u),t._blured=!1},y=function(){if(!t._blured){t._triggerCascade();var e=window.self!==window.top;i.support.mobileOS.ios&&e?t._change():t._blur(),c.removeClass(u),t._blured=!0,n.blur()}};r||a?(a?(o.removeAttr(b),c.addClass(p).removeClass(h)):(c.addClass(h).removeClass(p),o.on("focusin"+s,m).on("focusout"+s,y)),n.attr(l,a).attr(d,r),o.attr(f,a).attr(g,r)):(n.removeAttr(l).removeAttr(d),c.addClass(h).removeClass(p).on(v,t._toggleHover),o.attr(b,o.data(b)).attr(f,!1).attr(g,!1).on("click"+s,function(e){t._blured=!1,e.preventDefault(),t.toggle()}).on("keydown"+s,_(t._keydown,t)).on("keypress"+s,_(t._keypress,t)).on("focusin"+s,m).on("focusout"+s,y))},_accept:function(e){this._focus(e)},_optionLabelText:function(){var e=this.options,t=e.dataTextField,n=e.optionLabel;return n&&t&&"object"==typeof n?this._text(n):n},_data:function(){var e=this,t=e.options,a=t.optionLabel,r=t.dataTextField,o=t.dataValueField,s=e.dataSource.view(),l=s.length,d=a,c=0;if(a&&l){for("object"==typeof a?d=a:r&&(d={},r=r.split("."),o=o.split("."),n(d,o,""),n(d,r,a)),d=new i.data.ObservableArray([d]);l>c;c++)d.push(s[c]);s=d}return s},_selectItem:function(){r.fn._selectItem.call(this),this.current()||this.select(0)},_keydown:function(e){var t=this,n=e.keyCode,a=i.keys,r=t.ul[0];n===a.LEFT?n=a.UP:n===a.RIGHT&&(n=a.DOWN),e.keyCode=n,t._move(e),n===a.HOME?(e.preventDefault(),t._select(r.firstChild)):n===a.END&&(e.preventDefault(),t._select(r.lastChild))},_selectNext:function(e,n){for(var i,a=this,r=n,o=a._data(),s=o.length,l=a.options.ignoreCase,d=function(n,i){return n+="",l&&(n=n.toLowerCase()),0===n.indexOf(e)?(a._select(i),a._triggerEvents(),!0):t};s>n;n++)if(i=a._text(o[n]),i&&d(i,n))return!0;if(r>0)for(console.log(r),n=0;r>=n;n++)if(i=a._text(o[n]),i&&d(i,n))return!0;return!1},_keypress:function(e){if(0!==e.which&&e.keyCode!==i.keys.ENTER){var t=this,n=String.fromCharCode(e.charCode||e.keyCode),a=t.selectedIndex,r=t._word;t.options.ignoreCase&&(n=n.toLowerCase())," "===n&&e.preventDefault(),t._last===n&&1>=r.length&&a>-1&&(r||(r=n),t._selectNext(r,a+1))||(t._word=r+n,t._last=n,t._search())}},_popup:function(){r.fn._popup.call(this),this.popup.one("open",_(function(){var e=this.popup;e.wrapper=i.wrap(e.element),e.element.closest(".km-root")[0]&&(e.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},this))},_search:function(){var e=this,n=e.dataSource,i=e.selectedIndex,a=e._word;return clearTimeout(e._typing),e._typing=setTimeout(function(){e._word=""},e.options.delay),-1===i&&(i=0),e.ul[0].firstChild?(e._selectNext(a,i),e._triggerEvents(),t):(n.one(c,function(){n.data()[0]&&i>-1&&e._selectNext(a,i)}).fetch(),t)},_select:function(e){var n,i,r=this,o=r._current,s=null;return e=r._get(e),e&&e[0]&&!e.hasClass(m)&&(o&&o.removeClass(m),i=a.List.inArray(e[0],r.ul[0]),i>-1&&(s=r._data()[i],n=r._value(s),r.selectedIndex=i,r._textAccessor(s),r._accessor(n!==t?n:r._text(s),i),r._selectedValue=r._accessor(),r.current(e.addClass(m)),r._optionID&&r._current.attr("aria-selected",!0))),s},_triggerEvents:function(){this.popup.visible()||(this._triggerCascade(),this._change())},_mobile:function(){var e=this,t=e.popup,n=t.element.parents(".km-root").eq(0);n.length&&o&&(t.options.animation.open.effects=o.android||o.meego?"fadeIn":o.ios||o.wp?"slideIn:up":t.options.animation.open.effects)},_span:function(){var t,n=this,i=n.wrapper,a="span.k-input";t=i.find(a),t[0]||(i.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(n.element),t=i.find(a)),n.span=t,n._inputWrapper=e(i[0].firstChild),n._arrow=i.find(".k-icon").mousedown(function(e){e.preventDefault()})},_wrapper:function(){var e,t=this,n=t.element,i=n[0];e=n.parent(),e.is("span.k-widget")||(e=n.wrap("<span />").parent(),e[0].style.cssText=i.style.cssText),n.hide(),t._focused=t.wrapper=e.addClass("k-widget k-dropdown k-header").addClass(i.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(){var e=this,n=e.options.optionLabel;return e.options.value="",e._selectedValue="",e.dataSource.view()[0]&&(n||e._userTriggered)?(e.select(0),t):(e.selectedIndex=-1,e.element.val(""),e._textAccessor(e.options.optionLabel),t)},_inputTemplate:function(){var t=this,n=t.options.valueTemplate;n=n?i.template(n):e.proxy(i.template("#:this._text(data)#",{useWithBlock:!1}),t),t.valueTemplate=n},_textAccessor:function(a){var r=this.dataItem(),o=this.options,s=this.span;return a===t?s.text():(e.isPlainObject(a)||a instanceof i.data.ObservableObject?r=a:r&&this._text(r)===a||(o.dataTextField?(r={},n(r,o.dataTextField.split("."),a),n(r,o.dataValueField.split("."),this._accessor())):r=a),s.html(this.valueTemplate(r)),t)}});a.plugin(y)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui,a=i.List,r=i.Select,o=n.caret,s=n.support,l=s.placeholder,d=n._activeElement,c=n.keys,u=".kendoComboBox",h="click"+u,p="mousedown"+u,f="disabled",g="readonly",m="change",v="k-state-default",b="k-state-focused",_="k-state-disabled",y="aria-disabled",k="aria-readonly",w="k-state-selected",x="filter",C="accept",T="rebind",S="mouseenter"+u+" mouseleave"+u,D=null,E=e.proxy,F=r.extend({init:function(t,i){var a,o=this;o.ns=u,i=e.isArray(i)?{dataSource:i}:i,r.fn.init.call(o,t,i),o._focusHandler=function(){o.input.focus()},i=o.options,t=o.element.on("focus"+u,o._focusHandler),i.placeholder=i.placeholder||t.attr("placeholder"),o._reset(),o._wrapper(),o._input(),o._tabindex(o.input),o._popup(),o._dataSource(),o._ignoreCase(),o._enable(),o._cascade(),o._aria(),o._oldIndex=o.selectedIndex=-1,i.autoBind?o._filterSource():(a=i.text,!a&&o._isSelect&&(a=t.children(":selected").text()),a&&(o.input.val(a),o._prev=a)),a||o._placeholder(),n.notify(o)},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:!0,template:"",filter:"none",placeholder:"",suggest:!1,cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{}},events:["open","close",m,"select","dataBinding","dataBound","cascade"],setOptions:function(e){r.fn.setOptions.call(this,e),this._template(),this._accessors(),this._aria()},current:function(e){var n=this,i=n._current;return e===t?i:(i&&i.removeClass(w),r.fn.current.call(n,e),t)},destroy:function(){var e=this;e.input.off(u),e.element.off(u),e._inputWrapper.off(u),r.fn.destroy.call(e)},_editable:function(e){var t=this,n=e.disable,i=e.readonly,a=t._inputWrapper.off(u),r=t.element.add(t.input.off(u)),o=t._arrow.parent().off(h+" "+p);i||n?(a.addClass(n?_:v).removeClass(n?v:_),r.attr(f,n).attr(g,i).attr(y,n).attr(k,i)):(a.addClass(v).removeClass(_).on(S,t._toggleHover),r.removeAttr(f).removeAttr(g).attr(y,!1).attr(k,!1),o.on(h,function(){t.toggle()}).on(p,function(e){e.preventDefault()}),t.input.on("keydown"+u,E(t._keydown,t)).on("focus"+u,function(){a.addClass(b),t._placeholder(!1)}).on("blur"+u,function(){a.removeClass(b),clearTimeout(t._typing),t.options.text!==t.input.val()&&t.text(t.text()),t._placeholder(),t._blur(),t.element.blur()}))},open:function(){var e=this,t=e.dataSource.options.serverFiltering;e.popup.visible()||(!e.ul[0].firstChild||e._state===C&&!t?(e._open=!0,e._state=T,e._filterSource()):(e.popup.open(),e._scroll(e._current)))},refresh:function(){var i,a,r,o=this,s=o.ul[0],l=o.options,c=o._state,u=o._data(),h=u.length,p=!0;o.trigger("dataBinding"),s.innerHTML=n.render(o.template,u),o._height(h),o.popup.visible()&&o.popup._position(),o._isSelect&&(i=o.element[0].children[0],c===T&&(o._state=""),r=o._option,o._option=t,o._options(u),r&&r[0].selected?o._custom(r.val(),p):o._bound||i||o._custom("",p)),h&&(l.highlightFirst&&o.current(e(s.firstChild)),l.suggest&&o.input.val()&&o._request!==t&&o.suggest(e(s.firstChild))),c===x||o._fetch||o._selectItem(),o._open&&(o._open=!1,a=!!h,o._typing&&o.input[0]!==d()&&(a=!1),o.toggle(a),o._typing=t),o._touchScroller&&o._touchScroller.reset(),o._makeUnselectable(),o._hideBusy(),o._bound=!0,o.trigger("dataBound")},search:function(e){e="string"==typeof e?e:this.text();var t=this,n=e.length,i=t.options,a=i.ignoreCase,r=i.filter,o=i.dataTextField;clearTimeout(t._typing),n>=i.minLength&&(t._state=x,"none"===r?t._filter(e):(t._open=!0,t._filterSource({value:a?e.toLowerCase():e,field:o,operator:r,ignoreCase:a})))},suggest:function(e){var n,i=this,r=i.input[0],s=i.text(),l=o(r)[0],u=i._last;return u==c.BACKSPACE||u==c.DELETE?(i._last=t,t):(e=e||"","string"!=typeof e&&(n=a.inArray(e[0],i.ul[0]),e=n>-1?i._text(i.dataSource.view()[n]):""),0>=l&&(l=s.toLowerCase().indexOf(e.toLowerCase())+1),e?(n=e.toLowerCase().indexOf(s.toLowerCase()),n>-1&&(s+=e.substring(n+s.length))):s=s.substring(0,l),s.length===l&&e||(r.value=s,r===d()&&o(r,l,s.length)),t)},text:function(e){var n,i,a,r,o,s;return e=null===e?"":e,n=this,i=n.input[0],a=n.options.ignoreCase,r=e,e===t?i.value:(o=n.dataItem(),o&&n._text(o)===e&&(s=n._value(o),null===s?s="":s+="",s===n._old)?(n._triggerCascade(),t):(a&&(r=r.toLowerCase()),n._select(function(e){return e=n._text(e),a&&(e=(e+"").toLowerCase()),e===r}),0>n.selectedIndex&&(n._custom(e),i.value=e),n._prev=i.value,n._triggerCascade(),t))},toggle:function(e){var t=this;t._toggle(e)},value:function(e){var n,i=this,a=i.options;return e===t?i._accessor():(null!==e&&(e=""+e),i._selectedValue=e,!i._open&&e&&i._fetchItems(e)||(n=i._index(e),n>-1?i.select(n):(i.current(D),i._custom(e),(a.value!==e||a.text!==i.input.val())&&(i.text(e),i._placeholder())),i._old=i._accessor(),i._oldIndex=i.selectedIndex),t)},_accept:function(e){var t=this;e?t._focus(e):(t.text(t.text()),t._change())},_custom:function(t,n){var i=this,a=i.element,r=i._option;i._state!==x||n||(i._state=C),i._isSelect?(r||(r=i._option=e("<option/>"),a.append(r)),r.text(t),r[0].selected=!0):a.val(t),i._selectedValue=t},_filter:function(e){var n=this,i=n.options,a=n.dataSource,r=i.ignoreCase,o=function(i){var a=n._text(i);return a!==t?(a+="",""!==a&&""===e?!1:(r&&(a=a.toLowerCase()),0===a.indexOf(e))):t};return r&&(e=e.toLowerCase()),n.ul[0].firstChild?(-1!==n._highlight(o)&&(i.suggest&&n._current&&n.suggest(n._current),n.open()),n._hideBusy(),t):(a.one(m,function(){a.data()[0]&&n.search(e)}).fetch(),t)},_highlight:function(n){var i,r=this;return n===t||null===n?-1:(n=r._get(n),i=a.inArray(n[0],r.ul[0]),-1==i&&(r.options.highlightFirst&&!r.text()?(n=r.ul[0].firstChild,n&&(n=e(n))):n=D),r.current(n),i)},_input:function(){var t,n=this,i=n.element.removeClass("k-input")[0],a=i.accessKey,r=n.wrapper,o="input.k-input",s=i.name||"";s&&(s='name="'+s+'_input" '),t=r.find(o),t[0]||(r.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+s+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(n.element),t=r.find(o)),t[0].style.cssText=i.style.cssText,i.maxLength>-1&&(t[0].maxLength=i.maxLength),t.addClass(i.className).val(this.options.text||i.value).css({width:"100%",height:i.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),l&&t.attr("placeholder",n.options.placeholder),a&&(i.accessKey="",t[0].accessKey=a),n._focused=n.input=t,n._inputWrapper=e(r[0].firstChild),n._arrow=r.find(".k-icon").attr({role:"button",tabIndex:-1}),i.id&&n._arrow.attr("aria-controls",n.ul[0].id)},_keydown:function(e){var t=this,n=e.keyCode;t._last=n,clearTimeout(t._typing),n==c.TAB||t._move(e)||t._search()},_placeholder:function(e){if(!l){var n,i=this,a=i.input,r=i.options.placeholder;if(r){if(n=i.value(),e===t&&(e=!n),a.toggleClass("k-readonly",e),!e){if(n)return;r=""}a.val(r),r||a[0]!==d()||o(a[0],0,0)}}},_search:function(){var e=this;e._typing=setTimeout(function(){var t=e.text();e._prev!==t&&(e._prev=t,e.search(t)),e._typing=null},e.options.delay)},_select:function(e){var n,i,a=this,r=a._data(),o=a._highlight(e);a.selectedIndex=o,-1!==o&&(a._state===x&&(a._state=C),a._current.addClass(w),r=r[o],n=a._text(r),i=a._value(r),a._prev=a.input[0].value=n,a._accessor(i!==t?i:n,o),a._selectedValue=a._accessor(),a._placeholder(),a._optionID&&a._current.attr("aria-selected",!0))},_wrapper:function(){var e=this,t=e.element,n=t.parent();n.is("span.k-widget")||(n=t.hide().wrap("<span />").parent(),n[0].style.cssText=t[0].style.cssText),e.wrapper=n.addClass("k-widget k-combobox k-header").addClass(t[0].className).css("display","")},_clearSelection:function(e,t){var n=this,i=e._selectedValue||e.value(),a=i&&-1===e.selectedIndex;(t||!i||a)&&(n.value(""),n.options.value="")}});i.plugin(F)}(window.kendo.jQuery),function(e,t){function n(e,t){var n;if(null===e&&null!==t||null!==e&&null===t)return!1;if(n=e.length,n!==t.length)return!1;for(;n--;)if(e[n]!==t[n])return!1;return!0}function i(t){var n=t.firstChild;return n&&"none"===n.style.display&&(n=r(n,w)),n?e(n):n}function a(t){var n=t.lastChild;return n&&"none"===n.style.display&&(n=r(n,x)),n?e(n):n}function r(e,t){return e=e[t],e&&"none"===e.style.display&&(e=r(e,t)),e}var o=window.kendo,s=o.ui,l=s.List,d=o.keys,c=o._activeElement,u=o.data.ObservableArray,h=e.proxy,p="id",f="li",g="accept",m="filter",v="open",b="close",_="change",y="progress",k="select",w="nextSibling",x="previousSibling",C=' style="display:none"',T="aria-disabled",S="aria-readonly",D="k-state-focused",E="k-loading-hidden",F="k-state-hover",A="k-state-disabled",M="disabled",H="readonly",z=".kendoMultiSelect",I="click"+z,R="keydown"+z,N="mouseenter"+z,P="mouseleave"+z,O=N+" "+P,L=/"/g,B=e.isArray,j=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],W=l.extend({init:function(t,n){var i,a,r=this;r.ns=z,l.fn.init.call(r,t,n),r._wrapper(),r._tagList(),r._input(),r._textContainer(),r._loader(),r._tabindex(r.input),t=r.element.attr("multiple","multiple").hide(),n=r.options,a=n.value,n.placeholder||(n.placeholder=t.data("placeholder")),i=t.attr(p),i&&(r._tagID=i+"_tag_active",i+="_taglist",r.tagList.attr(p,i)),r._aria(i),r._dataSource(),r._ignoreCase(),r._popup(),r._values=[],r._dataItems=[],r._reset(),r._enable(),r._placeholder(),n.autoBind?r.dataSource.fetch():a&&(B(a)||(a=[a]),(e.isPlainObject(a[0])||!n.dataValueField)&&(r._retrieveData=!0,r.dataSource.data(a),r.value(r._initialValues))),o.notify(r)},options:{name:"MultiSelect",enabled:!0,autoBind:!0,autoClose:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:0,delay:100,value:null,maxSelectedItems:null,itemTemplate:"",tagTemplate:"",placeholder:"",height:200,animation:{}},events:[v,b,_,k,"dataBinding","dataBound"],setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(e){l.fn.setOptions.call(this,e),this._template(),this._accessors(),this._aria(this.tagList.attr(p))},current:function(e){return this.currentTag(null),l.fn.current.call(this,e)},currentTag:function(e){var n=this;return e===t?n._currentTag:(n._currentTag&&(n._currentTag.removeClass(D).removeAttr(p),n.input.removeAttr("aria-activedescendant")),e&&(e.addClass(D).attr(p,n._tagID),n.input.attr("aria-activedescendant",n._tagID)),n._currentTag=e,t)},dataItems:function(){return this._dataItems},destroy:function(){var e=this,t=e.ns;e.wrapper.off(t),e.tagList.off(t),e.input.off(t),l.fn.destroy.call(e)},_editable:function(t){var n=this,i=t.disable,a=t.readonly,r=n.wrapper.off(z),o=n.tagList.off(z),s=n.element.add(n.input.off(z));a||i?(i?r.addClass(A):r.removeClass(A),s.attr(M,i).attr(H,a).attr(T,i).attr(S,a)):(r.removeClass(A).on(O,n._toggleHover).on("mousedown"+z,function(e){var t="input"!==e.target.nodeName.toLowerCase();t&&e.preventDefault(),-1===e.target.className.indexOf("k-delete")&&(n.input[0]!==c()&&t&&n.input.focus(),0===n.options.minLength&&n.open())}),n.input.on(R,h(n._keydown,n)).on("paste"+z,h(n._search,n)).on("focus"+z,function(){n._placeholder(!1)}).on("blur"+z,function(){clearTimeout(n._typing),n._placeholder(!n._dataItems[0],!0),n.close(),n._state===m&&(n._state=g),n.element.blur()}),s.removeAttr(M).removeAttr(H).attr(T,!1).attr(S,!1),o.on(N,f,function(){e(this).addClass(F)}).on(P,f,function(){e(this).removeClass(F)}).on(I,".k-delete",function(t){n._unselect(e(t.target).closest(f)),n._change(),n.close()}))},_close:function(){var e=this;e.options.autoClose||!e._visibleItems?e.close():(e.current(e.options.highlightFirst?i(e.ul[0]):null),e.popup._position())},close:function(){this.popup.close(),this.current(null)},open:function(){var e=this;e._request&&(e._retrieveData=!1),!e.ul[0].firstChild||e._state===g||e._retrieveData?(e._state="",e._open=!0,e._retrieveData=!1,e._filterSource()):e._visibleItems&&e._allowSelection()&&(e.popup.open(),e.current(e.options.highlightFirst?i(e.ul[0]):null))},toggle:function(e){e=e!==t?e:!this.popup.visible(),this[e?v:b]()},refresh:function(){var e,t=this,n=null;t.trigger("dataBinding"),e=t._render(t.dataSource.view()),t._height(e),t._setInitialValues&&(t._setInitialValues=!1,t.value(t._initialValues)),t._open&&(t._open=!1,t.toggle(e)),t.popup.visible()&&(t.popup._position(),t.options.highlightFirst&&(n=i(t.ul[0]))),t.current(n),t._touchScroller&&t._touchScroller.reset(),t._makeUnselectable(),t._hideBusy(),t.trigger("dataBound")},search:function(e){var t=this,n=t.options,i=n.ignoreCase,a=n.filter,r=n.dataTextField,o=t.input.val();n.placeholder===o&&(o=""),clearTimeout(t._typing),e="string"==typeof e?e:o,e.length>=n.minLength&&(t._state=m,t._open=!0,t._filterSource({value:i?e.toLowerCase():e,field:r,operator:a,ignoreCase:i}))},value:function(n){var i,a=this,r=e(a.tagList[0].children),o=r.length,s=0;if(n===t)return a._values;if(!a._fetchItems(n)){for(;o>s;s++)a._unselect(r.eq(s));if(null!==n){for(n=B(n)||n instanceof u?n:[n],s=0,o=n.length;o>s;s++)i=a._index(n[s]),i>-1&&a._select(i);a._old=a._values.slice()}}},_dataSource:function(){var e=this,t=e.element,n=e.options,i=n.dataSource||{};i=B(i)?{data:i}:i,i.select=t,i.fields=[{field:n.dataTextField},{field:n.dataValueField}],e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._refreshHandler=h(e.refresh,e),e._progressHandler=h(e._showBusy,e)),e.dataSource=o.data.DataSource.create(i).bind(_,e._refreshHandler).bind(y,e._progressHandler)},_fetchItems:function(n){var i=this,a=e.isArray(n)&&0===n.length;return!a&&n?i._fetch||i.ul[0].firstChild?t:(i.dataSource.one(_,function(){i.value(n),i._fetch=!1}),i._fetch=!0,i.dataSource.fetch(),!0):void 0},_reset:function(){var t=this,n=t.element,i=n.attr("form"),a=i?e("#"+i):n.closest("form");a[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initialValues)})},t._form=a.on("reset",t._resetHandler))},_initValue:function(){var e=this,n=e.options.value||e.element.val();null===n?n=[]:(B(n)||(n=[n]),n=e._mapValues(n)),e._old=e._initialValues=n,e._setInitialValues=n[0]!==t},_mapValues:function(t){var n=this;return t&&e.isPlainObject(t[0])&&(t=e.map(t,function(e){return n._value(e)})),t},_change:function(){var e=this,t=e.value();n(t,e._old)||(e._old=t.slice(),e.trigger(_),e.element.trigger(_))},_click:function(n){var i=this,a=e(n.currentTarget);if(!n.isDefaultPrevented()){if(i.trigger(k,{item:a}))return i._close(),t;i._select(a),i._change(),i._close()}},_item:function(e,t){return e=e[t](),e[0]&&!e.is(":visible")&&(e=this._item(e,t)),e},_keydown:function(n){var s=this,l=n.keyCode,c=s._currentTag,u=s._current,h=s.input.val(),p=o.support.isRtl(s.wrapper),f=s.popup.visible();if(l===d.DOWN){if(n.preventDefault(),!f)return s.open(),t;u=u?r(u[0],w):i(s.ul[0]),u&&s.current(e(u))}else if(l===d.UP)f&&(u=u?r(u[0],x):a(s.ul[0]),s.current(e(u)),s._current[0]||s.close()),n.preventDefault();else if(l===d.LEFT&&!p||l===d.RIGHT&&p)h||(c=c?c.prev():e(s.tagList[0].lastChild),c[0]&&s.currentTag(c));else if(l===d.RIGHT&&!p||l===d.LEFT&&p)!h&&c&&(c=c.next(),s.currentTag(c[0]?c:null));else if(l===d.ENTER&&f){if(u){if(s.trigger(k,{item:u}))return s._close(),t;s._select(u)}s._change(),s._close(),n.preventDefault()}else l===d.ESC?(f?n.preventDefault():s.currentTag(null),s.close()):l===d.HOME?f?s.current(i(s.ul[0])):h||(c=s.tagList[0].firstChild,c&&s.currentTag(e(c))):l===d.END?f?s.current(a(s.ul[0])):h||(c=s.tagList[0].lastChild,c&&s.currentTag(e(c))):l!==d.DELETE&&l!==d.BACKSPACE||h?(clearTimeout(s._typing),setTimeout(function(){s._scale()}),s._search()):(l!==d.BACKSPACE||c||(c=e(s.tagList[0].lastChild)),c&&c[0]&&(s._unselect(c),s._change(),s._close()))},_hideBusy:function(){var e=this;clearTimeout(e._busy),e.input.attr("aria-busy",!1),e._loading.addClass(E),e._request=!1,e._busy=null},_showBusy:function(){var e=this;e._request=!0,e._busy||(e._busy=setTimeout(function(){e.input.attr("aria-busy",!0),e._loading.removeClass(E)},100))},_placeholder:function(e,n){var i=this,a=i.input,r=c();e===t?(e=!1,a[0]!==r&&(e=!i._dataItems[0]),i.wrapper.removeClass(D)):i.wrapper.addClass(D),i._prev="",a.toggleClass("k-readonly",e).val(e?i.options.placeholder:""),a[0]!==r||n||o.caret(a[0],0,0),i._scale()},_scale:function(){var e,t=this,n=t.wrapper,i=n.width(),a=t._span.text(t.input.val());n.is(":visible")?e=a.width()+25:(a.appendTo(document.documentElement),i=e=a.width()+25,a.appendTo(n)),t.input.width(e>i?i:e)},_option:function(e,n){var i="<option",a=this._text(e),r=this._value(e);return r!==t&&(r+="",-1!==r.indexOf('"')&&(r=r.replace(L,"&quot;")),i+=' value="'+r+'"'),n&&(i+=' selected="selected"'),i+=">",a!==t&&(i+=o.htmlEncode(a)),i+="</option>"},_render:function(e){for(var t,n,i=this,a=e.length,r=i.itemTemplate,o=i._dataItems.slice(0),s=0,l=0,d="",c="";a>l;l++)t=e[l],n=i._selected(o,t),c+=r(t,l,n),d+=i._option(t,n),n||(s+=1);if(a=o.length)for(l=0;a>l;l++)d+=i._option(o[l],!0);return i.ul[0].innerHTML=c,i.element.html(d),i._visibleItems=s,s},_selected:function(e,n){var i,a=this,r=a._text,o=a._value,s=o(n),l=e.length,d=!1,c=0;for(s===t&&(s=r(n));l>c;c++)if(n=e[c],i=o(n),i===t&&(i=r(n)),i!==t&&i===s){d=!0;break}return d&&e.splice(c,1),d},_search:function(){var e=this;e._typing=setTimeout(function(){var t=e.input.val();e._prev!==t&&(e._prev=t,e.search(t))},e.options.delay)},_allowSelection:function(){var e=this.options.maxSelectedItems;return null===e||e>this._values.length},_select:function(e){var t,n,i=this,a=i._values;i._allowSelection()&&(isNaN(e)?n=e.hide().data("idx"):(n=e,i.ul[0].children[n].style.display="none"),i.element[0].children[n].selected=!0,t=i.dataSource.view()[n],i.tagList.append(i.tagTemplate(t)),i._dataItems.push(t),a.push(i._dataValue(t)),i._visibleItems-=1,i.currentTag(null),i._placeholder(),i._height(i._visibleItems),i._state===m&&(i._state=g))},_unselect:function(t){var n,i,a,r,o,s=this,l=t.index();if(t.remove(),s.currentTag(null),s._values.splice(l,1),n=s._dataItems.splice(l,1)[0],i=s._dataValue(n),l=s._index(i),-1!==l)e(s.ul[0].children[l]).show(),s.element[0].children[l].selected=!1,s._visibleItems+=1,s._height(s._visibleItems);else for(l=s.dataSource.view().length,a=s.element[0].children,o=a.length;o>l;l++)if(r=a[l],r.value==i){r.selected=!1;break}s._placeholder()},_template:function(){var e,t=this,n=t.options,i=n.itemTemplate,a=n.tagTemplate,r=n.dataSource;t.element[0].length&&!r&&(n.dataTextField=n.dataTextField||"text",n.dataValueField=n.dataValueField||"value"),e=o.template("#:"+o.expr(n.dataTextField,"data")+"#",{useWithBlock:!1}),i=i?o.template(i):e,a=a?o.template(a):e,t.itemTemplate=function(e,t,n){return'<li tabindex="-1" role="option" data-idx="'+t+'" unselectable="on" class="k-item"'+(n?C:"")+">"+i(e)+"</li>"},t.tagTemplate=function(e){return'<li class="k-button" unselectable="on"><span unselectable="on">'+a(e)+'</span><span unselectable="on" class="k-icon k-delete">delete</span></li>'}},_input:function(){var t=this,n=t.element[0].accessKey,i=t._innerWrapper.children("input.k-input");i[0]||(i=e('<input class="k-input" style="width: 25px" />').appendTo(t._innerWrapper)),t.element.removeAttr("accesskey"),t._focused=t.input=i.attr({accesskey:n,role:"listbox","aria-expanded":!1})},_tagList:function(){var t=this,n=t._innerWrapper.children("ul");n[0]||(n=e('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(t._innerWrapper)),t.tagList=n},_loader:function(){this._loading=e('<span class="k-icon k-loading '+E+'"></span>').insertAfter(this.input)},_textContainer:function(){var t=o.getComputedStyles(this.input[0],j);t.position="absolute",t.visibility="hidden",t.top=-3333,t.left=-3333,this._span=e("<span/>").css(t).appendTo(this.wrapper)},_wrapper:function(){var t=this,n=t.element,i=n.parent("span.k-multiselect");i[0]||(i=n.wrap('<div class="k-widget k-multiselect k-header" unselectable="on" />').parent(),i[0].style.cssText=n[0].style.cssText,e('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(n)),t.wrapper=i.addClass(n[0].className).css("display",""),t._innerWrapper=e(i[0].firstChild)}});s.plugin(W)}(window.kendo.jQuery),function(e,t){function n(e,t,n){var i=n?" k-slider-horizontal":" k-slider-vertical",a=e.style?e.style:t.attr("style"),r=t.attr("class")?" "+t.attr("class"):"",o="";return"bottomRight"==e.tickPlacement?o=" k-slider-bottomright":"topLeft"==e.tickPlacement&&(o=" k-slider-topleft"),a=a?" style='"+a+"'":"","<div class='k-widget k-slider"+i+r+"'"+a+"><div class='k-slider-wrap"+(e.showButtons?" k-slider-buttons":"")+o+"'></div></div>"}function i(e,t,n){var i="";return i="increase"==t?n?"k-i-arrow-e":"k-i-arrow-n":n?"k-i-arrow-w":"k-i-arrow-s","<a class='k-button k-button-"+t+"'><span class='k-icon "+i+"' title='"+e[t+"ButtonTitle"]+"'>"+e[t+"ButtonTitle"]+"</span></a>"}function a(e,t){var n,i="<ul class='k-reset k-slider-items'>",a=k.floor(d(t/e.smallStep))+1;for(n=0;a>n;n++)i+="<li class='k-tick' role='presentation'>&nbsp;</li>";return i+="</ul>"}function r(e,t){var n=t.is("input")?1:2,i=2==n?e.leftDragHandleTitle:e.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+i+"' role='slider' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(n>1?e.selectionStart||e.min:e.value||e.min)+"'>Drag</a>"+(n>1?"<a href='#' class='k-draghandle' title='"+e.rightDragHandleTitle+"'role='slider' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(e.selectionEnd||e.max)+"'>Drag</a>":"")+"</div>"}function o(e){return function(t){return t+e}}function s(e){return function(){return e}}function l(e){return(e+"").replace(".",p.cultures.current.numberFormat["."])}function d(e){e=parseFloat(e,10);var t=k.pow(10,$||0);return k.round(e*t)/t}function c(e,n){var i=b(e.getAttribute(n));return null===i&&(i=t),i}function u(e){return typeof e!==G}var h,p=window.kendo,f=p.ui.Widget,g=p.ui.Draggable,m=e.extend,v=p.format,b=p.parseFloat,_=e.proxy,y=e.isArray,k=Math,w=p.support,x=w.pointers,C=w.msPointers,T="change",S="slide",D=".slider",E="touchstart"+D+" mousedown"+D,F=x?"pointerdown"+D:C?"MSPointerDown"+D:E,A="touchend"+D+" mouseup"+D,M=x?"pointerup":C?"MSPointerUp"+D:A,H="moveSelection",z="keydown"+D,I="click"+D,R="mouseover"+D,N="focus"+D,P="blur"+D,O=".k-draghandle",L=".k-slider-track",B=".k-tick",j="k-state-selected",W="k-state-focused",V="k-state-default",q="k-state-disabled",$=3,U="disabled",G="undefined",Q="tabindex",Y=p.getTouches,K=f.extend({init:function(e,t){var n,i=this;f.fn.init.call(i,e,t),t=i.options,i._distance=t.max-t.min,i._isHorizontal="horizontal"==t.orientation,i._isRtl=i._isHorizontal&&p.support.isRtl(e),i._position=i._isHorizontal?"left":"bottom",i._sizeFn=i._isHorizontal?"width":"height",i._outerSize=i._isHorizontal?"outerWidth":"outerHeight",t.tooltip.format=t.tooltip.enabled?t.tooltip.format||"{0}":"{0}",i._createHtml(),i.wrapper=i.element.closest(".k-slider"),i._trackDiv=i.wrapper.find(L),i._setTrackDivWidth(),i._maxSelection=i._trackDiv[i._sizeFn](),i._sliderItemsInit(),i._tabindex(i.wrapper.find(O)),i[t.enabled?"enable":"disable"](),n=p.support.isRtl(i.wrapper)?-1:1,i._keyMap={37:o(-1*n*t.smallStep),40:o(-t.smallStep),39:o(1*n*t.smallStep),38:o(+t.smallStep),35:s(t.max),36:s(t.min),33:o(+t.largeStep),34:o(-t.largeStep)},p.notify(i)},events:[T,S],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_resize:function(){this._setTrackDivWidth(),this.wrapper.find(".k-slider-items").remove(),this._maxSelection=this._trackDiv[this._sizeFn](),this._sliderItemsInit(),this._refresh()},_sliderItemsInit:function(){var e=this,t=e.options,n=e._maxSelection/((t.max-t.min)/t.smallStep),i=e._calculateItemsWidth(k.floor(e._distance/t.smallStep));"none"!=t.tickPlacement&&n>=2&&(e._trackDiv.before(a(t,e._distance)),e._setItemsWidth(i),e._setItemsTitle()),e._calculateSteps(i),"none"!=t.tickPlacement&&n>=2&&t.largeStep>=t.smallStep&&e._setItemsLargeTick()},getSize:function(){return p.dimensions(this.wrapper)},_setTrackDivWidth:function(){var e=this,t=2*parseFloat(e._trackDiv.css(e._isRtl?"right":e._position),10);e._trackDiv[e._sizeFn](e.wrapper[e._sizeFn]()-2-t)},_setItemsWidth:function(t){var n,i=this,a=i.options,r=0,o=t.length-1,s=i.wrapper.find(B),l=0,d=2,c=s.length,u=0;for(n=0;c-2>n;n++)e(s[n+1])[i._sizeFn](t[n]);if(i._isHorizontal?(e(s[r]).addClass("k-first")[i._sizeFn](t[o-1]),e(s[o]).addClass("k-last")[i._sizeFn](t[o])):(e(s[o]).addClass("k-first")[i._sizeFn](t[o]),e(s[r]).addClass("k-last")[i._sizeFn](t[o-1])),i._distance%a.smallStep!==0&&!i._isHorizontal){for(n=0;t.length>n;n++)u+=t[n];l=i._maxSelection-u,l+=parseFloat(i._trackDiv.css(i._position),10)+d,i.wrapper.find(".k-slider-items").css("padding-top",l)}},_setItemsTitle:function(){for(var t=this,n=t.options,i=t.wrapper.find(B),a=n.min,r=i.length,o=t._isHorizontal&&!t._isRtl?0:r-1,s=t._isHorizontal&&!t._isRtl?r:-1,l=t._isHorizontal&&!t._isRtl?1:-1;o-s!==0;o+=l)e(i[o]).attr("title",v(n.tooltip.format,d(a))),a+=n.smallStep},_setItemsLargeTick:function(){var t,n,i=this,a=i.options,r=i.wrapper.find(B),o=0;if(1e3*a.largeStep%(1e3*a.smallStep)===0||i._distance/a.largeStep>=3)for(i._isHorizontal&&!i._isRtl&&(r=e.makeArray(r).reverse()),o=0;r.length>o;o++)t=e(r[o]),n=i._values[o],n%a.smallStep===0&&n%a.largeStep===0&&(t.addClass("k-tick-large").html("<span class='k-label'>"+t.attr("title")+"</span>"),0!==o&&o!==r.length-1&&t.css("line-height",t[i._sizeFn]()+"px"))},_calculateItemsWidth:function(e){var t,n,i,a=this,r=a.options,o=parseFloat(a._trackDiv.css(a._sizeFn))+1,s=o/a._distance;for(a._distance/r.smallStep-k.floor(a._distance/r.smallStep)>0&&(o-=a._distance%r.smallStep*s),t=o/e,n=[],i=0;e-1>i;i++)n[i]=t;return n[e-1]=n[e]=t/2,a._roundWidths(n)},_roundWidths:function(e){var t,n=0,i=e.length;
for(t=0;i>t;t++)n+=e[t]-k.floor(e[t]),e[t]=k.floor(e[t]);return n=k.round(n),this._addAdditionalSize(n,e)},_addAdditionalSize:function(e,t){if(0===e)return t;var n,i=parseFloat(t.length-1)/parseFloat(1==e?e:e-1);for(n=0;e>n;n++)t[parseInt(k.round(i*n),10)]+=1;return t},_calculateSteps:function(e){var t,n=this,i=n.options,a=i.min,r=0,o=k.ceil(n._distance/i.smallStep),s=1;if(o+=n._distance/i.smallStep%1===0?1:0,e.splice(0,0,2*e[o-2]),e.splice(o-1,1,2*e.pop()),n._pixelSteps=[r],n._values=[a],0!==o){for(;o>s;)r+=(e[s-1]+e[s])/2,n._pixelSteps[s]=r,n._values[s]=a+=i.smallStep,s++;t=n._distance%i.smallStep===0?o-1:o,n._pixelSteps[t]=n._maxSelection,n._values[t]=i.max,n._isRtl&&(n._pixelSteps.reverse(),n._values.reverse())}},_getValueFromPosition:function(e,t){var n,i=this,a=i.options,r=k.max(a.smallStep*(i._maxSelection/i._distance),0),o=0,s=r/2;if(i._isHorizontal?(o=e-t.startPoint,i._isRtl&&(o=i._maxSelection-o)):o=t.startPoint-e,i._maxSelection-(parseInt(i._maxSelection%r,10)-3)/2<o)return a.max;for(n=0;i._pixelSteps.length>n;n++)if(k.abs(i._pixelSteps[n]-o)-1<=s)return d(i._values[n])},_getFormattedValue:function(e,t){var n,i,a,r=this,o="",s=r.options.tooltip;return y(e)?(i=e[0],a=e[1]):t&&t.type&&(i=t.selectionStart,a=t.selectionEnd),t&&(n=t.tooltipTemplate),!n&&s.template&&(n=p.template(s.template)),y(e)||t&&t.type?n?o=n({selectionStart:i,selectionEnd:a}):(i=v(s.format,i),a=v(s.format,a),o=i+" - "+a):(t&&(t.val=e),o=n?n({value:e}):v(s.format,e)),o},_getDraggableArea:function(){var e=this,t=p.getOffset(e._trackDiv);return{startPoint:e._isHorizontal?t.left:t.top+e._maxSelection,endPoint:e._isHorizontal?t.left+e._maxSelection:t.top}},_createHtml:function(){var e=this,t=e.element,a=e.options,o=t.find("input");2==o.length?(o.eq(0).val(a.selectionStart),o.eq(1).val(a.selectionEnd)):t.val(a.value),t.wrap(n(a,t,e._isHorizontal)).hide(),a.showButtons&&t.before(i(a,"increase",e._isHorizontal)).before(i(a,"decrease",e._isHorizontal)),t.before(r(a,t))},_focus:function(t){var n=this,i=t.target,a=n.value(),r=n._drag;r||(i==n.wrapper.find(O).eq(0)[0]?(r=n._firstHandleDrag,n._activeHandle=0):(r=n._lastHandleDrag,n._activeHandle=1),a=a[n._activeHandle]),e(i).addClass(W+" "+j),r&&(n._activeHandleDrag=r,r.selectionStart=n.options.selectionStart,r.selectionEnd=n.options.selectionEnd,r._updateTooltip(a))},_focusWithMouse:function(t){t=e(t);var n=this,i=t.is(O)?t.index():0;window.setTimeout(function(){n.wrapper.find(O)[2==i?1:0].focus()},1),n._setTooltipTimeout()},_blur:function(t){var n=this,i=n._activeHandleDrag;e(t.target).removeClass(W+" "+j),i&&(i._removeTooltip(),delete n._activeHandleDrag,delete n._activeHandle)},_setTooltipTimeout:function(){var e=this;e._tooltipTimeout=window.setTimeout(function(){var t=e._drag||e._activeHandleDrag;t&&t._removeTooltip()},300)},_clearTooltipTimeout:function(){var e,t=this;window.clearTimeout(this._tooltipTimeout),e=t._drag||t._activeHandleDrag,e&&e.tooltipDiv&&e.tooltipDiv.stop(!0,!1).css("opacity",1)}}),X=K.extend({init:function(n,i){var a,r=this;n.type="text",i=m({},{value:c(n,"value"),min:c(n,"min"),max:c(n,"max"),smallStep:c(n,"step")},i),n=e(n),i&&i.enabled===t&&(i.enabled=!n.is("[disabled]")),K.fn.init.call(r,n,i),i=r.options,u(i.value)&&null!==i.value||(i.value=i.min,n.val(i.min)),i.value=k.max(k.min(i.value,i.max),i.min),a=r.wrapper.find(O),new X.Selection(a,r,i),r._drag=new X.Drag(a,"",r,i)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(n){var i,a,r,o=this,s=o.options;o.disable(),n!==!1&&(o.wrapper.removeClass(q).addClass(V),o.wrapper.find("input").removeAttr(U),i=function(n){var i,a,r,s=Y(n)[0];if(s){if(i=o._isHorizontal?s.location.pageX:s.location.pageY,a=o._getDraggableArea(),r=e(n.target),r.hasClass("k-draghandle"))return r.addClass(W+" "+j),t;o._update(o._getValueFromPosition(i,a)),o._focusWithMouse(n.target),o._drag.dragstart(n),n.preventDefault()}},o.wrapper.find(B+", "+L).on(F,i).end().on(F,function(){e(document.documentElement).one("selectstart",p.preventDefault)}).on(M,function(){o._drag._end()}),o.wrapper.find(O).attr(Q,0).on(A,function(){o._setTooltipTimeout()}).on(I,function(e){o._focusWithMouse(e.target),e.preventDefault()}).on(N,_(o._focus,o)).on(P,_(o._blur,o)),a=_(function(e){var t=o._nextValueByIndex(o._valueIndex+1*e);o._setValueInRange(t),o._drag._updateTooltip(t)},o),s.showButtons&&(r=_(function(e,t){this._clearTooltipTimeout(),(1===e.which||w.touch&&0===e.which)&&(a(t),this.timeout=setTimeout(_(function(){this.timer=setInterval(function(){a(t)},60)},this),200))},o),o.wrapper.find(".k-button").on(A,_(function(e){this._clearTimer(),o._focusWithMouse(e.target)},o)).on(R,function(t){e(t.currentTarget).addClass("k-state-hover")}).on("mouseout"+D,_(function(t){e(t.currentTarget).removeClass("k-state-hover"),this._clearTimer()},o)).eq(0).on(E,_(function(e){r(e,1)},o)).click(!1).end().eq(1).on(E,_(function(e){r(e,-1)},o)).click(p.preventDefault)),o.wrapper.find(O).off(z,!1).on(z,_(this._keydown,o)),s.enabled=!0)},disable:function(){var t=this;t.wrapper.removeClass(V).addClass(q),e(t.element).prop(U,U),t.wrapper.find(".k-button").off(E).on(E,p.preventDefault).off(A).on(A,p.preventDefault).off("mouseleave"+D).on("mouseleave"+D,p.preventDefault).off(R).on(R,p.preventDefault),t.wrapper.find(B+", "+L).off(F).off(M),t.wrapper.find(O).attr(Q,-1).off(A).off(z).off(I).off(N).off(P),t.options.enabled=!1},_update:function(e){var t=this,n=t.value()!=e;t.value(e),n&&t.trigger(T,{value:t.options.value})},value:function(e){var n=this,i=n.options;return e=d(e),isNaN(e)?i.value:(e>=i.min&&i.max>=e&&i.value!=e&&(n.element.prop("value",l(e)),i.value=e,n._refreshAriaAttr(e),n._refresh()),t)},_refresh:function(){this.trigger(H,{value:this.options.value})},_refreshAriaAttr:function(e){var t,n=this,i=n._drag;t=i&&i._tooltipDiv?i._tooltipDiv.text():n._getFormattedValue(e,null),this.wrapper.find(O).attr("aria-valuenow",e).attr("aria-valuetext",t)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(e){var t=this;e.keyCode in t._keyMap&&(t._clearTooltipTimeout(),t._setValueInRange(t._keyMap[e.keyCode](t.options.value)),t._drag._updateTooltip(t.value()),e.preventDefault())},_setValueInRange:function(e){var n=this,i=n.options;return e=d(e),isNaN(e)?(n._update(i.min),t):(e=k.max(k.min(e,i.max),i.min),n._update(e),t)},_nextValueByIndex:function(e){var t=this._values.length;return this._isRtl&&(e=t-1-e),this._values[k.max(0,k.min(e,t-1))]},destroy:function(){var e=this;f.fn.destroy.call(e),e.wrapper.off(D).find(".k-button").off(D).end().find(O).off(D).end().find(B+", "+L).off(D).end(),e._drag.draggable.destroy(),e._drag._removeTooltip(!0)}});X.Selection=function(e,t,n){function i(i){var a=i-n.min,r=t._valueIndex=k.ceil(d(a/n.smallStep)),o=parseInt(t._pixelSteps[r],10),s=t._trackDiv.find(".k-slider-selection"),l=parseInt(e[t._outerSize]()/2,10),c=t._isRtl?2:0;s[t._sizeFn](t._isRtl?t._maxSelection-o:o),e.css(t._position,o-l-c)}i(n.value),t.bind([T,S,H],function(e){i(parseFloat(e.value,10))})},X.Drag=function(e,t,n,i){var a=this;a.owner=n,a.options=i,a.element=e,a.type=t,a.draggable=new g(e,{distance:0,dragstart:_(a._dragstart,a),drag:_(a.drag,a),dragend:_(a.dragend,a),dragcancel:_(a.dragcancel,a)}),e.click(!1)},X.Drag.prototype={dragstart:function(e){this.owner._activeDragHandle=this,this.draggable.userEvents.cancel(),this.draggable.userEvents._start(e)},_dragstart:function(n){var i=this,a=i.owner,r=i.options;return r.enabled?(this.owner._activeDragHandle=this,a.element.off(R),i.element.addClass(W+" "+j),e(document.documentElement).css("cursor","pointer"),i.dragableArea=a._getDraggableArea(),i.step=k.max(r.smallStep*(a._maxSelection/a._distance),0),i.type?(i.selectionStart=r.selectionStart,i.selectionEnd=r.selectionEnd,a._setZIndex(i.type)):i.oldVal=i.val=r.value,i._removeTooltip(!0),i._createTooltip(),t):(n.preventDefault(),t)},_createTooltip:function(){var t,n,i=this,a=i.owner,r=i.options.tooltip,o="",s=e(window);r.enabled&&(r.template&&(t=i.tooltipTemplate=p.template(r.template)),e(".k-slider-tooltip").remove(),i.tooltipDiv=e("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body),o=a._getFormattedValue(i.val||a.value(),i),i.type||(n="k-callout-"+(a._isHorizontal?"s":"e"),i.tooltipInnerDiv="<div class='k-callout "+n+"'><!-- --></div>",o+=i.tooltipInnerDiv),i.tooltipDiv.html(o),i._scrollOffset={top:s.scrollTop(),left:s.scrollLeft()},i.moveTooltip())},drag:function(e){var t,n=this,i=n.owner,a=e.x.location,r=e.y.location,o=n.dragableArea.startPoint,s=n.dragableArea.endPoint;e.preventDefault(),n.val=i._isHorizontal?i._isRtl?n.constrainValue(a,o,s,s>a):n.constrainValue(a,o,s,a>=s):n.constrainValue(r,s,o,s>=r),n.oldVal!=n.val&&(n.oldVal=n.val,n.type?("firstHandle"==n.type?n.selectionStart=n.selectionEnd>n.val?n.val:n.selectionEnd=n.val:n.val>n.selectionStart?n.selectionEnd=n.val:n.selectionStart=n.selectionEnd=n.val,t={values:[n.selectionStart,n.selectionEnd],value:[n.selectionStart,n.selectionEnd]}):t={value:n.val},i.trigger(S,t)),n._updateTooltip(n.val)},_updateTooltip:function(e){var t=this,n=t.options,i=n.tooltip,a="";i.enabled&&(t.tooltipDiv||t._createTooltip(),a=t.owner._getFormattedValue(d(e),t),t.type||(a+=t.tooltipInnerDiv),t.tooltipDiv.html(a),t.moveTooltip())},dragcancel:function(){return this.owner._refresh(),e(document.documentElement).css("cursor",""),this._end()},dragend:function(){var t=this,n=t.owner;return e(document.documentElement).css("cursor",""),t.type?n._update(t.selectionStart,t.selectionEnd):(n._update(t.val),t.draggable.userEvents._disposeAll()),t._end()},_end:function(){var e=this,t=e.owner;return t._focusWithMouse(e.element),t.element.on(R),!1},_removeTooltip:function(t){var n=this,i=n.owner;n.tooltipDiv&&i.options.tooltip.enabled&&i.options.enabled&&(t?(n.tooltipDiv.remove(),n.tooltipDiv=null):n.tooltipDiv.fadeOut("slow",function(){e(this).remove(),n.tooltipDiv=null}))},moveTooltip:function(){var t,n,i,a,r=this,o=r.owner,s=0,l=0,d=r.element,c=p.getOffset(d),u=8,h=e(window),f=r.tooltipDiv.find(".k-callout"),g=r.tooltipDiv.outerWidth(),m=r.tooltipDiv.outerHeight();r.type?(t=o.wrapper.find(O),c=p.getOffset(t.eq(0)),n=p.getOffset(t.eq(1)),o._isHorizontal?(s=n.top,l=c.left+(n.left-c.left)/2):(s=c.top+(n.top-c.top)/2,l=n.left),a=t.eq(0).outerWidth()+2*u):(s=c.top,l=c.left,a=d.outerWidth()+2*u),o._isHorizontal?(l-=parseInt((g-d[o._outerSize]())/2,10),s-=m+f.height()+u):(s-=parseInt((m-d[o._outerSize]())/2,10),l-=g+f.width()+u),o._isHorizontal?(i=r._flip(s,m,a,h.outerHeight()+r._scrollOffset.top),s+=i,l+=r._fit(l,g,h.outerWidth()+r._scrollOffset.left)):(i=r._flip(l,g,a,h.outerWidth()+r._scrollOffset.left),s+=r._fit(s,m,h.outerHeight()+r._scrollOffset.top),l+=i),i>0&&f&&(f.removeClass(),f.addClass("k-callout k-callout-"+(o._isHorizontal?"n":"w"))),r.tooltipDiv.css({top:s,left:l})},_fit:function(e,t,n){var i=0;return e+t>n&&(i=n-(e+t)),0>e&&(i=-e),i},_flip:function(e,t,n,i){var a=0;return e+t>i&&(a+=-(n+t)),0>e+a&&(a+=n+t),a},constrainValue:function(e,t,n,i){var a=this,r=0;return r=e>t&&n>e?a.owner._getValueFromPosition(e,a.dragableArea):i?a.options.max:a.options.min}},p.ui.plugin(X),h=K.extend({init:function(n,i){var a,r=this,o=e(n).find("input"),s=o.eq(0)[0],l=o.eq(1)[0];s.type="text",l.type="text",i=m({},{selectionStart:c(s,"value"),min:c(s,"min"),max:c(s,"max"),smallStep:c(s,"step")},{selectionEnd:c(l,"value"),min:c(l,"min"),max:c(l,"max"),smallStep:c(l,"step")},i),i&&i.enabled===t&&(i.enabled=!o.is("[disabled]")),K.fn.init.call(r,n,i),i=r.options,u(i.selectionStart)&&null!==i.selectionStart||(i.selectionStart=i.min,o.eq(0).val(i.min)),u(i.selectionEnd)&&null!==i.selectionEnd||(i.selectionEnd=i.max,o.eq(1).val(i.max)),a=r.wrapper.find(O),new h.Selection(a,r,i),r._firstHandleDrag=new X.Drag(a.eq(0),"firstHandle",r,i),r._lastHandleDrag=new X.Drag(a.eq(1),"lastHandle",r,i)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(n){var i,a=this,r=a.options;a.disable(),n!==!1&&(a.wrapper.removeClass(q).addClass(V),a.wrapper.find("input").removeAttr(U),i=function(n){var i,o,s,l,d,c,u,h=Y(n)[0];if(h){if(i=a._isHorizontal?h.location.pageX:h.location.pageY,o=a._getDraggableArea(),s=a._getValueFromPosition(i,o),l=e(n.target),l.hasClass("k-draghandle"))return l.addClass(W+" "+j),t;r.selectionStart>s?(d=s,c=r.selectionEnd,u=a._firstHandleDrag):s>a.selectionEnd?(d=r.selectionStart,c=s,u=a._lastHandleDrag):r.selectionEnd-s>=s-r.selectionStart?(d=s,c=r.selectionEnd,u=a._firstHandleDrag):(d=r.selectionStart,c=s,u=a._lastHandleDrag),u.dragstart(n),a._setValueInRange(d,c),a._focusWithMouse(u.element)}},a.wrapper.find(B+", "+L).on(F,i).end().on(F,function(){e(document.documentElement).one("selectstart",p.preventDefault)}).on(M,function(){a._activeDragHandle&&a._activeDragHandle._end()}),a.wrapper.find(O).attr(Q,0).on(A,function(){a._setTooltipTimeout()}).on(I,function(e){a._focusWithMouse(e.target),e.preventDefault()}).on(N,_(a._focus,a)).on(P,_(a._blur,a)),a.wrapper.find(O).off(z,p.preventDefault).eq(0).on(z,_(function(e){this._keydown(e,"firstHandle")},a)).end().eq(1).on(z,_(function(e){this._keydown(e,"lastHandle")},a)),a.options.enabled=!0)},disable:function(){var e=this;e.wrapper.removeClass(V).addClass(q),e.wrapper.find("input").prop(U,U),e.wrapper.find(B+", "+L).off(F).off(M),e.wrapper.find(O).attr(Q,-1).off(A).off(z).off(I).off(N).off(P),e.options.enabled=!1},_keydown:function(e,t){var n,i,a,r=this,o=r.options.selectionStart,s=r.options.selectionEnd;e.keyCode in r._keyMap&&(r._clearTooltipTimeout(),"firstHandle"==t?(a=r._activeHandleDrag=r._firstHandleDrag,o=r._keyMap[e.keyCode](o),o>s&&(s=o)):(a=r._activeHandleDrag=r._lastHandleDrag,s=r._keyMap[e.keyCode](s),o>s&&(o=s)),r._setValueInRange(o,s),n=Math.max(o,r.options.selectionStart),i=Math.min(s,r.options.selectionEnd),a.selectionEnd=Math.max(i,r.options.selectionStart),a.selectionStart=Math.min(n,r.options.selectionEnd),a._updateTooltip(r.value()[r._activeHandle]),e.preventDefault())},_update:function(e,t){var n=this,i=n.value(),a=i[0]!=e||i[1]!=t;n.value([e,t]),a&&n.trigger(T,{values:[e,t],value:[e,t]})},value:function(e){return e&&e.length?this._value(e[0],e[1]):this._value()},_value:function(e,n){var i=this,a=i.options,r=a.selectionStart,o=a.selectionEnd;return isNaN(e)&&isNaN(n)?[r,o]:(e=d(e),n=d(n),e>=a.min&&a.max>=e&&n>=a.min&&a.max>=n&&n>=e&&(r!=e||o!=n)&&(i.element.find("input").eq(0).prop("value",l(e)).end().eq(1).prop("value",l(n)),a.selectionStart=e,a.selectionEnd=n,i._refresh(),i._refreshAriaAttr(e,n)),t)},values:function(e,t){return y(e)?this._value(e[0],e[1]):this._value(e,t)},_refresh:function(){var e=this,t=e.options;e.trigger(H,{values:[t.selectionStart,t.selectionEnd],value:[t.selectionStart,t.selectionEnd]}),t.selectionStart==t.max&&t.selectionEnd==t.max&&e._setZIndex("firstHandle")},_refreshAriaAttr:function(e,t){var n,i=this,a=i.wrapper.find(O),r=i._activeHandleDrag;n=i._getFormattedValue([e,t],r),a.eq(0).attr("aria-valuenow",e),a.eq(1).attr("aria-valuenow",t),a.attr("aria-valuetext",n)},_setValueInRange:function(e,t){var n=this.options;e=k.max(k.min(e,n.max),n.min),t=k.max(k.min(t,n.max),n.min),e==n.max&&t==n.max&&this._setZIndex("firstHandle"),this._update(k.min(e,t),k.max(e,t))},_setZIndex:function(t){this.wrapper.find(O).each(function(n){e(this).css("z-index","firstHandle"==t?1-n:n)})},destroy:function(){var e=this;f.fn.destroy.call(e),e.wrapper.off(D).find(B+", "+L).off(D).end().find(O).off(D),e._firstHandleDrag.draggable.destroy(),e._lastHandleDrag.draggable.destroy()}}),h.Selection=function(e,t,n){function i(i){i=i||[];var r=i[0]-n.min,o=i[1]-n.min,s=k.ceil(d(r/n.smallStep)),l=k.ceil(d(o/n.smallStep)),c=t._pixelSteps[s],u=t._pixelSteps[l],h=parseInt(e.eq(0)[t._outerSize]()/2,10),p=t._isRtl?2:0;e.eq(0).css(t._position,c-h-p).end().eq(1).css(t._position,u-h-p),a(c,u)}function a(e,n){var i,a,r=t._trackDiv.find(".k-slider-selection");i=k.abs(e-n),r[t._sizeFn](i),t._isRtl?(a=k.max(e,n),r.css("right",t._maxSelection-a-1)):(a=k.min(e,n),r.css(t._position,a-1))}i(t.value()),t.bind([T,S,H],function(e){i(e.values)})},p.ui.plugin(h)}(window.kendo.jQuery),function(e,t,n){function i(e,t,n){n=o(n),n&&!n.equals(e.color())&&("change"==t&&(e._value=n),n=1!=n.a?n.toCssRgba():n.toCss(),e.trigger(t,{value:n}))}function a(e,t,n){for(n||(n="0"),e=e.toString(16);t>e.length;)e="0"+e;return e}function r(e){return parseFloat((+e).toFixed(3))}function o(e,i){if(null==e||"transparent"==e)return null;if(e instanceof E)return e;var a=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e);if(a)return new A(t(a[1],16),t(a[2],16),t(a[3],16),1);if(a=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e))return new A(t(a[1]+a[1],16),t(a[2]+a[2],16),t(a[3]+a[3],16),1);if(a=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(e))return new A(t(a[1],10),t(a[2],10),t(a[3],10),1);if(a=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(e))return new A(t(a[1],10),t(a[2],10),t(a[3],10),parseFloat(a[4]));if(a=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(e))return new F(parseFloat(a[1])/100,parseFloat(a[2])/100,parseFloat(a[3])/100,1);if(a=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(e))return new F(parseFloat(a[1])/100,parseFloat(a[2])/100,parseFloat(a[3])/100,parseFloat(a[4]));if(!i)throw Error("Cannot parse color: "+e);return n}function s(e,t,n){var i,a;return e=Array.prototype.slice.call(e),i=e.length,a=e.indexOf(t),0>a?0>n?e[i-1]:e[0]:(a+=n,0>a?a+=i:a%=i,e[a])}function l(e){e.preventDefault()}function d(e,t){return function(){return e.apply(t,arguments)}}var c=window.kendo,u=c.Class,h=c.ui,p=h.Widget,f=c.keys,g="background-color",m="k-state-selected",v="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",b="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",_={apply:"Apply",cancel:"Cancel"},y=".kendoColorTools",k="click"+y,w="keydown"+y,x=c.support.browser,C=x.msie&&9>x.version,T=p.extend({init:function(e,t){var n,i=this;p.fn.init.call(i,e,t),e=i.element,t=i.options,i._value=t.value=o(t.value),i._tabIndex=e.attr("tabIndex")||0,n=i._ariaId=t.ariaId,n&&e.attr("aria-labelledby",n),t._standalone&&(i._triggerSelect=i._triggerChange)},options:{name:"ColorSelector",value:null,_standalone:!0},events:["change","select","cancel"],color:function(e){return e!==n&&(this._value=o(e),this._updateUI(this._value)),this._value},value:function(e){return e=this.color(e),e&&(e=this.options.opacity?e.toCssRgba():e.toCss()),e||null},enable:function(t){0===arguments.length&&(t=!0),e(".k-disabled-overlay",this.wrapper).remove(),t||this.wrapper.append("<div class='k-disabled-overlay'></div>"),this._onEnable(t)},_select:function(e,t){var n=this._value;e=this.color(e),t||(this.element.trigger("blur"),e.equals(n)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(e){i(this,"select",e)},_triggerChange:function(e){i(this,"change",e)},destroy:function(){this.element&&this.element.off(y),this.wrapper&&this.wrapper.off(y).find("*").off(y),this.wrapper=null,p.fn.destroy.call(this)},_updateUI:e.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}}),S=T.extend({init:function(t,n){var i,a,r,s,l=this;if(T.fn.init.call(l,t,n),t=l.wrapper=l.element,n=l.options,i=n.palette,"websafe"==i?(i=b,n.columns=18):"basic"==i&&(i=v),"string"==typeof i&&(i=i.split(",")),e.isArray(i)&&(i=e.map(i,function(e){return o(e)})),l._selectedID=(n.ariaId||c.guid())+"_selected",t.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(e(l._template({colors:i,columns:n.columns,tileSize:n.tileSize,value:l._value,id:n.ariaId}))).on(k,".k-item",function(t){l._select(e(t.currentTarget).css(g))}).attr("tabIndex",l._tabIndex).on(w,d(l._keydown,l)),a=n.tileSize){if(/number|string/.test(typeof a))r=s=parseFloat(a);else{if("object"!=typeof a)throw Error("Unsupported value for the 'tileSize' argument");r=parseFloat(a.width),s=parseFloat(a.height)}t.find(".k-item").css({width:r,height:s})}},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(e){e?this.wrapper.attr("tabIndex",this._tabIndex):this.wrapper.removeAttr("tabIndex")},_keydown:function(t){var n,i,a=this.wrapper,r=a.find(".k-item"),d=r.filter("."+m).get(0),c=t.keyCode;if(c==f.LEFT?n=s(r,d,-1):c==f.RIGHT?n=s(r,d,1):c==f.DOWN?n=s(r,d,this.options.columns):c==f.UP?n=s(r,d,-this.options.columns):c==f.ENTER?(l(t),d&&this._select(e(d).css(g))):c==f.ESC&&this._cancel(),n){l(t),this._current(n);try{i=o(n.css(g)),this._triggerSelect(i)}catch(u){}}},_current:function(t){this.wrapper.find("."+m).removeClass(m).attr("aria-selected",!1).removeAttr("id"),e(t).addClass(m).attr("aria-selected",!0).attr("id",this._selectedID),this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(t){var i=null;this.wrapper.find(".k-item").each(function(){var a=o(e(this).css(g));return a&&a.equals(t)?(i=this,!1):n}),this._current(i)},_template:c.template('<table class="k-palette k-reset" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-item#= selected ? " '+m+'" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>')}),D=T.extend({init:function(t,n){var i=this;T.fn.init.call(i,t,n),n=i.options,t=i.element,i.wrapper=t.addClass("k-widget k-flatcolorpicker").append(i._template(n)),i._hueElements=e(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",t),i._selectedColor=e(".k-selected-color-display",t),i._colorAsText=e("input.k-color-value",t),i._sliders(),i._hsvArea(),i._updateUI(i._value||new F(1,0,0,1)),t.find("input.k-color-value").on(w,function(t){var n,a,r=this;if(t.keyCode==f.ENTER)try{n=o(r.value),a=i.color(),i._select(n,n.equals(a))}catch(s){e(r).addClass("k-state-error")}else i.options.autoupdate&&setTimeout(function(){var e=o(r.value,!0);e&&i._updateUI(e,!0)},10)}).end().on(k,".k-controls button.apply",function(){i._select(i._getHSV())}).on(k,".k-controls button.cancel",function(){i._updateUI(i.color()),i._cancel()}),C&&i._applyIEFilter()},destroy:function(){this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,T.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,autoupdate:!0,messages:_},_applyIEFilter:function(){var e=this.element.find(".k-hue-slider .k-slider-track")[0],t=e.currentStyle.backgroundImage;t=t.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),e.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"', sizingMethod='scale')"},_sliders:function(){function e(e){n._updateUI(n._getHSV(e.value,null,null,null))}function t(e){n._updateUI(n._getHSV(null,null,null,e.value/100))}var n=this,i=n.element;n._hueSlider=i.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:!1,slide:e,change:e}).data("kendoSlider"),n._opacitySlider=i.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:t,change:t}).data("kendoSlider")},_hsvArea:function(){function e(e,n){var i=this.offset,a=e-i.left,r=n-i.top,o=this.width,s=this.height;a=0>a?0:a>o?o:a,r=0>r?0:r>s?s:r,t._svChange(a/o,1-r/s)}var t=this,n=t.element,i=n.find(".k-hsv-rectangle"),a=i.find(".k-draghandle").attr("tabIndex",0).on(w,d(t._keydown,t));t._hsvEvents=new c.UserEvents(i,{global:!0,press:function(t){this.offset=c.getOffset(i),this.width=i.width(),this.height=i.height(),a.focus(),e.call(this,t.x.location,t.y.location)},start:function(){i.addClass("k-dragging"),a.focus()},move:function(t){t.preventDefault(),e.call(this,t.x.location,t.y.location)},end:function(){i.removeClass("k-dragging")}}),t._hsvRect=i,t._hsvHandle=a},_onEnable:function(e){this._hueSlider.enable(e),this._opacitySlider&&this._opacitySlider.enable(e),this.wrapper.find("input").attr("disabled",!e);var t=this._hsvRect.find(".k-draghandle");e?t.attr("tabIndex",this._tabIndex):t.removeAttr("tabIndex")},_keydown:function(e){function t(t,n){var a=i._getHSV();a[t]+=n*(e.shiftKey?.01:.05),0>a[t]&&(a[t]=0),a[t]>1&&(a[t]=1),i._updateUI(a),l(e)}function n(t){var n=i._getHSV();n.h+=t*(e.shiftKey?1:5),0>n.h&&(n.h=0),n.h>359&&(n.h=359),i._updateUI(n),l(e)}var i=this;switch(e.keyCode){case f.LEFT:e.ctrlKey?n(-1):t("s",-1);break;case f.RIGHT:e.ctrlKey?n(1):t("s",1);break;case f.UP:t(e.ctrlKey&&i._opacitySlider?"a":"v",1);break;case f.DOWN:t(e.ctrlKey&&i._opacitySlider?"a":"v",-1);break;case f.ENTER:i._select(i._getHSV());break;case f.F2:i.wrapper.find("input.k-color-value").focus().select();break;case f.ESC:i._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(e,t,n,i){var a=this._hsvRect,r=a.width(),o=a.height(),s=this._hsvHandle.position();return null==e&&(e=this._hueSlider.value()),null==t&&(t=s.left/r),null==n&&(n=1-s.top/o),null==i&&(i=this._opacitySlider?this._opacitySlider.value()/100:1),new M(e,t,n,i)},_svChange:function(e,t){var n=this._getHSV(null,e,t,null);this._updateUI(n)},_updateUI:function(e,t){var n=this,i=n._hsvRect;e&&(this._colorAsText.removeClass("k-state-error"),n._selectedColor.css(g,e.toDisplay()),t||n._colorAsText.val(n._opacitySlider?e.toCssRgba():e.toCss()),n._triggerSelect(e),e=e.toHSV(),n._hsvHandle.css({left:e.s*i.width()+"px",top:(1-e.v)*i.height()+"px"}),n._hueElements.css(g,new M(e.h,1,1,1).toCss()),n._hueSlider.value(e.h),n._opacitySlider&&n._opacitySlider.value(100*e.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:c.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')}),E=u.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var e=this.toBytes();return"rgba("+e.r+", "+e.g+", "+e.b+", "+r(this.a)+")"},toDisplay:function(){return C?this.toCss():this.toCssRgba()},equals:function(e){return e===this||null!==e&&this.toCssRgba()==o(e).toCssRgba()},diff:function(e){if(null==e)return 0/0;var t=this.toBytes();return e=e.toBytes(),Math.sqrt(Math.pow(.3*(t.r-e.r),2)+Math.pow(.59*(t.g-e.g),2)+Math.pow(.11*(t.b-e.b),2))},clone:function(){var e=this.toBytes();return e===this&&(e=new A(e.r,e.g,e.b,e.a)),e}}),F=E.extend({init:function(e,t,n,i){this.r=e,this.g=t,this.b=n,this.a=i},toHSV:function(){var e,t,n=this.r,i=this.g,a=this.b,r=Math.min(n,i,a),o=Math.max(n,i,a),s=o,l=o-r;return 0===l?new M(0,0,s,this.a):(0!==o?(t=l/o,e=n==o?(i-a)/l:i==o?2+(a-n)/l:4+(n-i)/l,e*=60,0>e&&(e+=360)):(t=0,e=-1),new M(e,t,s,this.a))},toBytes:function(){return new A(255*this.r,255*this.g,255*this.b,this.a)}}),A=F.extend({init:function(e,t,n,i){this.r=Math.round(e),this.g=Math.round(t),this.b=Math.round(n),this.a=i},toRGB:function(){return new F(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return a(this.r,2)+a(this.g,2)+a(this.b,2)},toBytes:function(){return this}}),M=E.extend({init:function(e,t,n,i){this.h=e,this.s=t,this.v=n,this.a=i},toRGB:function(){var e,t,n,i,a,r,o,s,l=this.h,d=this.s,c=this.v;if(0===d)t=n=i=c;else switch(l/=60,e=Math.floor(l),a=l-e,r=c*(1-d),o=c*(1-d*a),s=c*(1-d*(1-a)),e){case 0:t=c,n=s,i=r;break;case 1:t=o,n=c,i=r;break;case 2:t=r,n=c,i=s;break;case 3:t=r,n=o,i=c;break;case 4:t=s,n=r,i=c;break;default:t=c,n=r,i=o}return new F(t,n,i,this.a)},toBytes:function(){return this.toRGB().toBytes()}}),H=p.extend({init:function(t,n){var i,a,r,s=this;p.fn.init.call(s,t,n),n=s.options,t=s.element,i=t.attr("value")||t.val(),i=i?o(i,!0):o(n.value,!0),s._value=n.value=i,a=s.wrapper=e(s._template(n)),t.hide().after(a),t.is("input")&&t.appendTo(a),s._tabIndex=t.attr("tabIndex")||0,s.enable(!t.attr("disabled")),r=t.attr("accesskey"),r&&(t.attr("accesskey",null),a.attr("accesskey",r)),s.bind("activate",function(e){e.isDefaultPrevented()||s.toggle()}),s._updateUI(i)},destroy:function(){this.wrapper.off(y).find("*").off(y),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,p.fn.destroy.call(this)},enable:function(e){var t=this,n=t.wrapper,i=n.children(".k-picker-wrap"),a=i.find(".k-select");0===arguments.length&&(e=!0),t.element.attr("disabled",!e),n.attr("aria-disabled",!e),a.off(y).on("mousedown"+y,l),n.addClass("k-state-disabled").removeAttr("tabIndex").add("*",n).off(y),e&&n.removeClass("k-state-disabled").attr("tabIndex",t._tabIndex).on("mouseenter"+y,function(){i.addClass("k-state-hover")}).on("mouseleave"+y,function(){i.removeClass("k-state-hover")}).on("focus"+y,function(){i.addClass("k-state-focused")}).on("blur"+y,function(){i.removeClass("k-state-focused")}).on(w,d(t._keydown,t)).on(k,".k-icon",d(t.toggle,t)).on(k,t.options.toolIcon?".k-tool-icon":".k-selected-color",function(){t.trigger("activate")})},_template:c.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:_,opacity:!1,buttons:!0,preview:!0,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:T.fn.color,value:T.fn.value,_select:T.fn._select,_triggerSelect:T.fn._triggerSelect,_isInputTypeColor:function(){var e=this.element[0];return/^input$/i.test(e.tagName)&&/^color$/i.test(e.type)},_updateUI:function(e){var t="";e&&(t=this._isInputTypeColor()||1==e.a?e.toCss():e.toCssRgba(),this.element.val(t)),this._ariaTemplate||(this._ariaTemplate=c.template(this.options.ARIATemplate)),this.wrapper.attr("aria-label",this._ariaTemplate(t)),this._triggerSelect(e),this.wrapper.find(".k-selected-color").css(g,e?e.toDisplay():"transparent")
},_keydown:function(e){var t=e.keyCode;this._getPopup().visible()?(t==f.ESC?this._selector._cancel():this._selector._keydown(e),l(e)):(t==f.ENTER||t==f.DOWN)&&(this.open(),l(e))},_getPopup:function(){var t,i,a,r,s=this,l=s._popup;return l||(t=s.options,i=t.palette?S:D,t._standalone=!1,delete t.select,delete t.change,delete t.cancel,a=c.guid(),r=s._selector=new i(e('<div id="'+a+'"/>').appendTo(document.body),t),s.wrapper.attr("aria-owns",a),s._popup=l=r.wrapper.kendoPopup({anchor:s.wrapper}).data("kendoPopup"),r.bind({select:function(e){s._updateUI(o(e.value))},change:function(){s._select(r.color()),s.close()},cancel:function(){s.close()}}),l.bind({close:function(e){if(s.trigger("close"))return e.preventDefault(),n;s.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var t=r._selectOnHide();t?s._select(t):(s.wrapper.focus(),s._updateUI(s.color()))},open:function(e){s.trigger("open")?e.preventDefault():s.wrapper.children(".k-picker-wrap").addClass("k-state-focused")},activate:function(){r._select(s.color(),!0),r.focus(),s.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})),l}});h.plugin(S),h.plugin(D),h.plugin(H),c.parseColor=o,c.Color={fromBytes:function(e,t,n,i){return new A(e,t,n,null!=i?i:1)},fromRGB:function(e,t,n,i){return new F(e,t,n,null!=i?i:1)},fromHSV:function(e,t,n,i){return new M(e,t,n,null!=i?i:1)}}}(jQuery,parseInt),function(e,t){function n(e,t){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+e+'" title="'+t+'">'+t+"</span></span>"}var i=window.kendo,a=i.caret,r=i.keys,o=i.ui,s=o.Widget,l=i._activeElement,d=i._extractFormat,c=i.parseFloat,u=i.support.placeholder,h=i.getCulture,p=i._round,f="change",g="disabled",m="readonly",v="k-input",b="spin",_=".kendoNumericTextBox",y="touchend",k="mouseleave"+_,w="mouseenter"+_+" "+k,x="k-state-default",C="k-state-focused",T="k-state-hover",S="focus",D=".",E="k-state-selected",F="k-state-disabled",A="aria-disabled",M="aria-readonly",H=/^(-)?(\d*)$/,z=null,I=e.proxy,R=s.extend({init:function(e,n){var a,r,o,l,c,u=this,h=n&&n.step!==t;s.fn.init.call(u,e,n),n=u.options,e=u.element.on("blur"+_,I(u._focusout,u)).attr("role","spinbutton"),n.placeholder=n.placeholder||e.attr("placeholder"),u._reset(),u._wrapper(),u._arrows(),u._input(),i.support.mobileOS?u._text.on(y+_+" "+S+_,function(t){u._toggleText(!1),t.type===S&&e.focus()}):u._text.on(S+_,I(u._click,u)),a=u.min(e.attr("min")),r=u.max(e.attr("max")),o=u._parse(e.attr("step")),n.min===z&&a!==z&&(n.min=a),n.max===z&&r!==z&&(n.max=r),h||o===z||(n.step=o),e.attr("aria-valuemin",n.min).attr("aria-valuemax",n.max),n.format=d(n.format),l=n.value,u.value(l!==z?l:e.val()),c=e.is("[disabled]"),c?u.enable(!1):u.readonly(e.is("[readonly]")),i.notify(u)},options:{name:"NumericTextBox",decimals:z,min:z,max:z,value:z,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[f,b],_editable:function(e){var t=this,n=t.element,i=e.disable,a=e.readonly,r=t._text.add(n),o=t._inputWrapper.off(w);t._toggleText(!0),t._upArrowEventHandler.unbind("press"),t._downArrowEventHandler.unbind("press"),n.off("keydown"+_).off("keypress"+_).off("paste"+_),a||i?(o.addClass(i?F:x).removeClass(i?x:F),r.attr(g,i).attr(m,a).attr(A,i).attr(M,a)):(o.addClass(x).removeClass(F).on(w,t._toggleHover),r.removeAttr(g).removeAttr(m).attr(A,!1).attr(M,!1),t._upArrowEventHandler.bind("press",function(e){e.preventDefault(),t._spin(1),t._upArrow.addClass(E)}),t._downArrowEventHandler.bind("press",function(e){e.preventDefault(),t._spin(-1),t._downArrow.addClass(E)}),t.element.on("keydown"+_,I(t._keydown,t)).on("keypress"+_,I(t._keypress,t)).on("paste"+_,I(t._paste,t)))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;e.element.add(e._text).add(e._upArrow).add(e._downArrow).add(e._inputWrapper).off(_),e._upArrowEventHandler.destroy(),e._downArrowEventHandler.destroy(),e._form&&e._form.off("reset",e._resetHandler),s.fn.destroy.call(e)},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},step:function(e){return this._option("step",e)},value:function(e){var n,i=this;return e===t?i._value:(e=i._parse(e),n=i._adjust(e),e===n&&(i._update(e),i._old=i._value),t)},focus:function(){this._focusin()},_adjust:function(e){var t=this,n=t.options,i=n.min,a=n.max;return e===z?e:(i!==z&&i>e?e=i:a!==z&&e>a&&(e=a),e)},_arrows:function(){var t,a=this,r=function(){clearTimeout(a._spinning),t.removeClass(E)},o=a.options,s=o.spinners,l=a.element;t=l.siblings(".k-icon"),t[0]||(t=e(n("n",o.upArrowText)+n("s",o.downArrowText)).insertAfter(l),t.wrapAll('<span class="k-select"/>')),s||(t.parent().toggle(s),a._inputWrapper.addClass("k-expand-padding")),a._upArrow=t.eq(0),a._upArrowEventHandler=new i.UserEvents(a._upArrow,{release:r}),a._downArrow=t.eq(1),a._downArrowEventHandler=new i.UserEvents(a._downArrow,{release:r})},_blur:function(){var e=this;e._toggleText(!0),e._change(e.element.val())},_click:function(e){var t=this;clearTimeout(t._focusing),t._focusing=setTimeout(function(){var n,i,r,o=e.target,s=a(o)[0],l=o.value.substring(0,s),d=t._format(t.options.format),c=d[","],u=0;c&&(i=RegExp("\\"+c,"g"),r=RegExp("([\\d\\"+c+"]+)(\\"+d[D]+")?(\\d+)?")),r&&(n=r.exec(l)),n&&(u=n[0].replace(i,"").length,-1!=l.indexOf("(")&&0>t._value&&u++),t._focusin(),a(t.element[0],u)})},_change:function(e){var t=this;t._update(e),e=t._value,t._old!=e&&(t._old=e,t.trigger(f),t.element.trigger(f))},_culture:function(e){return e||h(this.options.culture)},_focusin:function(){var e=this;e._inputWrapper.addClass(C),e._toggleText(!1),e.element[0].focus()},_focusout:function(){var e=this;clearTimeout(e._focusing),e._inputWrapper.removeClass(C).removeClass(T),e._blur()},_format:function(e,t){var n=this._culture(t).numberFormat;return e=e.toLowerCase(),e.indexOf("c")>-1?n=n.currency:e.indexOf("p")>-1&&(n=n.percent),n},_input:function(){var t,n=this,i="k-formatted-value",a=n.element.addClass(v).show()[0],r=a.accessKey,o=n.wrapper;t=o.find(D+i),t[0]||(t=e('<input type="text"/>').insertBefore(a).addClass(i));try{a.setAttribute("type","text")}catch(s){a.type="text"}t[0].tabIndex=a.tabIndex,t[0].style.cssText=a.style.cssText,t.prop("placeholder",n.options.placeholder),r&&(t.attr("accesskey",r),a.accessKey=""),n._text=t.addClass(a.className)},_keydown:function(e){var t=this,n=e.keyCode;t._key=n,n==r.DOWN?t._step(-1):n==r.UP?t._step(1):n==r.ENTER&&t._change(t.element.val())},_keypress:function(e){var t,n,i,o,s,l,d,c,u,h,p;0!==e.which&&e.keyCode!==r.BACKSPACE&&e.keyCode!==r.ENTER&&(t=this,n=t.options.min,i=t.element,o=a(i),s=o[0],l=o[1],d=String.fromCharCode(e.which),c=t._format(t.options.format),u=t._key===r.NUMPAD_DOT,h=i.val(),u&&(d=c[D]),h=h.substring(0,s)+d+h.substring(l),p=t._numericRegex(c).test(h),p&&u?(i.val(h),a(i,s+d.length),e.preventDefault()):(null!==n&&n>=0&&"-"===h.charAt(0)||!p)&&e.preventDefault(),t._key=0)},_numericRegex:function(e){var t=this,n=e[D],i=t.options.decimals;return n===D&&(n="\\"+n),i===z&&(i=e.decimals),0===i?H:(t._separator!==n&&(t._separator=n,t._floatRegExp=RegExp("^(-)?(((\\d+("+n+"\\d*)?)|("+n+"\\d*)))?$")),t._floatRegExp)},_paste:function(e){var t=this,n=e.target,i=n.value;setTimeout(function(){t._parse(n.value)===z&&t._update(i)})},_option:function(e,n){var i=this,a=i.options;return n===t?a[e]:(n=i._parse(n),(n||"step"!==e)&&(a[e]=n,i.element.attr("aria-value"+e,n).attr(e,n)),t)},_spin:function(e,t){var n=this;t=t||500,clearTimeout(n._spinning),n._spinning=setTimeout(function(){n._spin(e,50)},t),n._step(e)},_step:function(e){var t=this,n=t.element,i=t._parse(n.val())||0;l()!=n[0]&&t._focusin(),i+=t.options.step*e,t._update(t._adjust(i)),t.trigger(b)},_toggleHover:function(t){e(t.currentTarget).toggleClass(T,"mouseenter"===t.type)},_toggleText:function(e){var t=this;t._text.toggle(e),t.element.toggle(!e)},_parse:function(e,t){return c(e,this._culture(t),this.options.format)},_update:function(e){var t,n=this,a=n.options,r=a.format,o=a.decimals,s=n._culture(),l=n._format(r,s);o===z&&(o=l.decimals),e=n._parse(e,s),t=e!==z,t&&(e=parseFloat(p(e,o))),n._value=e=n._adjust(e),n._placeholder(i.toString(e,r,s)),t?(e=""+e,-1!==e.indexOf("e")&&(e=p(+e,o)),e=e.replace(D,l[D])):e="",n.element.val(e).attr("aria-valuenow",e)},_placeholder:function(e){this._text.val(e),u||e||this._text.val(this.options.placeholder)},_wrapper:function(){var t,n=this,i=n.element,a=i[0];t=i.parents(".k-numerictextbox"),t.is("span.k-numerictextbox")||(t=i.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),t=t.wrap("<span/>").parent()),t[0].style.cssText=a.style.cssText,a.style.width="",n.wrapper=t.addClass("k-widget k-numerictextbox").addClass(a.className).css("display",""),n._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,n=t.element,i=n.attr("form"),a=i?e("#"+i):n.closest("form");a[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(n[0].value)})},t._form=a.on("reset",t._resetHandler))}});o.plugin(R)}(window.kendo.jQuery),function(e){function t(n,i){n.filters&&(n.filters=e.grep(n.filters,function(e){return t(e,i),e.filters?e.filters.length:e.field!=i}))}function n(e){var t,n,i,a,r,o;if(e&&e.length)for(o=[],t=0,n=e.length;n>t;t++)i=e[t],r=i.text||i.value||i,a=null==i.value?i.text||i:i.value,o[t]={text:r,value:a};return o}function i(t,n){return e.grep(t,function(t){return t.filters?(t.filters=e.grep(t.filters,function(e){return e.field!=n}),t.filters.length):t.field!=n})}var a=window.kendo,r=a.ui,o=e.proxy,s="kendoPopup",l="init",d=".kendoFilterMenu",c="Is equal to",u="Is not equal to",h={number:"numerictextbox",date:"datepicker"},p={string:"text",number:"number",date:"date"},f=a.isFunction,g=r.Widget,m='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',v='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',b='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=field#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[0].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[0].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#if(extra){#</ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#</label></li><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#</label></li></ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[1].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[1].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#}#</ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></div></form></div>',_='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=field#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label></li><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label></li></ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>',y=g.extend({init:function(t,n){var i,r,s,l,c=this,u="string";g.fn.init.call(c,t,n),i=c.operators=n.operators||{},t=c.element,n=c.options,n.appendToElement||(s=t.addClass("k-with-icon k-filterable").find(".k-grid-filter"),s[0]||(s=t.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")),s.attr("tabindex",-1).on("click"+d,o(c._click,c))),c.link=s||e(),c.dataSource=n.dataSource,c.field=n.field||t.attr(a.attr("field")),c.model=c.dataSource.reader.model,c._parse=function(e){return e+""},c.model&&c.model.fields&&(l=c.model.fields[c.field],l&&(u=l.type||"string",l.parse&&(c._parse=o(l.parse,l)))),n.values&&(u="enums"),c.type=u,i=i[u]||n.operators[u];for(r in i)break;c._defaultFilter=function(){return{field:c.field,operator:r||"eq",value:""}},c._refreshHandler=o(c.refresh,c),c.dataSource.bind("change",c._refreshHandler),n.appendToElement?c._init():c.refresh()},_init:function(){var t,n=this,i=n.options.ui,r=f(i);n.pane=n.options.pane,n.pane&&(n._isMobile=!0),r||(t=i||h[n.type]),n._isMobile?n._createMobileForm(t):n._createForm(t),n.form.on("submit"+d,o(n._submit,n)).on("reset"+d,o(n._reset,n)),r&&n.form.find(".k-textbox").removeClass("k-textbox").each(function(){i(e(this))}),n.form.find("["+a.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+a.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+a.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+a.attr("role")+"=datepicker]").removeClass("k-textbox"),n.refresh(),n.trigger(l,{field:n.field,container:n.form})},_createForm:function(t){var i=this,r=i.options,l=i.operators||{},c=i.type;l=l[c]||r.operators[c],i.form=e('<form class="k-filter-menu"/>').html(a.template("boolean"===c?m:v)({field:i.field,format:r.format,ns:a.ns,messages:r.messages,extra:r.extra,operators:l,type:c,role:t,values:n(r.values)})),r.appendToElement?(i.element.append(i.form),i.popup=i.element.closest(".k-popup").data(s)):i.popup=i.form[s]({anchor:i.link,open:o(i._open,i),activate:o(i._activate,i),close:function(){i.options.closeCallback&&i.options.closeCallback(i.element)}}).data(s),i.form.on("keydown"+d,o(i._keydown,i))},_createMobileForm:function(t){var i=this,r=i.options,o=i.operators||{},s=i.type;o=o[s]||r.operators[s],i.form=e("<div />").html(a.template("boolean"===s?_:b)({field:i.field,format:r.format,ns:a.ns,messages:r.messages,extra:r.extra,operators:o,type:s,role:t,useRole:!a.support.input.date&&"date"===s||"number"===s,inputType:p[s],values:n(r.values)})),i.view=i.pane.append(i.form.html()),i.form=i.view.element.find("form"),i.view.element.on("click",".k-submit",function(e){i.form.submit(),e.preventDefault()}).on("click",".k-cancel",function(e){i._closeForm(),e.preventDefault()})},refresh:function(){var e=this,t=e.dataSource.filter()||{filters:[],logic:"and"};e.filterModel=a.observable({logic:"and",filters:[e._defaultFilter(),e._defaultFilter()]}),e.form&&a.bind(e.form.children().first(),e.filterModel),e._bind(t)?e.link.addClass("k-state-active"):e.link.removeClass("k-state-active")},destroy:function(){var e=this;g.fn.destroy.call(e),e.form&&(a.unbind(e.form),a.destroy(e.form),e.form.unbind(d),e.popup&&(e.popup.destroy(),e.popup=null),e.form=null),e.view&&(e.view.purge(),e.view=null),e.link.unbind(d),e._refreshHandler&&(e.dataSource.unbind("change",e._refreshHandler),e.dataSource=null),e.element=e.link=e._refreshHandler=e.filterModel=null},_bind:function(e){var t,n,i,a,r=this,o=e.filters,s=!1,l=0,d=r.filterModel;for(t=0,n=o.length;n>t;t++)a=o[t],a.field==r.field?(d.set("logic",e.logic),i=d.filters[l],i||(d.filters.push({field:r.field}),i=d.filters[l]),i.set("value",r._parse(a.value)),i.set("operator",a.operator),l++,s=!0):a.filters&&(s=s||r._bind(a));return s},_merge:function(n){var i,a,r,o=this,s=n.logic||"and",l=n.filters,d=o.dataSource.filter()||{filters:[],logic:"and"};for(t(d,o.field),l=e.grep(l,function(e){return""!==e.value&&null!=e.value}),a=0,r=l.length;r>a;a++)i=l[a],i.value=o._parse(i.value);return l.length&&(d.filters.length?(n.filters=l,"and"!==d.logic&&(d.filters=[{logic:d.logic,filters:d.filters}],d.logic="and"),d.filters.push(l.length>1?n:l[0])):(d.filters=l,d.logic=s)),d},filter:function(e){e=this._merge(e),e.filters.length&&this.dataSource.filter(e)},clear:function(){var t=this,n=t.dataSource.filter()||{filters:[]};n.filters=e.grep(n.filters,function(e){return e.filters?(e.filters=i(e.filters,t.field),e.filters.length):e.field!=t.field}),n.filters.length||(n=null),t.dataSource.filter(n)},_submit:function(e){e.preventDefault(),e.stopPropagation(),this.filter(this.filterModel.toJSON()),this._closeForm()},_reset:function(){this.clear(),this._closeForm()},_closeForm:function(){this._isMobile?this.pane.navigate("",this.options.animations.right):this.popup.close()},_click:function(e){e.preventDefault(),e.stopPropagation(),this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle()},_open:function(){var t;e(".k-filter-menu").not(this.form).each(function(){t=e(this).data(s),t&&t.close()})},_activate:function(){this.form.find(":kendoFocusable:first").focus()},_keydown:function(e){e.keyCode==a.keys.ESC&&this.popup.close()},events:[l],options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:c,neq:u,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:c,neq:u,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:c,neq:u,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:c,neq:u}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",cancel:"Cancel"},animations:{left:"slide",right:"slide:right"}}});r.plugin(y)}(window.kendo.jQuery),function(e,t){function n(e,t){return e=e.split(" ")[!t+0]||e,e.replace("top","up").replace("bottom","down")}function i(e,t,n){e=e.split(" ")[!t+0]||e;var i={origin:["bottom",n?"right":"left"],position:["top",n?"right":"left"]},a=/left|right/.test(e);return a?(i.origin=["top",e],i.position[1]=l.directions[e].reverse):(i.origin[0]=e,i.position[0]=l.directions[e].reverse),i.origin=i.origin.join(" "),i.position=i.position.join(" "),i}function a(t,n){try{return e.contains(t,n)}catch(i){return!1}}function r(t){t=e(t),t.addClass("k-item").children(w).addClass(A),t.children("a").addClass(T).children(w).addClass(A),t.filter(":not([disabled])").addClass(W),t.filter(".k-separator:empty").append("&nbsp;"),t.filter("li[disabled]").addClass($).removeAttr("disabled").attr("aria-disabled",!0),t.filter("[role]").length||t.attr("role","menuitem"),t.children("."+T).length||t.contents().filter(function(){return!(this.nodeName.match(y)||3==this.nodeType&&!e.trim(this.nodeValue))}).wrapAll("<span class='"+T+"'/>"),o(t),s(t)}function o(t){t=e(t),t.find("> .k-link > [class*=k-i-arrow]:not(.k-sprite)").remove(),t.filter(":has(.k-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var t=e(this),n=t.parent().parent();t.append("<span class='k-icon "+(n.hasClass(C+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function s(t){t=e(t),t.filter(".k-first:not(:first-child)").removeClass(F),t.filter(".k-last:not(:last-child)").removeClass(S),t.filter(":first-child").addClass(F),t.filter(":last-child").addClass(S)}var l=window.kendo,d=l.ui,c=l._activeElement,u=l.support.touch&&l.support.mobileOS,h="mousedown",p="click",f=e.extend,g=e.proxy,m=e.each,v=l.template,b=l.keys,_=d.Widget,y=/^(ul|a|div)$/i,k=".kendoMenu",w="img",x="open",C="k-menu",T="k-link",S="k-last",D="close",E="timer",F="k-first",A="k-image",M="select",H="zIndex",z="activate",I="deactivate",R="touchstart"+k+" MSPointerDown"+k+" pointerdown"+k,N=l.support.pointers,P=l.support.msPointers,O=N?"pointerover":P?"MSPointerOver":"mouseenter",L=N?"pointerout":P?"MSPointerOut":"mouseleave",B=u||P||N,j="kendoPopup",W="k-state-default",V="k-state-hover",q="k-state-focused",$="k-state-disabled",U=".k-group",G=U+",.k-animation-container",Q=":not(.k-list) > .k-item",Y=".k-item.k-state-disabled",K=".k-item:not(.k-state-disabled)",X=".k-item:not(.k-state-disabled) > .k-link",J=":not(.k-item.k-separator)",Z=J+":eq(0)",et=J+":last",tt="div:not(.k-animation-container,.k-list-container)",nt={content:v("<div class='k-content k-group' tabindex='-1'>#= content(item) #</div>"),group:v("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:v("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:v("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:v("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:v("<span class='#= arrowClass(item, group) #'></span>"),sprite:v("<span class='k-sprite #= spriteCssClass #'></span>"),empty:v("")},it={wrapperCssClass:function(e,t){var n="k-item",i=t.index;return n+=t.enabled===!1?" k-state-disabled":" k-state-default",e.firstLevel&&0===i&&(n+=" k-first"),i==e.length-1&&(n+=" k-last"),t.cssClass&&(n+=" "+t.cssClass),n},textClass:function(){return T},textAttributes:function(e){return e.url?" href='"+e.url+"'":""},arrowClass:function(e,t){var n="k-icon";return n+=t.horizontal?" k-i-arrow-s":" k-i-arrow-e"},text:function(e){return e.encoded===!1?e.text:l.htmlEncode(e.text)},tag:function(e){return e.url?"a":"span"},groupAttributes:function(e){return e.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group"},content:function(e){return e.content?e.content:"&nbsp;"}},at=_.extend({init:function(t,n){var i=this;_.fn.init.call(i,t,n),t=i.wrapper=i.element,n=i.options,i._initData(n),i._updateClasses(),i._animations(n),i.nextItemZIndex=100,i._tabindex(),i._focusProxy=g(i._focusHandler,i),t.on(R,i._focusProxy).on(p+k,Y,!1).on(p+k,K,g(i._click,i)).on("keydown"+k,g(i._keydown,i)).on("focus"+k,g(i._focus,i)).on("focus"+k,".k-content",g(i._focus,i)).on(R+" "+h+k,".k-content",g(i._preventClose,i)).on("blur"+k,g(i._removeHoverItem,i)).on("blur"+k,"[tabindex]",g(i._checkActiveElement,i)).on(O+k,K,g(i._mouseenter,i)).on(L+k,K,g(i._mouseleave,i)).on(O+k+" "+L+k+" "+h+k+" "+p+k,X,g(i._toggleHover,i)),n.openOnClick&&(i.clicked=!1,i._documentClickHandler=g(i._documentClick,i),e(document).click(i._documentClickHandler)),t.attr("role","menubar"),t[0].id&&(i._ariaId=l.format("{0}_mn_active",t[0].id)),l.notify(i)},events:[x,D,z,I,M],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100,popupCollision:t},_initData:function(e){var t=this;e.dataSource&&(t.element.empty(),t.append(e.dataSource,t.element))},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=f(!0,t,e.animation),"dataSource"in e&&this._initData(e),_.fn.setOptions.call(this,e)},destroy:function(){var t=this;_.fn.destroy.call(t),t.element.off(k),t._documentClickHandler&&e(document).unbind("click",t._documentClickHandler),l.destroy(t.element)},enable:function(e,t){return this._toggleDisabled(e,t!==!1),this},disable:function(e){return this._toggleDisabled(e,!1),this},append:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.length?t.find("> .k-group, > .k-animation-container > .k-group"):null);return m(n.items,function(){n.group.append(this),o(this)}),o(t),s(n.group.find(".k-first, .k-last").add(n.items)),this},insertBefore:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return m(n.items,function(){t.before(this),o(this),s(this)}),s(t),this},insertAfter:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return m(n.items,function(){t.after(this),o(this),s(this)}),s(t),this},_insert:function(t,n,i){var a,o,s,l,d=this;return n&&n.length||(i=d.element),s=e.isPlainObject(t),l={firstLevel:i.hasClass(C),horizontal:i.hasClass(C+"-horizontal"),expanded:!0,length:i.children().length},n&&!i.length&&(i=e(at.renderGroup({group:l})).appendTo(n)),s||e.isArray(t)?a=e(e.map(s?[t]:t,function(t,n){return"string"==typeof t?e(t).get():e(at.renderItem({group:l,item:f(t,{index:n})})).get()})):(a="string"==typeof t&&"<"!=t[0]?d.element.find(t):e(t),o=a.find("> ul").addClass("k-group").attr("role","menu"),a=a.filter("li"),a.add(o.find("> li")).each(function(){r(this)})),{items:a,group:i}},remove:function(e){var t,n,i,a;return e=this.element.find(e),t=this,n=e.parentsUntil(t.element,Q),i=e.parent("ul:not(.k-menu)"),e.remove(),i&&!i.children(Q).length&&(a=i.parent(".k-animation-container"),a.length?a.remove():i.remove()),n.length&&(n=n.eq(0),o(n),s(n)),t},open:function(a){var r=this,o=r.options,s="horizontal"==o.orientation,d=o.direction,c=l.support.isRtl(r.wrapper);return a=r.element.find(a),/^(top|bottom|default)$/.test(d)&&(d=c?s?(d+" left").replace("default","bottom"):"left":s?(d+" right").replace("default","bottom"):"right"),a.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var t=e(this).data("kendoPopup");t&&t.close()}),a.each(function(){var a=e(this);clearTimeout(a.data(E)),a.data(E,setTimeout(function(){var u,h,p,g,m,v,b,_,y=a.find(".k-group:first:hidden");y[0]&&r.trigger(x,{item:a[0]})===!1&&(!y.find(".k-group")[0]&&y.children(".k-item").length>1?(h=e(window).height(),p=function(){y.css({maxHeight:h-(y.outerHeight()-y.height())-l.getShadows(y).bottom,overflow:"auto"})},l.support.browser.msie&&7>=l.support.browser.version?setTimeout(p,0):p()):y.css({maxHeight:"",overflow:""}),a.data(H,a.css(H)),a.css(H,r.nextItemZIndex++),u=y.data(j),g=a.parent().hasClass(C),m=g&&s,v=i(d,g,c),b=o.animation.open.effects,_=b!==t?b:"slideIn:"+n(d,g),u?(u=y.data(j),u.options.origin=v.origin,u.options.position=v.position,u.options.animation.open.effects=_):u=y.kendoPopup({activate:function(){r.trigger(z,{item:this.wrapper.parent()})},deactivate:function(){r.trigger(I,{item:this.wrapper.parent()})},origin:v.origin,position:v.position,collision:o.popupCollision!==t?o.popupCollision:m?"fit":"fit flip",anchor:a,appendTo:a,animation:{open:f(!0,{effects:_},o.animation.open),close:o.animation.close},close:function(e){var t=e.sender.wrapper.parent();r.trigger(D,{item:t[0]})?e.preventDefault():(t.css(H,t.data(H)),t.removeData(H),B&&(t.removeClass(V),r._removeHoverItem()))}}).data(j),y.removeAttr("aria-hidden"),u.open())},r.options.hoverDelay))}),r},close:function(t,n){var i=this,a=i.element;return t=a.find(t),t.length||(t=a.find(">.k-item")),t.each(function(){var t=e(this);!n&&i._isRootItem(t)&&(i.clicked=!1),clearTimeout(t.data(E)),t.data(E,setTimeout(function(){var e=t.find(".k-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(j);e&&(e.close(),e.element.attr("aria-hidden",!0))},i.options.hoverDelay))}),i},_toggleDisabled:function(t,n){this.element.find(t).each(function(){e(this).toggleClass(W,n).toggleClass($,!n).attr("aria-disabled",!n)})},_toggleHover:function(t){var n=e(l.eventTarget(t)||t.target).closest(Q),i=t.type==O||-1!==h.indexOf(t.type);n.parents("li."+$).length||n.toggleClass(V,i||"mousedown"==t.type||"click"==t.type),this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(t){var n=this,i=e(t?t.currentTarget:this._hoverItem()),r=n._findRootParent(i)[0];this._closurePrevented||setTimeout(function(){(!document.hasFocus()||!a(r,l._activeElement())&&t&&!a(r,t.currentTarget))&&n.close(r)},0),this._closurePrevented=!1},_removeHoverItem:function(){var e=this._hoverItem();e&&e.hasClass(q)&&(e.removeClass(q),this._oldHoverItem=null)},_updateClasses:function(){var e,t=this.element;t.addClass("k-widget k-reset k-header "+C).addClass(C+"-"+this.options.orientation),t.find("li > ul").addClass("k-group").attr("role","menu").attr("aria-hidden",t.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1"),e=t.find("> li,.k-group > li"),e.each(function(){r(this)})},_mouseenter:function(t){var n=this,i=e(t.currentTarget),r=i.children(".k-animation-container").length||i.children(U).length;t.delegateTarget==i.parents(".k-menu")[0]&&(n.options.openOnClick&&!n.clicked||u||!a(t.currentTarget,t.relatedTarget)&&r&&n.open(i),(n.options.openOnClick&&n.clicked||B)&&i.siblings().each(g(function(e,t){n.close(t,!0)},n)))},_mouseleave:function(n){var i=this,r=e(n.currentTarget),o=r.children(".k-animation-container").length||r.children(U).length;return r.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]?(n.stopImmediatePropagation(),t):(i.options.openOnClick||u||(N||P)&&n.originalEvent.pointerType==n.originalEvent.MSPOINTER_TYPE_TOUCH||a(n.currentTarget,n.relatedTarget||n.target)||!o||i.close(r),t)},_click:function(n){var i,a,r,o=this,s=o.options,d=e(l.eventTarget(n)),c=d[0]?d[0].nodeName.toUpperCase():"",u="INPUT"==c||"SELECT"==c||"BUTTON"==c||"LABEL"==c,h=d.closest("."+T),p=d.closest(Q),f=h.attr("href"),g=!!f&&f!==e("<a href='#' />").attr("href");if(s.openOnClick||!p.children(tt)[0]){if(p.hasClass($))return n.preventDefault(),t;if(n.handled||!o.trigger(M,{item:p[0]})||u||n.preventDefault(),n.handled=!0,a=p.children(G),r=a.is(":visible"),s.closeOnClick&&!g&&(!a.length||s.openOnClick&&r))return p.removeClass(V).css("height"),o._oldHoverItem=o._findRootParent(p),o.close(h.parentsUntil(o.element,Q)),o.clicked=!1,-1!="MSPointerUp".indexOf(n.type)&&n.preventDefault(),t;
g&&n.enterKey&&h[0].click(),(p.parent().hasClass(C)&&s.openOnClick||l.support.touch)&&(g||u||n.preventDefault(),o.clicked=!0,i=a.is(":visible")?D:x,(s.closeOnClick||i!=D)&&o[i](p))}},_documentClick:function(e){a(this.element[0],e.target)||(this.clicked=!1)},_focus:function(n){var i=this,a=n.target,r=i._hoverItem(),o=c();return a==i.wrapper[0]||e(a).is(":kendoFocusable")?(o===n.currentTarget&&(r.length?i._moveHover([],r):i._oldHoverItem||i._moveHover([],i.wrapper.children().first())),t):(n.stopPropagation(),e(a).closest(".k-content").closest(".k-group").closest(".k-item").addClass(q),i.wrapper.focus(),t)},_keydown:function(e){var n,i,a,r=this,o=e.keyCode,s=r._oldHoverItem,d=l.support.isRtl(r.wrapper);if(e.target==e.currentTarget||o==b.ESC){if(s||(s=r._oldHoverItem=r._hoverItem()),i=r._itemBelongsToVertival(s),a=r._itemHasChildren(s),o==b.RIGHT)n=r[d?"_itemLeft":"_itemRight"](s,i,a);else if(o==b.LEFT)n=r[d?"_itemRight":"_itemLeft"](s,i,a);else if(o==b.DOWN)n=r._itemDown(s,i,a);else if(o==b.UP)n=r._itemUp(s,i,a);else if(o==b.ESC)n=r._itemEsc(s,i);else if(o==b.ENTER||o==b.SPACEBAR)n=s.children(".k-link"),n.length>0&&(r._click({target:n[0],preventDefault:function(){},enterKey:!0}),r._moveHover(s,r._findRootParent(s)));else if(o==b.TAB)return n=r._findRootParent(s),r._moveHover(s,n),r._checkActiveElement(),t;n&&n[0]&&(e.preventDefault(),e.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(e){var t=this.wrapper.hasClass("k-menu-vertical");return e.length?e.parent().hasClass("k-group")||t:t},_itemHasChildren:function(e){return e.length?e.children("ul.k-group, div.k-animation-container").length>0:!1},_moveHover:function(t,n){var i=this,a=i._ariaId;t.length&&n.length&&t.removeClass(q),n.length&&(n[0].id&&(a=n[0].id),n.addClass(q),i._oldHoverItem=n,a&&(i.element.removeAttr("aria-activedescendant"),e("#"+a).removeAttr("id"),n.attr("id",a),i.element.attr("aria-activedescendant",a)))},_findRootParent:function(e){return e.parent().hasClass("k-menu")?e:e.parentsUntil(".k-menu","li.k-item").last()},_isRootItem:function(e){return e.parent().hasClass("k-menu")},_itemRight:function(e,t,n){var i,a,r=this;return e.hasClass($)?void 0:(t?n?(r.open(e),i=e.find(".k-group").children().first()):"horizontal"==r.options.orientation&&(a=r._findRootParent(e),r.close(a),i=a.nextAll(Z)):(i=e.nextAll(Z),i.length||(i=e.prevAll(et))),i&&!i.length?i=r.wrapper.children(".k-item").first():i||(i=[]),r._moveHover(e,i),i)},_itemLeft:function(e,t){var n,i=this;return t?(n=e.parent().closest(".k-item"),i.close(n),i._isRootItem(n)&&"horizontal"==i.options.orientation&&(n=n.prevAll(Z))):(n=e.prevAll(Z),n.length||(n=e.nextAll(et))),n.length||(n=i.wrapper.children(".k-item").last()),i._moveHover(e,n),n},_itemDown:function(e,t,n){var i,a=this;if(t)i=e.nextAll(Z);else{if(!n||e.hasClass($))return;a.open(e),i=e.find(".k-group").children().first()}return!i.length&&e.length?i=e.parent().children().first():e.length||(i=a.wrapper.children(".k-item").first()),a._moveHover(e,i),i},_itemUp:function(e,t){var n,i=this;return t?(n=e.prevAll(Z),!n.length&&e.length?n=e.parent().children().last():e.length||(n=i.wrapper.children(".k-item").last()),i._moveHover(e,n),n):void 0},_itemEsc:function(e,t){var n,i=this;return t?(n=e.parent().closest(".k-item"),i.close(n),i._moveHover(e,n),n):e},_focusHandler:function(t){var n=this,i=e(l.eventTarget(t)).closest(Q);setTimeout(function(){n._moveHover([],i),i.children(".k-content")[0]&&i.parent().closest(".k-item").removeClass(q)},200)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}});f(at,{renderItem:function(e){e=f({menu:{},group:{}},e);var t=nt.empty,n=e.item;return nt.item(f(e,{image:n.imageUrl?nt.image:t,sprite:n.spriteCssClass?nt.sprite:t,itemWrapper:nt.itemWrapper,renderContent:at.renderContent,arrow:n.items||n.content?nt.arrow:t,subGroup:at.renderGroup},it))},renderGroup:function(e){return nt.group(f({renderItems:function(e){for(var t="",n=0,i=e.items,a=i?i.length:0,r=f({length:a},e.group);a>n;n++)t+=at.renderItem(f(e,{group:r,item:f({index:n},i[n])}));return t}},e,it))},renderContent:function(e){return nt.content(f(e,it))}}),l.ui.plugin(at)}(window.kendo.jQuery),function(e,t){function n(t){return e.trim(t).replace(/&nbsp;/gi,"")}function i(e,t){var n,i,a,r={};for(n=0,i=e.length;i>n;n++)a=e[n],r[a[t]]=a;return r}var a=window.kendo,r=a.ui,o=e.proxy,s=e.extend,l=e.grep,d=e.map,c=e.inArray,u="k-state-selected",h="asc",p="desc",f="change",g="init",m="select",v="kendoPopup",b="kendoFilterMenu",_="kendoMenu",y=".kendoColumnMenu",k=r.Widget,w=k.extend({init:function(t,n){var i,r=this;k.fn.init.call(r,t,n),t=r.element,n=r.options,r.owner=n.owner,r.dataSource=n.dataSource,r.field=t.attr(a.attr("field")),i=t.find(".k-header-column-menu"),i[0]||(i=t.addClass("k-with-icon").prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")),r.link=i.attr("tabindex",-1).on("click"+y,o(r._click,r)),r.wrapper=e('<div class="k-column-menu"/>')},_init:function(){var e=this;e.pane=e.options.pane,e.pane&&(e._isMobile=!0),e._isMobile?e._createMobileMenu():e._createMenu(),e._sort(),e._columns(),e._filter(),e._lockColumns(),e.trigger(g,{field:e.field,container:e.wrapper})},events:[g],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns",done:"Done",settings:"Column Settings",lock:"Lock",unlock:"Unlock"},filter:"",columns:!0,sortable:!0,filterable:!0,animations:{left:"slide"}},_createMenu:function(){var e=this,t=e.options;e.wrapper.html(a.template(x)({ns:a.ns,messages:t.messages,sortable:t.sortable,filterable:t.filterable,columns:e._ownerColumns(),showColumns:t.columns,lockedColumns:t.lockedColumns})),e.popup=e.wrapper[v]({anchor:e.link,open:o(e._open,e),activate:o(e._activate,e),close:function(){e.options.closeCallback&&e.options.closeCallback(e.element)}}).data(v),e.menu=e.wrapper.children()[_]({orientation:"vertical",closeOnClick:!1}).data(_)},_createMobileMenu:function(){var e=this,t=e.options,n=a.template(C)({ns:a.ns,field:e.field,messages:t.messages,sortable:t.sortable,filterable:t.filterable,columns:e._ownerColumns(),showColumns:t.columns,lockedColumns:t.lockedColumns});e.view=e.pane.append(n),e.wrapper=e.view.element.find(".k-column-menu"),e.menu=new T(e.wrapper.children(),{pane:e.pane}),e.view.element.on("click",".k-done",function(t){e.close(),t.preventDefault()}),e.options.lockedColumns&&e.view.bind("show",function(){e._updateLockedColumns()})},destroy:function(){var e=this;k.fn.destroy.call(e),e.filterMenu&&e.filterMenu.destroy(),e._refreshHandler&&e.dataSource.unbind(f,e._refreshHandler),e.options.columns&&e.owner&&(e.owner.unbind("columnShow",e._updateColumnsMenuHandler),e.owner.unbind("columnHide",e._updateColumnsMenuHandler)),e.menu&&(e.menu.element.off(y),e.menu.destroy()),e.wrapper.off(y),e.popup&&e.popup.destroy(),e.view&&e.view.purge(),e.link.off(y),e.owner=null,e.wrapper=null,e.element=null},close:function(){this.menu.close(),this.popup&&(this.popup.close(),this.popup.element.off("keydown"+y))},_click:function(e){e.preventDefault(),e.stopPropagation();var t=this.options;t.filter&&this.element.is(!t.filter)||(this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle())},_open:function(){var t=this;e(".k-column-menu").not(t.wrapper).each(function(){e(this).data(v).close()}),t.popup.element.on("keydown"+y,function(e){e.keyCode==a.keys.ESC&&t.close()}),t.options.lockedColumns&&t._updateLockedColumns()},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var e=this.owner.columns,t=l(e,function(e){var t=!0,i=n(e.title||"");return(e.menu===!1||!e.field&&!i.length)&&(t=!1),t});return d(t,function(t){return{originalField:t.field,field:t.field||t.title,title:t.title||t.field,hidden:t.hidden,index:c(t,e),locked:!!t.locked}})},_sort:function(){var t=this;t.options.sortable&&(t.refresh(),t._refreshHandler=o(t.refresh,t),t.dataSource.bind(f,t._refreshHandler),t.menu.bind(m,function(n){var i,a=e(n.item);a.hasClass("k-sort-asc")?i=h:a.hasClass("k-sort-desc")&&(i=p),i&&(a.parent().find(".k-sort-"+(i==h?p:h)).removeClass(u),t._sortDataSource(a,i),t.close())}))},_sortDataSource:function(e,n){var i,a,r=this,o=r.options.sortable,s=r.dataSource,l=s.sort()||[];if(e.hasClass(u)&&o&&o.allowUnsort!==!1?(e.removeClass(u),n=t):e.addClass(u),o===!0||"single"===o.mode)l=[{field:r.field,dir:n}];else{for(i=0,a=l.length;a>i;i++)if(l[i].field===r.field){l.splice(i,1);break}l.push({field:r.field,dir:n})}s.sort(l)},_columns:function(){var t=this;t.options.columns&&(t._updateColumnsMenu(),t._updateColumnsMenuHandler=o(t._updateColumnsMenu,t),t.owner.bind(["columnHide","columnShow"],t._updateColumnsMenuHandler),t.menu.bind(m,function(n){var i,r,o,s,d=e(n.item),u=t.owner.columns;t._isMobile&&n.preventDefault(),d.parent().closest("li.k-columns-item")[0]&&(i=d.find(":checkbox"),i.attr("disabled")||(s=i.attr(a.attr("field")),o=l(u,function(e){return e.field==s||e.title==s})[0],r=c(o,u),o.hidden===!0?t.owner.showColumn(r):t.owner.hideColumn(r)))}))},_updateColumnsMenu:function(){var e,t,n,i,r,o,s=a.attr("field"),u=a.attr("locked"),h=l(this._ownerColumns(),function(e){return!e.hidden}),p=l(h,function(e){return e.originalField}),f=l(p,function(e){return e.locked===!0}).length,g=l(p,function(e){return e.locked!==!0}).length;for(h=d(h,function(e){return e.field}),o=this.wrapper.find(".k-columns-item input["+s+"]").prop("disabled",!1).prop("checked",!1),e=0,t=o.length;t>e;e++)n=o.eq(e),r="true"===n.attr(u),i=!1,c(n.attr(s),h)>-1&&(i=!0,n.prop("checked",i)),i&&(1==f&&r&&n.prop("disabled",!0),1!=g||r||n.prop("disabled",!0))},_updateColumnsLockedState:function(){var e,t,n,r,o=a.attr("field"),s=a.attr("locked"),l=i(this._ownerColumns(),"field"),d=this.wrapper.find(".k-columns-item input[type=checkbox]");for(e=0,t=d.length;t>e;e++)n=d.eq(e),r=l[n.attr(o)],r&&n.attr(s,r.locked);this._updateColumnsMenu()},_filter:function(){var t=this,n=t.options;n.filterable!==!1&&(t.filterMenu=t.wrapper.find(".k-filterable")[b](s(!0,{},{appendToElement:!0,dataSource:n.dataSource,values:n.values,field:t.field},n.filterable)).data(b),t._isMobile&&t.menu.bind(m,function(n){var i=e(n.item);i.hasClass("k-filter-item")&&t.pane.navigate(t.filterMenu.view,t.options.animations.left)}))},_lockColumns:function(){var t=this;t.menu.bind(m,function(n){var i=e(n.item);i.hasClass("k-lock")?(t.owner.lockColumn(t.field),t.close()):i.hasClass("k-unlock")&&(t.owner.unlockColumn(t.field),t.close())})},_updateLockedColumns:function(){var e=this.field,t=this.owner.columns,n=l(t,function(t){return t.field==e||t.title==e})[0],i=n.locked===!0,a=l(t,function(e){return!e.hidden&&(e.locked&&i||!e.locked&&!i)}).length,r=this.wrapper.find(".k-lock").removeClass("k-state-disabled"),o=this.wrapper.find(".k-unlock").removeClass("k-state-disabled");(i||1==a)&&r.addClass("k-state-disabled"),i&&1!=a||o.addClass("k-state-disabled"),this._updateColumnsLockedState()},refresh:function(){var e,t,n,i=this,a=i.options.dataSource.sort()||[],r=i.field;for(i.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(u),t=0,n=a.length;n>t;t++)e=a[t],r==e.field&&i.wrapper.find(".k-sort-"+e.dir).addClass(u)}}),x='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li><input type="checkbox" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</li>#}#</ul></li>#if(filterable || lockedColumns){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#if(lockedColumns){#<li class="k-separator"></li>#}##}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}#</ul>',C='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-column-menu"><div data-#=ns#role="header" class="k-header">${messages.settings}<button class="k-button k-done">#=messages.done#</button></div><div class="k-column-menu k-mobile-list"><ul><li><span class="k-link">${field}</span><ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link k-filterable"><span class="k-sprite k-filter"></span>${messages.filter}</span></li>#}#</ul></li>#if(showColumns){#<li class="k-columns-item"><span class="k-link">${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li class="k-item"><label class="k-label"><input type="checkbox" class="k-check" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</label></li>#}#</ul></li>#}#</ul></div></div>',T=k.extend({init:function(e,t){k.fn.init.call(this,e,t),this.element.on("click"+y,"li:not(.k-separator):not(.k-state-disabled)","_click")},events:[m],_click:function(e){e.preventDefault(),this.trigger(m,{item:e.currentTarget})},close:function(){this.options.pane.navigate("")},destroy:function(){k.fn.destroy.call(this),this.element.off(y)}});r.plugin(w)}(window.kendo.jQuery),function(e,t){function n(t){return t=null!=t?t:"",t.type||e.type(t)||"string"}function i(t){t.find(":input:not(:button, ["+s.attr("role")+"=upload], ["+s.attr("skip")+"], [type=file]), select").each(function(){var t=s.attr("bind"),n=this.getAttribute(t)||"",i="checkbox"===this.type||"radio"===this.type?"checked:":"value:",a=this.name;-1===n.indexOf(i)&&a&&(n+=(n.length?",":"")+i+a,e(this).attr(t,n))})}function a(e){var t,i,a=(e.model.fields||e.model)[e.field],r=n(a),o=a?a.validation:{},l=s.attr("type"),d=s.attr("bind"),c={name:e.field};for(t in o)i=o[t],f(t,b)>=0?c[l]=t:h(i)||(c[t]=p(i)?i.value||t:i),c[s.attr(t+"-msg")]=i.message;return f(r,b)>=0&&(c[l]=r),c[d]=("boolean"===r?"checked:":"value:")+e.field,c}function r(e){var t,n,i,a,r,o;if(e&&e.length)for(o=[],t=0,n=e.length;n>t;t++)i=e[t],r=i.text||i.value||i,a=null==i.value?i.text||i:i.value,o[t]={text:r,value:a};return o}function o(e,t){var n,i,a=e?e.validation||{}:{};for(n in a)i=a[n],p(i)&&i.value&&(i=i.value),h(i)&&(t[n]=i)}var s=window.kendo,l=s.ui,d=l.Widget,c=e.extend,u=s.support.browser.msie&&9>s.support.browser.version,h=s.isFunction,p=e.isPlainObject,f=e.inArray,g=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,m='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',v="change",b=["url","email","number","date","boolean"],_={number:function(t,n){var i=a(n);e('<input type="text"/>').attr(i).appendTo(t).kendoNumericTextBox({format:n.format}),e("<span "+s.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},date:function(t,n){var i=a(n),r=n.format;r&&(r=s._extractFormat(r)),i[s.attr("format")]=r,e('<input type="text"/>').attr(i).appendTo(t).kendoDatePicker({format:n.format}),e("<span "+s.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},string:function(t,n){var i=a(n);e('<input type="text" class="k-input k-textbox"/>').attr(i).appendTo(t)},"boolean":function(t,n){var i=a(n);e('<input type="checkbox" />').attr(i).appendTo(t)},values:function(t,n){var i=a(n);e("<select "+s.attr("text-field")+'="text"'+s.attr("value-field")+'="value"'+s.attr("source")+"='"+s.stringify(r(n.values)).replace(/\'/g,"&apos;")+"'"+s.attr("role")+'="dropdownlist"/>').attr(i).appendTo(t),e("<span "+s.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t)}},y=d.extend({init:function(t,n){var i=this;d.fn.init.call(i,t,n),i._validateProxy=e.proxy(i._validate,i),i.refresh()},events:[v],options:{name:"Editable",editors:_,clearContainer:!0,errorTemplate:m},editor:function(e,t){var i=this,a=i.options.editors,r=p(e),o=r?e.field:e,l=i.options.model||{},d=r&&e.values,u=d?"values":n(t),h=r&&e.editor,f=h?e.editor:a[u],m=i.element.find("["+s.attr("container-for")+"="+o.replace(g,"\\$1")+"]");f=f?f:a.string,h&&"string"==typeof e.editor&&(f=function(t){t.append(e.editor)}),m=m.length?m:i.element,f(m,c(!0,{},r?e:{field:o},{model:l}))},_validate:function(t){var n,i=this,a="boolean"==typeof t.value,r=i._validationEventInProgress,o={},l=s.attr("bind"),d=(a?"checked:":"value:")+t.field.replace(g,"\\$1");o[t.field]=t.value,n=e(":input["+l+'*="'+d+'"]',i.element).filter("["+s.attr("validate")+"!='false']"),n.length>1&&(n=n.filter(function(){return f(d,e(this).attr(l).split(","))>=0}));try{i._validationEventInProgress=!0,(!i.validatable.validateInput(n)||!r&&i.trigger(v,{values:o}))&&t.preventDefault()}finally{i._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var e=this;d.fn.destroy.call(e),e.options.model.unbind("set",e._validateProxy),s.unbind(e.element),e.validatable&&e.validatable.destroy(),s.destroy(e.element),e.element.removeData("kendoValidator")},refresh:function(){var n,a,r,l,d,c,h,f,g=this,m=g.options.fields||[],v=g.options.clearContainer?g.element.empty():g.element,b=g.options.model||{},_={};for(e.isArray(m)||(m=[m]),n=0,a=m.length;a>n;n++)r=m[n],l=p(r),d=l?r.field:r,c=(b.fields||b)[d],o(c,_),g.editor(r,c);if(!a){h=b.fields||b;for(d in h)o(h[d],_)}i(v),s.bind(v,g.options.model),g.options.model.bind("set",g._validateProxy),g.validatable=new s.ui.Validator(v,{validateOnBlur:!1,errorTemplate:g.options.errorTemplate||t,rules:_}),f=v.find(":kendoFocusable").eq(0).focus(),u&&f.focus()}});l.plugin(y)}(window.kendo.jQuery),function(e,t){function n(e){return t!==e}function i(e,t,n){return Math.max(Math.min(parseInt(e,10),1/0===n?n:parseInt(n,10)),parseInt(t,10))}function a(e,t){return function(){var n=this,i=n.wrapper,a=i[0].style,r=n.options;return r.isMaximized||r.isMinimized?void 0:(n.restoreOptions={width:a.width,height:a.height},i.children(x).hide().end().children(k).find(q).parent().hide().eq(0).before(J.action({name:"Restore"})),t.call(n),"maximize"==e?n.wrapper.children(k).find(G).parent().hide():n.wrapper.children(k).find(G).parent().show(),n)}}function r(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}function o(e){this.owner=e,this._draggable=new c(e.wrapper,{filter:x,group:e.wrapper.id+"-resizing",dragstart:p(this.dragstart,this),drag:p(this.drag,this),dragend:p(this.dragend,this)})}function s(e,t){this.owner=e,this._draggable=new c(e.wrapper,{filter:t,group:e.wrapper.id+"-moving",dragstart:p(this.dragstart,this),drag:p(this.drag,this),dragend:p(this.dragend,this),dragcancel:p(this.dragcancel,this)}),this._draggable.userEvents.stopPropagation=!1}var l=window.kendo,d=l.ui.Widget,c=l.ui.Draggable,u=e.isPlainObject,h=l._activeElement,p=e.proxy,f=e.extend,g=e.each,m=l.template,v="body",b=".kendoWindow",_=".k-window",y=".k-window-title",k=y+"bar",w=".k-window-content",x=".k-resize-handle",C=".k-overlay",T="k-content-frame",S="k-loading",D="k-state-hover",E="k-state-focused",F="k-window-maximized",A=":visible",M="hidden",H="cursor",z="open",I="activate",R="deactivate",N="close",P="refresh",O="resize",L="dragstart",B="dragend",j="error",W="overflow",V="zIndex",q=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",$=".k-i-pin",U=".k-i-unpin",G=$+","+U,Q=".k-window-titlebar .k-window-action",Y=".k-window-titlebar .k-i-refresh",K=l.isLocalUrl,X=d.extend({init:function(i,a){var o,s,c,h,f,g,m,v=this,x={},C=!1,T=a&&a.actions&&!a.actions.length;d.fn.init.call(v,i,a),a=v.options,h=a.position,i=v.element,f=a.content,T&&(a.actions=[]),v.appendTo=e(a.appendTo),v._animations(),f&&!u(f)&&(f=a.content={url:f}),i.find("script").filter(r).remove(),i.parent().is(v.appendTo)||h.top!==t&&h.left!==t||(i.is(A)?(x=i.offset(),C=!0):(s=i.css("visibility"),c=i.css("display"),i.css({visibility:M,display:""}),x=i.offset(),i.css({visibility:s,display:c})),h.top===t&&(h.top=x.top),h.left===t&&(h.left=x.left)),n(a.visible)&&null!==a.visible||(a.visible=i.is(A)),o=v.wrapper=i.closest(_),i.is(".k-content")&&o[0]||(i.addClass("k-window-content k-content"),v._createWindow(i,a),o=v.wrapper=i.closest(_),v._dimensions()),v._position(),a.pinned&&v.pin(!0),f&&v.refresh(f),a.visible&&v.toFront(),g=o.children(w),v._tabindex(g),a.visible&&a.modal&&v._overlay(o.is(A)).css({opacity:.5}),o.on("mouseenter"+b,Q,p(v._buttonEnter,v)).on("mouseleave"+b,Q,p(v._buttonLeave,v)).on("click"+b,"> "+Q,p(v._windowActionHandler,v)),g.on("keydown"+b,p(v._keydown,v)).on("focus"+b,p(v._focus,v)).on("blur"+b,p(v._blur,v)),this._resizable(),this._draggable(),m=i.attr("id"),m&&(m+="_wnd_title",o.children(k).children(y).attr("id",m),g.attr({role:"dialog","aria-labelledby":m})),o.add(o.children(".k-resize-handle,"+k)).on("mousedown"+b,p(v.toFront,v)),v.touchScroller=l.touchScroller(i),v._resizeHandler=p(v._onDocumentResize,v),e(window).on("resize",v._resizeHandler),a.visible&&(v.trigger(z),v.trigger(I)),l.notify(v)},_buttonEnter:function(){e(this).addClass(D)},_buttonLeave:function(){e(this).removeClass(D)},_focus:function(){this.wrapper.addClass(E)},_blur:function(){this.wrapper.removeClass(E)},_dimensions:function(){var e,t,n=this.wrapper,a=this.options,r=a.width,o=a.height,s=a.maxHeight,l=["minWidth","minHeight","maxWidth","maxHeight"];for(this.title(a.title),e=0;l.length>e;e++)t=a[l[e]],t&&1/0!=t&&n.css(l[e],t);s&&1/0!=s&&this.element.css("maxHeight",s),r&&n.width((""+r).indexOf("%")>0?r:i(r,a.minWidth,a.maxWidth)),o&&n.height((""+o).indexOf("%")>0?o:i(o,a.minHeight,a.maxHeight)),a.visible||n.hide()},_position:function(){var e=this.wrapper,t=this.options.position;0===t.top&&(t.top=""+t.top),0===t.left&&(t.left=""+t.left),e.css({top:t.top||"",left:t.left||""})},_animations:function(){var e=this.options;e.animation===!1&&(e.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},_resize:function(){l.resize(this.element.children())},_resizable:function(){var t=this.options.resizable,n=this.wrapper;this.resizing&&(n.off("dblclick"+b).children(x).remove(),this.resizing.destroy(),this.resizing=null),t&&(n.on("dblclick"+b,k,p(function(t){e(t.target).closest(".k-window-action").length||this.toggleMaximization()},this)),g("n e s w se sw ne nw".split(" "),function(e,t){n.append(J.resizeHandle(t))}),this.resizing=new o(this)),n=null},_draggable:function(){var e=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null),e&&(this.dragging=new s(this,e.dragHandle||k))},setOptions:function(e){d.fn.setOptions.call(this,e),this._animations(),this._dimensions(),this._position(),this._resizable(),this._draggable()},events:[z,I,R,N,P,O,L,B,j],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,pinned:!1,position:{},content:null,visible:null,height:null,width:null,appendTo:"body"},_closable:function(){return e.inArray("close",e.map(this.options.actions,function(e){return e.toLowerCase()}))>-1},_keydown:function(e){var t,n,a,r,o,s,d=this,c=d.options,u=l.keys,h=e.keyCode,p=d.wrapper,f=10,g=d.options.isMaximized;e.target!=e.currentTarget||d._closing||(h==u.ESC&&d._closable()&&d._close(!1),!c.draggable||e.ctrlKey||g||(t=l.getOffset(p),h==u.UP?n=p.css("top",t.top-f):h==u.DOWN?n=p.css("top",t.top+f):h==u.LEFT?n=p.css("left",t.left-f):h==u.RIGHT&&(n=p.css("left",t.left+f))),c.resizable&&e.ctrlKey&&!g&&(h==u.UP?(n=!0,r=p.height()-f):h==u.DOWN&&(n=!0,r=p.height()+f),h==u.LEFT?(n=!0,a=p.width()-f):h==u.RIGHT&&(n=!0,a=p.width()+f),n&&(o=i(a,c.minWidth,c.maxWidth),s=i(r,c.minHeight,c.maxHeight),isNaN(o)||(p.width(o),d.options.width=o+"px"),isNaN(s)||(p.height(s),d.options.height=s+"px"),d.resize())),n&&e.preventDefault())},_overlay:function(t){var n=this.appendTo.children(C),i=this.wrapper;return n.length||(n=e("<div class='k-overlay' />")),n.insertBefore(i[0]).toggle(t).css(V,parseInt(i.css(V),10)-1),n},_actionForIcon:function(e){var t=/\bk-i-\w+\b/.exec(e[0].className)[0];return{"k-i-close":"_close","k-i-maximize":"maximize","k-i-minimize":"minimize","k-i-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[t]},_windowActionHandler:function(n){var i,a;return this._closing?void 0:(i=e(n.target).closest(".k-window-action").find(".k-icon"),a=this._actionForIcon(i),a?(n.preventDefault(),this[a](),!1):t)},_modals:function(){var t=this,n=e(_).filter(function(){var n=e(this),i=t._object(n),a=i&&i.options;return a&&a.modal&&a.visible&&n.is(A)}).sort(function(t,n){return+e(t).css("zIndex")-+e(n).css("zIndex")});return t=null,n},_object:function(e){var t=e.children(w);return t.data("kendoWindow")||t.data("kendo"+this.options.name)},center:function(){var t,n,i=this,a=i.options.position,r=i.wrapper,o=e(window),s=0,l=0;return i.options.isMaximized?i:(i.options.pinned||(s=o.scrollTop(),l=o.scrollLeft()),n=l+Math.max(0,(o.width()-r.width())/2),t=s+Math.max(0,(o.height()-r.height())/2),r.css({left:n,top:t}),a.top=t,a.left=n,i)},title:function(e){var t=this,n=t.wrapper,i=t.options,a=n.children(k),r=a.children(y),o=a.outerHeight();return arguments.length?(e===!1?(n.addClass("k-window-titleless"),a.remove()):(a.length||n.prepend(J.titlebar(f(J,i))),n.css("padding-top",o),a.css("margin-top",-o)),r.text(e),t.options.title=e,t):r.text()},content:function(e){var t=this.wrapper.children(w),i=t.children(".km-scroll-container");return t=i[0]?i:t,n(e)?(l.destroy(this.element.children()),t.empty().html(e),this):t.html()},open:function(){var t,n,i=this,a=i.wrapper,r=i.options,o=r.animation.open,s=a.children(w);return i.trigger(z)||(i._closing&&a.kendoStop(!0,!0),i._closing=!1,i.toFront(),r.autoFocus&&i.element.focus(),r.visible=!0,r.modal&&(t=i._overlay(!1),t.kendoStop(!0,!0),o.duration&&l.effects.Fade?(n=l.fx(t).fadeIn(),n.duration(o.duration||0),n.endValue(.5),n.play()):t.css("opacity",.5),t.show()),a.is(A)||(s.css(W,M),a.show().kendoStop().kendoAnimate({effects:o.effects,duration:o.duration,complete:p(this._activate,this)}))),r.isMaximized&&(i._documentScrollTop=e(document).scrollTop(),e("html, body").css(W,M)),i},_activate:function(){this.options.autoFocus&&this.element.focus(),this.trigger(I),this.wrapper.children(w).css(W,"")},_removeOverlay:function(n){var i,a=this._modals(),r=this.options,o=r.modal&&!a.length,s=r.modal?this._overlay(!0):e(t),d=r.animation.close;o?!n&&d.duration&&l.effects.Fade?(i=l.fx(s).fadeOut(),i.duration(d.duration||0),i.startValue(.5),i.play()):this._overlay(!1).remove():a.length&&this._object(a.last())._overlay(!0)},_close:function(t){var n=this,i=n.wrapper,a=n.options,r=a.animation.open,o=a.animation.close;i.is(A)&&!n.trigger(N,{userTriggered:!t})&&(n._closing=!0,a.visible=!1,e(_).each(function(t,n){var a=e(n).children(w);n!=i&&a.find("> ."+T).length>0&&a.children(C).remove()}),this._removeOverlay(),i.kendoStop().kendoAnimate({effects:o.effects||r.effects,reverse:o.reverse===!0,duration:o.duration,complete:p(this._deactivate,this)})),n.options.isMaximized&&(e("html, body").css(W,""),n._documentScrollTop&&n._documentScrollTop>0&&e(document).scrollTop(n._documentScrollTop))},_deactivate:function(){this.wrapper.hide().css("opacity",""),this.trigger(R);var e=this._object(this._modals().last());e&&e.toFront()},close:function(){return this._close(!0),this},_actionable:function(t){return e(t).is(Q+","+Q+" .k-icon,:input,a")},_shouldFocus:function(t){var n=h(),i=this.element;return!(!this.options.autoFocus||e(n).is(i)||this._actionable(t)||i.find(n).length&&i.find(t).length)},toFront:function(t){var n,i,a=this,r=a.wrapper,o=r[0],s=+r.css(V),l=s,d=t&&t.target||null;return e(_).each(function(t,n){var i=e(n),a=i.css(V),r=i.children(w);isNaN(a)||(s=Math.max(+a,s)),n!=o&&r.find("> ."+T).length>0&&r.append(J.overlay)}),(!r[0].style.zIndex||s>l)&&r.css(V,s+2),a.element.find("> .k-overlay").remove(),a._shouldFocus(d)&&(a.element.focus(),n=e(window).scrollTop(),i=parseInt(r.position().top,10),i>0&&n>i&&(n>0?e(window).scrollTop(i):r.css("top",n))),r=null,a},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var t=this,n=t.options,i=n.minHeight,a=t.restoreOptions;return n.isMaximized||n.isMinimized?(i&&1/0!=i&&t.wrapper.css("min-height",i),t.wrapper.css({position:n.pinned?"fixed":"absolute",left:a.left,top:a.top,width:a.width,height:a.height}).removeClass(F).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(q).parent().show().end().end().find(G).parent().show(),t.options.width=a.width,t.options.height=a.height,e("html, body").css(W,""),this._documentScrollTop&&this._documentScrollTop>0&&e(document).scrollTop(this._documentScrollTop),n.isMaximized=n.isMinimized=!1,t.resize(),t):t},maximize:a("maximize",function(){var t=this,n=t.wrapper,i=n.position();f(t.restoreOptions,{left:i.left,top:i.top}),n.css({left:0,top:0,position:"fixed"}).addClass(F),this._documentScrollTop=e(document).scrollTop(),e("html, body").css(W,M),t.options.isMaximized=!0,t._onDocumentResize()}),minimize:a("minimize",function(){var e=this;e.wrapper.css({height:"",minHeight:""}),e.element.hide(),e.options.isMinimized=!0}),pin:function(t){var n=this,i=e(window),a=n.wrapper,r=parseInt(a.css("top"),10),o=parseInt(a.css("left"),10);(t||!n.options.pinned&&!n.options.isMaximized)&&(a.css({position:"fixed",top:r-i.scrollTop(),left:o-i.scrollLeft()}),a.children(k).find($).addClass("k-i-unpin").removeClass("k-i-pin"),n.options.pinned=!0)},unpin:function(){var t=this,n=e(window),i=t.wrapper,a=parseInt(i.css("top"),10),r=parseInt(i.css("left"),10);t.options.pinned&&!t.options.isMaximized&&(i.css({position:"",top:a+n.scrollTop(),left:r+n.scrollLeft()}),i.children(k).find(U).addClass("k-i-pin").removeClass("k-i-unpin"),t.options.pinned=!1)},_onDocumentResize:function(){var t,n,i=this,a=i.wrapper,r=e(window);i.options.isMaximized&&(t=r.width(),n=r.height()-parseInt(a.css("padding-top"),10),a.css({width:t,height:n}),i.options.width=t,i.options.height=n,i.resize())},refresh:function(t){var i,a,r,o=this,s=o.options,l=e(o.element);return u(t)||(t={url:t}),t=f({},s.content,t),a=n(s.iframe)?s.iframe:t.iframe,r=t.url,r?(n(a)||(a=!K(r)),a?(i=l.find("."+T)[0],i?i.src=r||i.src:l.html(J.contentFrame(f({},s,{content:t}))),l.find("."+T).unbind("load"+b).on("load"+b,p(this._triggerRefresh,this))):o._ajaxRequest(t)):(t.template&&o.content(m(t.template)({})),o.trigger(P)),l.toggleClass("k-window-iframecontent",a),o},_triggerRefresh:function(){this.trigger(P)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout),this.wrapper.find(Y).removeClass(S)},_ajaxError:function(e,t){this.trigger(j,{status:t,xhr:e})},_ajaxSuccess:function(e){return function(t){e&&(t=m(e)(t||{})),this.content(t),this.element.prop("scrollTop",0),this.trigger(P)}},_showLoading:function(){this.wrapper.find(Y).addClass(S)},_ajaxRequest:function(t){this._loadingIconTimeout=setTimeout(p(this._showLoading,this),100),e.ajax(f({type:"GET",dataType:"html",cache:!1,error:p(this._ajaxError,this),complete:p(this._ajaxComplete,this),success:p(this._ajaxSuccess(t.template),this)},t))},destroy:function(){this.resizing&&this.resizing.destroy(),this.dragging&&this.dragging.destroy(),this.wrapper.off(b).children(w).off(b).end().find(".k-resize-handle,.k-window-titlebar").off(b),e(window).off("resize",this._resizeHandler),clearTimeout(this._loadingIconTimeout),d.fn.destroy.call(this),this.unbind(t),l.destroy(this.wrapper),this._removeOverlay(!0),this.wrapper.empty().remove(),this.wrapper=this.appendTo=this.element=e()
},_createWindow:function(){var t,n,i=this.element,a=this.options,r=l.support.isRtl(i);a.scrollable===!1&&i.attr("style","overflow:hidden;"),n=e(J.wrapper(a)),a.title!==!1&&n.append(J.titlebar(f(J,a))),t=i.find("iframe:not(.k-content)").map(function(){var e=this.getAttribute("src");return this.src="",e}),n.toggleClass("k-rtl",r).appendTo(this.appendTo).append(i).find("iframe:not(.k-content)").each(function(e){this.src=t[e]}),n.find(".k-window-title").css(r?"left":"right",n.find(".k-window-actions").outerWidth()+10),i.show(),i.find("[data-role=editor]").each(function(){var t=e(this).data("kendoEditor");t&&t.refresh()}),n=i=null}}),J={wrapper:m("<div class='k-widget k-window' />"),action:m("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:m("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),overlay:"<div class='k-overlay' />",contentFrame:m("<iframe frameborder='0' title='#= title #' class='"+T+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:m("<div class='k-resize-handle k-resize-#= data #'></div>")};o.prototype={dragstart:function(t){var n=this.owner,i=n.wrapper;this.elementPadding=parseInt(n.wrapper.css("padding-top"),10),this.initialCursorPosition=l.getOffset(i,"position"),this.resizeDirection=t.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),this.initialSize={width:i.width(),height:i.height()},this.containerOffset=l.getOffset(n.appendTo),i.append(J.overlay).children(x).not(t.currentTarget).hide(),e(v).css(H,t.currentTarget.css(H))},drag:function(e){var t,n,a,r,o=this,s=o.owner,l=s.wrapper,d=s.options,c=o.resizeDirection,u=o.containerOffset,h=o.initialCursorPosition,p=o.initialSize,f=Math.max(e.x.location,u.left),g=Math.max(e.y.location,u.top);c.indexOf("e")>=0?(t=f-h.left,l.width(i(t,d.minWidth,d.maxWidth))):c.indexOf("w")>=0&&(r=h.left+p.width,t=i(r-f,d.minWidth,d.maxWidth),l.css({left:r-t-u.left,width:t})),c.indexOf("s")>=0?(n=g-h.top-o.elementPadding,l.height(i(n,d.minHeight,d.maxHeight))):c.indexOf("n")>=0&&(a=h.top+p.height,n=i(a-g,d.minHeight,d.maxHeight),l.css({top:a-n-u.top,height:n})),t&&(s.options.width=t+"px"),n&&(s.options.height=n+"px"),s.resize()},dragend:function(t){var n=this,i=n.owner,a=i.wrapper;return a.find(C).remove().end().children(x).not(t.currentTarget).show(),e(v).css(H,""),i.touchScroller&&i.touchScroller.reset(),27==t.keyCode&&a.css(n.initialCursorPosition).css(n.initialSize),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},s.prototype={dragstart:function(t){var n=this.owner,i=n.element,a=i.find(".k-window-actions"),r=l.getOffset(n.appendTo);n.trigger(L),n.initialWindowPosition=l.getOffset(n.wrapper,"position"),n.startPosition={left:t.x.client-n.initialWindowPosition.left,top:t.y.client-n.initialWindowPosition.top},n.minLeftPosition=a.length>0?a.outerWidth()+parseInt(a.css("right"),10)-i.outerWidth():20-i.outerWidth(),n.minLeftPosition-=r.left,n.minTopPosition=-r.top,n.wrapper.append(J.overlay).children(x).hide(),e(v).css(H,t.currentTarget.css(H))},drag:function(t){var n=this.owner,i=n.options.position,a=Math.max(t.y.client-n.startPosition.top,n.minTopPosition),r=Math.max(t.x.client-n.startPosition.left,n.minLeftPosition),o={left:r,top:a};e(n.wrapper).css(o),i.top=a,i.left=r},_finishDrag:function(){var t=this.owner;t.wrapper.children(x).toggle(!t.options.isMinimized).end().find(C).remove(),e(v).css(H,"")},dragcancel:function(e){this._finishDrag(),e.currentTarget.closest(_).css(this.owner.initialWindowPosition)},dragend:function(){return this._finishDrag(),this.owner.trigger(B),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},l.ui.plugin(X)}(window.kendo.jQuery),function(e,t){function n(e){var t,n,i=e.find(y("popover")),a=s.roles;for(t=0,n=i.length;n>t;t++)r.initWidget(i[t],{},a)}function i(e){r.triggeredByInput(e)||e.preventDefault()}function a(t){t.each(function(){r.initWidget(e(this),{},s.roles)})}var r=window.kendo,o=r.mobile,s=o.ui,l=r.attr,d=s.Widget,c=r.ViewClone,u="init",h='<div style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none" />',p="beforeShow",f="show",g="afterShow",m="beforeHide",v="hide",b="destroy",_=r.attrValue,y=r.roleSelector,k=d.extend({init:function(t,n){d.fn.init.call(this,t,n),this.params={},e.extend(this,n),this.transition=this.transition||this.defaultTransition,this._id(),this._layout(),this._overlay(),this._scroller(),this._model()},events:[u,p,f,g,m,v,b],options:{name:"View",title:"",reload:!1,transition:"",defaultTransition:"",useNativeScrolling:!1,stretch:!1,zoom:!1,model:null,initWidgets:!0},enable:function(e){t===e&&(e=!0),e?this.overlay.hide():this.overlay.show()},destroy:function(){this.layout&&this.layout.detach(this),this.trigger(b),d.fn.destroy.call(this),this.scroller&&this.scroller.destroy(),r.destroy(this.element)},purge:function(){this.destroy(),this.element.remove()},triggerBeforeShow:function(){return this.trigger(p,{view:this})?!1:!0},showStart:function(){var e=this;e.element.css("display",""),e.inited||(e.inited=!0,e.trigger(u,{view:e})),e.layout&&e.layout.attach(e),e._padIfNativeScrolling(),e.trigger(f,{view:e}),r.resize(e.element)},showEnd:function(){this.trigger(g,{view:this}),this._padIfNativeScrolling()},hideStart:function(){this.trigger(m,{view:this})},hideEnd:function(){var e=this;e.element.hide(),e.trigger(v,{view:e})},_padIfNativeScrolling:function(){if(o.appLevelNativeScrolling()){var e=r.support.mobileOS&&r.support.mobileOS.android,t=e?"footer":"header",n=e?"header":"footer";this.content.css({paddingTop:this[t].height(),paddingBottom:this[n].height()})}},contentElement:function(){var e=this;return e.options.stretch?e.content:e.scrollerContent},clone:function(){return new c(this)},_scroller:function(){var t=this;o.appLevelNativeScrolling()||(t.options.stretch?t.content.addClass("km-stretched-view"):(t.content.kendoMobileScroller({zoom:t.options.zoom,useNative:t.options.useNativeScrolling}),t.scroller=t.content.data("kendoMobileScroller"),t.scrollerContent=t.scroller.scrollElement),r.support.kineticScrollNeeded&&(e(t.element).on("touchmove",".km-header",i),t.options.useNativeScrolling||e(t.element).on("touchmove",".km-content",i)))},_model:function(){var e=this,t=e.element,i=e.options.model;"string"==typeof i&&(i=r.getter(i)(window)),e.model=i,n(t),e.element.css("display",""),e.options.initWidgets&&(i?r.bind(t.children(),i,s,r.ui,r.dataviz.ui):o.init(t.children())),e.element.css("display","none")},_id:function(){var e=this.element,t=e.attr("id")||"";this.id=_(e,"url")||"#"+t,"#"==this.id&&(this.id=r.guid(),e.attr("id",this.id))},_layout:function(){var e=this,t=y("content"),n=e.element;n.data("kendoView",e).addClass("km-view"),e.header=n.children(y("header")).addClass("km-header"),e.footer=n.children(y("footer")).addClass("km-footer"),n.children(t)[0]||n.wrapInner("<div "+l("role")+'="content"></div>'),e.content=n.children(y("content")).addClass("km-content"),e.element.prepend(e.header).append(e.footer),e.layout&&e.layout.setup(e)},_overlay:function(){this.overlay=e(h).appendTo(this.element)}}),w=d.extend({init:function(e,t){var i=this;d.fn.init.call(i,e,t),e=i.element,i.header=e.children(y("header")).addClass("km-header"),i.footer=e.children(y("footer")).addClass("km-footer"),i.elements=i.header.add(i.footer),n(e),r.mobile.init(i.element.children()),i.element.detach(),i.trigger(u,{layout:i})},options:{name:"Layout"},events:[u,f,v],setup:function(e){e.header[0]||(e.header=this.header),e.footer[0]||(e.footer=this.footer)},detach:function(e){var t=this;e.header===t.header&&t.header[0]&&e.element.prepend(t.header.detach()[0].cloneNode(!0)),e.footer===t.footer&&t.footer.length&&e.element.append(t.footer.detach()[0].cloneNode(!0)),t.trigger(v,{layout:t,view:e})},attach:function(e){var t=this,n=t.currentView;n&&t.detach(n),e.header===t.header&&(t.header.detach(),e.element.children(y("header")).remove(),e.element.prepend(t.header)),e.footer===t.footer&&(t.footer.detach(),e.element.children(y("footer")).remove(),e.element.append(t.footer)),t.trigger(f,{layout:t,view:e}),t.currentView=e}}),x=r.Observable,C=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,T="loadStart",S="loadComplete",D="showStart",E="sameViewRequested",F="viewShow",A="after",M=x.extend({init:function(t){var n,i,o,s=this;if(x.fn.init.call(s),e.extend(s,t),s.sandbox=e("<div />"),o=s.container,n=s._hideViews(o),s.rootView=n.first(),!s.rootView[0]&&t.rootNeeded)throw i=o[0]==r.mobile.application.element[0]?'Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.':'Your pane element does not contain any direct child elements with data-role="view" attribute set.',Error(i);s.layouts={},s.viewContainer=new r.ViewContainer(s.container),s.viewContainer.bind("accepted",function(e){e.view.params=s.params}),s.viewContainer.bind("complete",function(e){s.trigger(F,{view:e.view})}),s.viewContainer.bind(A,function(){s.trigger(A)}),s._setupLayouts(o),a(o.children(y("modalview drawer")))},destroy:function(){r.destroy(this.container);for(var e in this.layouts)this.layouts[e].destroy()},view:function(){return this.viewContainer.view},showView:function(e,t,n){if(e=e.replace(RegExp("^"+this.remoteViewURLPrefix),""),""===e&&this.remoteViewURLPrefix&&(e="/"),e===this.url)return this.trigger(E),!1;this.trigger(D);var i=this,a=function(n){return i.viewContainer.show(n,t,e)},r=i._findViewElement(e),o=r.data("kendoView");return i.url=e,i.params=n,o&&o.reload&&(o.purge(),r=[]),this.trigger("viewTypeDetermined",{remote:0===r.length,url:e}),r[0]?(o||(o=i._createView(r)),a(o)):(i._loadView(e,a),!0)},append:function(e,t){var n,i,r,o=this,s=o.sandbox,d=(t||"").split("?")[0],c=o.container;return C.test(e)&&(e=RegExp.$1),s[0].innerHTML=e,c.append(s.children("script, style")),n=o._hideViews(s),r=n.first(),r.length||(n=r=s.wrapInner("<div data-role=view />").children()),d&&r.hide().attr(l("url"),d),o._setupLayouts(s),i=s.children(y("modalview drawer")),c.append(s.children(y("layout modalview drawer")).add(n)),a(i),o._createView(r)},_findViewElement:function(e){var t,n=e.split("?")[0];return n?(t=this.container.children("["+l("url")+"='"+n+"']"),t[0]||-1!==n.indexOf("/")||(t=this.container.children("#"===n.charAt(0)?n:"#"+n)),t):this.rootView},_createView:function(e){var n,i=this,a=_(e,"layout");return t===a&&(a=i.layout),a&&(a=i.layouts[a]),n={defaultTransition:i.transition,loader:i.loader,container:i.container,layout:a,reload:_(e,"reload")},r.initWidget(e,n,s.roles)},_loadView:function(n,i){var a=this;return this.serverNavigation?(location.href=n,t):(a._xhr&&a._xhr.abort(),a.trigger(T),a._xhr=e.get(r.absoluteURL(n,a.remoteViewURLPrefix),function(e){a.trigger(S),i(a.append(e,n))},"html").fail(function(e){a.trigger(S),0===e.status&&e.responseText&&i(a.append(e.responseText,n))}),t)},_hideViews:function(e){return e.children(y("view splitview")).hide()},_setupLayouts:function(n){var i=this;n.children(y("layout")).each(function(){var n=e(this),a=_(n,"platform");(a===t||a===o.application.os.name)&&(i.layouts[r.attrValue(n,"id")]=r.initWidget(n,{},s.roles))})}});r.mobile.ViewEngine=M,s.plugin(k),s.plugin(w)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.mobile.ui,i=n.Widget,a=e.map(t.eventMap,function(e){return e}).join(" ").split(" "),r=i.extend({init:function(t,n){var a=this,r=e('<div class="km-loader"><span class="km-loading km-spin"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>');i.fn.init.call(a,r,n),a.container=t,a.captureEvents=!1,a._attachCapture(),r.append(a.options.loading).hide().appendTo(t)},options:{name:"Loader",loading:"<h1>Loading...</h1>",timeout:100},show:function(){var e=this;clearTimeout(e._loading),e.options.loading!==!1&&(e.captureEvents=!0,e._loading=setTimeout(function(){e.element.show()},e.options.timeout))},hide:function(){this.captureEvents=!1,clearTimeout(this._loading),this.element.hide()},changeMessage:function(e){this.options.loading=e,this.element.find(">h1").html(e)},transition:function(){this.captureEvents=!0,this.container.css("pointer-events","none")},transitionDone:function(){this.captureEvents=!1,this.container.css("pointer-events","")},_attachCapture:function(){function e(e){n.captureEvents&&e.preventDefault()}var t,n=this;for(n.captureEvents=!1,t=0;a.length>t;t++)n.container[0].addEventListener(a[t],e,!0)}});n.plugin(r)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.mobile,a=n.roleSelector,r=i.ui,o=r.Widget,s=i.ViewEngine,l=r.View,d=i.ui.Loader,c="external",u="href",h="#!",p="navigate",f="viewShow",g="sameViewRequested",m=/popover|actionsheet|modalview|drawer/,v="#:back",b=n.attrValue,_="button backbutton detailbutton listview-link",y="tab",k=o.extend({init:function(e,t){var i=this;o.fn.init.call(i,e,t),t=i.options,e=i.element,e.addClass("km-pane"),i.options.collapsible&&e.addClass("km-collapsible-pane"),this.history=[],this.historyCallback=function(e,t){var n=i.transition;return i.transition=null,i.viewEngine.showView(e,n,t)},this._historyNavigate=function(e){if(e===v){if(1===i.history.length)return;i.history.pop(),e=i.history[i.history.length-1]}else i.history.push(e);i.historyCallback(e,n.parseQueryStringParams(e))},this._historyReplace=function(e){var t=n.parseQueryStringParams(e);i.history[i.history.length-1]=e,i.historyCallback(e,t)},i.loader=new d(e,{loading:i.options.loading}),i.viewEngine=new s({container:e,transition:t.transition,rootNeeded:!t.initial,serverNavigation:t.serverNavigation,remoteViewURLPrefix:t.root||"",layout:t.layout,loader:i.loader}),i.viewEngine.bind("showStart",function(){i.loader.transition(),i.closeActiveDialogs()}),i.viewEngine.bind("after",function(){i.loader.transitionDone()}),i.viewEngine.bind(f,function(e){i.trigger(f,e)}),i.viewEngine.bind("loadStart",function(){i.loader.show()}),i.viewEngine.bind("loadComplete",function(){i.loader.hide()}),i.viewEngine.bind(g,function(){i.trigger(g)}),i.viewEngine.bind("viewTypeDetermined",function(e){e.remote&&i.options.serverNavigation||i.trigger(p,{url:e.url})}),this._setPortraitWidth(),n.onResize(function(){i._setPortraitWidth()}),i._setupAppLinks()},closeActiveDialogs:function(){var t=this.element.find(a("actionsheet popover modalview")).filter(":visible");t.each(function(){n.widgetInstance(e(this),r).close()})},navigateToInitial:function(){var e=this.options.initial;e&&this.navigate(e)},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:!1,initial:null,loading:"<h1>Loading...</h1>"},events:[p,f,g],append:function(e){return this.viewEngine.append(e)},destroy:function(){o.fn.destroy.call(this),this.viewEngine.destroy()},navigate:function(e,t){e instanceof l&&(e=e.id),this.transition=t,this._historyNavigate(e)},replace:function(e,t){e instanceof l&&(e=e.id),this.transition=t,this._historyReplace(e)},bindToRouter:function(e){var t=this,i=t.options,a=i.initial,r=this.viewEngine;e.bind("init",function(t){var i=t.url,o=e.pushState?i:"/";r.rootView.attr(n.attr("url"),o),"/"===i&&a&&(e.navigate(a,!0),t.preventDefault())}),e.bind("routeMissing",function(e){t.historyCallback(e.url,e.params)||e.preventDefault()}),e.bind("same",function(){t.trigger(g)}),t._historyNavigate=function(t){e.navigate(t)},t._historyReplace=function(t){e.replace(t)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(e){this.loader.changeMessage(e)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var e,t=this.options.portraitWidth;t&&(e=n.mobile.application.element.is(".km-vertical")?t:"auto",this.element.css("width",e))},_setupAppLinks:function(){this.element.handler(this).on("down",a(y),"_mouseup").on("up",a(_),"_mouseup").on("click",a(y+" "+_),"_appLinkClick")},_appLinkClick:function(t){var n=e(t.currentTarget).attr("href"),i=n&&"#"!==n[0]&&this.options.serverNavigation;i||b(e(t.currentTarget),"rel")==c||t.preventDefault()},_mouseup:function(a){if(!(a.which>1||a.isDefaultPrevented())){var o=this,s=e(a.currentTarget),l=b(s,"transition"),d=b(s,"rel")||"",p=b(s,"target"),f=s.attr(u),g=f&&"#"!==f[0]&&this.options.serverNavigation;g||d===c||t===f||f===h||(s.attr(u,h),setTimeout(function(){s.attr(u,f)}),d.match(m)?(n.widgetInstance(e(f),r).openFor(s),("actionsheet"===d||"drawer"===d)&&a.stopPropagation()):("_top"===p?o=i.application.pane:p&&(o=e("#"+p).data("kendoMobilePane")),o.navigate(f,l)),a.preventDefault())}}});k.wrap=function(e){e.is(a("view"))||(e=e.wrap("<div data-"+n.ns+'role="view" data-stretch="true"></div>').parent());var t=e.wrap('<div class="km-pane-wrapper"><div></div></div>').parent(),i=new k(t);return i.navigate(""),i},r.plugin(k)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.mobile,i=n.ui,a="show",r="hide",o="open",s="close",l='<div class="km-popup-wrapper" />',d='<div class="km-popup-arrow" />',c='<div class="km-popup-overlay" />',u="km-up km-down km-left km-right",h=i.Widget,p={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},f={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},g={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},m={up:"down",down:"up",left:"right",right:"left"},v=h.extend({init:function(n,i){var a,o,s=this,u=n.closest(".km-modalview-wrapper"),m=n.closest(".km-root").children(".km-pane").first(),v=u[0]?u:m;i.viewport?m=i.viewport:m[0]||(m=window),i.container?v=i.container:v[0]||(v=document.body),a={viewport:m,open:function(){s.overlay.show()},activate:e.proxy(s._activate,s),deactivate:function(){s.overlay.hide(),s.trigger(r)}},h.fn.init.call(s,n,i),n=s.element,i=s.options,n.wrap(l).addClass("km-popup").show(),o=s.options.direction.match(/left|right/)?"horizontal":"vertical",s.dimensions=g[o],s.wrapper=n.parent().css({width:i.width,height:i.height}).addClass("km-popup-wrapper km-"+i.direction).hide(),s.arrow=e(d).prependTo(s.wrapper).hide(),s.overlay=e(c).appendTo(v).hide(),a.appendTo=s.overlay,a.copyAnchorStyles=!1,a.autosize=!0,i.className&&s.overlay.addClass(i.className),s.popup=new t.ui.Popup(s.wrapper,e.extend(!0,a,f,p[i.direction]))},options:{name:"Popup",width:240,height:"",direction:"down",container:null,viewport:null},events:[a,r],show:function(t){var n=this,i=n.popup;i.options.anchor=e(t),i.open()},target:function(){return this.popup.options.anchor},hide:function(){this.popup.close()},destroy:function(){h.fn.destroy.call(this),this.popup.destroy(),this.overlay.remove()},_activate:function(){var t=this,n=t.options.direction,i=t.dimensions,r=i.offset,o=t.popup,s=o.options.anchor,l=e(s).offset(),d=e(o.element).offset(),c=o.flipped?m[n]:n,h=2*t.arrow[i.size](),p=t.element[i.size]()-t.arrow[i.size](),f=e(s)[i.size](),g=l[r]-d[r]+f/2;h>g&&(g=h),g>p&&(g=p),t.wrapper.removeClass(u).addClass("km-"+c),t.arrow.css(r,g).show(),t.trigger(a)}}),b=h.extend({init:function(n,a){var r,l=this;l.initialOpen=!1,h.fn.init.call(l,n,a),r=e.extend({className:"km-popover-root",show:function(){l.trigger(o,{target:l.popup.target()})},hide:function(){l.trigger(s)}},this.options.popup),l.popup=new v(l.element,r),l.popup.overlay.on("move",!1),l.pane=new i.Pane(l.element,this.options.pane),l.pane.navigateToInitial(),t.notify(l,i)},options:{name:"PopOver",popup:{},pane:{}},events:[o,s],open:function(e){this.openFor(e)},openFor:function(e){this.popup.show(e),this.initialOpen||(this.pane.navigate(""),this.popup.popup._position(),this.initialOpen=!0)},close:function(){this.popup.hide()},destroy:function(){h.fn.destroy.call(this),this.pane.destroy(),this.popup.destroy(),t.destroy(this.element)}});i.plugin(v),i.plugin(b)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.mobile.ui,a=n.ui.Popup,r='<div class="km-shim"/>',o="show",s="hide",l=i.Widget,d=l.extend({init:function(t,i){var o=this,s=n.mobile.application,d=n.support.mobileOS,c=s?s.os.name:d?d.name:"ios",u="ios"===c||"wp"===c||(s?s.os.skin:!1),h="blackberry"===c,p=i.align||(u?"bottom center":h?"center right":"center center"),f=i.position||(u?"bottom center":h?"center right":"center center"),g=i.effect||(u?"slideIn:up":h?"slideIn:left":"fade:in"),m=e(r).handler(o).hide();l.fn.init.call(o,t,i),o.shim=m,t=o.element,i=o.options,i.className&&o.shim.addClass(i.className),i.modal||o.shim.on("up","hide"),(s?s.element:e(document.body)).append(m),o.popup=new a(o.element,{anchor:m,modal:!0,appendTo:m,origin:p,position:f,animation:{open:{effects:g,duration:i.duration},close:{duration:i.duration}},deactivate:function(){m.hide()},open:function(){m.show()}}),n.notify(o)},events:[o,s],options:{name:"Shim",modal:!1,align:t,position:t,effect:t,duration:200},show:function(){this.popup.open(),this.trigger(o)},hide:function(t){t&&e.contains(this.shim.children().children(".k-popup")[0],t.target)||(this.popup.close(),this.trigger(s))},destroy:function(){l.fn.destroy.call(this),this.shim.kendoDestroy(),this.popup.destroy(),this.shim.remove()}});i.plugin(d)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.support,i=t.mobile.ui,a=i.Shim,r=i.Popup,o=i.Widget,s="open",l="close",d="command",c="li>a",u="actionsheetContext",h='<div class="km-actionsheet-wrapper" />',p=t.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>'),f=o.extend({init:function(s,l){var d,u,f,g=this,m=n.mobileOS;o.fn.init.call(g,s,l),l=g.options,f=l.type,u="auto"===f?m&&m.tablet:"tablet"===f,d=u?r:a,s=g.element,l.cancelTemplate&&(p=t.template(l.cancelTemplate)),s.addClass("km-actionsheet").append(p({cancel:g.options.cancel})).wrap(h).on("up",c,"_click").on("click",c,t.preventDefault),g.view().bind("destroy",function(){g.destroy()}),g.wrapper=s.parent().addClass(f?" km-actionsheet-"+f:""),g.shim=new d(g.wrapper,e.extend({modal:m.ios&&7>m.majorVersion,className:"km-actionsheet-root"},g.options.popup)),t.notify(g,i),u&&t.onResize(e.proxy(this,"_resize"))},events:[s,l,d],options:{name:"ActionSheet",cancel:"Cancel",type:"auto",popup:{height:"auto"}},open:function(t,n){var i=this;i.target=e(t),i.context=n,i.shim.show(t)},close:function(){this.context=this.target=null,this.shim.hide()},openFor:function(e){var t=this,n=e.data(u);t.open(e,n),t.trigger(s,{target:e,context:n})},destroy:function(){o.fn.destroy.call(this),this.shim.destroy()},_click:function(n){var i,a;n.isDefaultPrevented()||(i=e(n.currentTarget),a=i.data("action"),a&&t.getter(a)(window)({target:this.target,context:this.context}),this.trigger(d,{target:this.target,context:this.context,currentTarget:i}),n.preventDefault(),this.close(),this.trigger(l))},_resize:function(){this.shim.hide()}});i.plugin(f)}(window.kendo.jQuery),function(e,t){function n(e){return Array(e+1).join('<td class="k-group-cell">&nbsp;</td>')}function i(e){var t,n=" ";if(e){if(typeof e===Nt)return e;for(t in e)n+=t+'="'+e[t]+'"'}return n}function a(t){var n=0;return e("> .k-grouping-header, > .k-grid-toolbar",t).each(function(){n+=this.offsetHeight}),n}function r(t,n){e("th, th .k-grid-filter, th .k-link",t).add(document.body).css("cursor",n)}function o(e){var t,n,i={},a={};if(!nt(e))for(X(e)||(e=[e]),t=0,n=e.length;n>t;t++)i[e[t].aggregate]=0,a[e[t].field]=i;return a}function s(e,t,n,i){t=e.eq(t),"number"==typeof n?t[i?"insertBefore":"insertAfter"](e.eq(n)):t.appendTo(n)}function l(t,n,i){return e(t).add(n).find(i)}function d(e,t,n){var i,a,r,o;for(n=X(n)?n:[n],i=0,a=n.length;a>i;i++)r=n[i],G(r)&&r.click&&(o=r.name||r.text,t.on(Ht+ht,"a.k-grid-"+(o||"").replace(/\s/g,""),{commandName:o},et(r.click,e)))}function c(e){return K(e,function(e){return!e.hidden})}function u(e){var t,n,i,a=0;for(n=0,i=e.length;i>n;n++)t=e[n].style.width,t&&-1==t.indexOf("%")&&(a+=parseInt(t,10));return a}function h(e){return K(e,function(e){return e.locked})}function p(e){return K(e,function(e){return!e.locked})}function f(e){return K(e,function(e){return!e.locked&&!e.hidden})}function g(e){return K(e,function(e){return e.locked&&!e.hidden})}function m(t,n,i){var a,r=t;return V?t[0].innerHTML=i:(a=document.createElement("div"),a.innerHTML="<table><tbody>"+i+"</tbody></table>",t=a.firstChild.firstChild,n[0].replaceChild(t,r[0]),t=e(t)),t}function v(e){e=e||{};var t=e.style;return t?(t=t.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),t===e.style&&(t=t.replace(/(.*)?/i,"display:none;$1"))):t="display:none",Q({},e,{style:t})}function b(e){e=e||{};var t=e.style;return t&&(e.style=t.replace(/(display\s*:\s*none\s*;?)*/gi,"")),e}function _(t,n,i,a){var r,o=t.find(">colgroup"),s=Y(n,function(e){return r=e.width,r&&0!==parseInt(r,10)?L.format('<col style="width:{0}"/>',typeof r===Nt?r:r+"px"):"<col />"});(i||o.find(".k-hierarchy-col").length)&&s.splice(0,0,'<col class="k-hierarchy-col" />'),o.length&&o.remove(),o=e(Array(a+1).join('<col class="k-group-col">')+s.join("")),o.is("colgroup")||(o=e("<colgroup/>").append(o)),t.prepend(o),en.msie&&8==en.version&&(t.css("display","inline-table"),window.setTimeout(function(){t.css("display","")},1))}function y(e,t){var n,i,a=0;for(n=0,i=t.length;i>n;n++)t[n].locked&&(e.eq(n).insertBefore(e.eq(a)),a++)}function k(e){var t,n,i,a={};for(n=0,i=e.length;i>n;n++)t=e[n],a[t.value]=t.text;return a}function w(e,t,n){var i=n&&n.length&&G(n[0])&&"value"in n[0],a=i?k(n)[e]:e;return a=null!=a?a:"",t?L.format(t,a):a}function x(e,t,n){for(var i,a=0,r=e[a];r;){if(i=n?!0:"none"!==r.style.display,i&&!Vt.test(r.className)&&--t<0){r.style.display=n?"":"none";break}r=e[++a]}}function C(t,n){for(var i,a,r=0,o=t.length;o>r;r+=1)a=t.eq(r),a.is(".k-grouping-row,.k-detail-row")?(i=a.children(":not(.k-group-cell):first,.k-detail-cell").last(),i.attr("colspan",parseInt(i.attr("colspan"),10)-1)):(a.hasClass("k-grid-edit-row")&&(i=a.children(".k-edit-container")[0])&&(i=e(i),i.attr("colspan",parseInt(i.attr("colspan"),10)-1),i.find("col").eq(n).remove(),a=i.find("tr:first")),x(a[0].cells,n,!1))}function T(t,n){for(var i,a,r,o=0,s=t.length;s>o;o+=1)a=t.eq(o),a.is(".k-grouping-row,.k-detail-row")?(i=a.children(":not(.k-group-cell):first,.k-detail-cell").last(),i.attr("colspan",parseInt(i.attr("colspan"),10)+1)):(a.hasClass("k-grid-edit-row")&&(i=a.children(".k-edit-container")[0])&&(i=e(i),i.attr("colspan",parseInt(i.attr("colspan"),10)+1),_(i.find(">form>table"),c(r),!1,0),a=i.find("tr:first")),x(a[0].cells,n,!0))}function S(e,t){var n,i,a;for(i=0,a=e.length;a>i;i+=1)n=e.eq(i).children().last(),n.attr("colspan",parseInt(n.attr("colspan"),10)+1),n=t.eq(i).children().last(),n.attr("colspan",parseInt(n.attr("colspan"),10)-1)}function D(e){var t,n,i=0,a=e.find(">colgroup>col");for(t=0,n=a.length;n>t;t+=1)i+=parseInt(a[t].style.width,10);return i}function E(e,t){var n,i=e.clientHeight,a=t.clientHeight;i>a?n=i+"px":a>i&&(n=a+"px"),n&&(e.style.height=t.style.height=n)}function F(e,t){var n,i,a;if(typeof e===Nt&&e===t)return e;if(G(e)&&e.name===t)return e;if(X(e))for(n=0,i=e.length;i>n;n++)if(a=e[n],typeof a===Nt&&a===t||a.name===t)return a;return null}function A(t,n){var i,a,r,o=en.msie;if(n===!0){if(t=e(t),i=o&&t.parent().is(".k-grid-content,.k-grid-header-wrap"),i&&(a=t.parent().scrollTop(),r=t.parent().scrollLeft()),o)try{t[0].setActive()}catch(s){t[0].focus()}else t[0].focus();i&&(t.parent().scrollTop(a),t.parent().scrollLeft(r))}else e(t).one("focusin",function(e){e.preventDefault()}).focus()}function M(t){var n=e(t.currentTarget),i=n.is("th"),a=this.table.add(this.lockedTable),r=this.thead.parent().add(e(">table",this.lockedHeader)),o=n.closest("table")[0];L.support.touch||(o===a[0]||o===a[1]||o===r[0]||o===r[1])&&(this.current(n),(i||!e(t.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap"))&&setTimeout(function(){nn&&e(L._activeElement()).hasClass("k-widget")||A(o,!0)}),i&&t.preventDefault())}function H(t,n,i,a){if(t=e(t),a){var r=n;n=i,i=r}return n.not(t).length!=n.length?t:n.eq(t[0]==i[0]?0:1)}function z(e,t,n,i,a){var r,o,s=a?"prevAll":"nextAll";return e?(r=e.parent()[s](lt).first(),r[0]||!a&&!e.is("th")||(t=H(t,n,i,a),A(t),r=t.find((a?">thead>":">tbody>")+lt).first()),o=e.index(),e=r.children().eq(o),e[0]&&e.is(dt)||(e=r.children(dt).first())):e=n.find(ct),e}function I(e,t,n,i,a){var r=n.length>1;return e?e.prev()[0]?e=e.prevAll(ot).first():r&&(t==n[1]?(A(n[0]),e=a(e.parent()).children(ot).last()):t==i[1]&&(A(i[0]),e=i.eq(0).find("tr>"+ot).last())):e=n.find(ct),e}function R(e,t,n,i,a){var r=n.length>1;return e?e.next()[0]?e=e.nextAll(ot).first():r&&(t==n[0]?(A(n[1]),e=a(e.parent()).children(ot).first()):t==i[0]&&(A(i[1]),e=i.eq(1).find("tr>"+ot).first())):e=n.find(ct),e}function N(e,t,n,i,a){var r=2==n.length,o=!0,s=a?e.prevAll(ot+":first"):e.nextAll(":visible:first");return s.length||(s=e.parent(),r&&(o=a&&t==n[0]||!a&&t==n[1],s=i(s)),o&&(s=s[a?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")),s=s.children(ot+(a?":last":":first"))),s}function P(e,t,i){return'<tr class="k-grouping-row">'+n(t)+'<td colspan="'+e+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+i+"</p></td></tr>"}function O(e){return'<tr class="k-grouping-row"><td colspan="'+e+'" aria-expanded="true"><p class="k-reset">&nbsp;</p></td></tr>'}var L=window.kendo,B=L.ui,j=L.data.DataSource,W=B.Groupable,V=L.support.tbodyInnerHtml,q=L._activeElement,$=B.Widget,U=L.keys,G=e.isPlainObject,Q=e.extend,Y=e.map,K=e.grep,X=e.isArray,J=e.inArray,Z=Array.prototype.push,et=e.proxy,tt=L.isFunction,nt=e.isEmptyObject,it=Math,at="progress",rt="error",ot=":not(.k-group-cell):not(.k-hierarchy-cell):visible",st="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",lt="tr:not(.k-footer-template):visible",dt=":not(.k-group-cell):not(.k-hierarchy-cell):visible",ct=lt+":first>"+dt+":first",ut="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",ht=".kendoGrid",pt="edit",ft="save",gt="remove",mt="detailInit",vt="filterMenuInit",bt="columnMenuInit",_t="change",yt="columnHide",kt="columnShow",wt="saveChanges",xt="dataBound",Ct="detailExpand",Tt="detailCollapse",St="k-state-focused",Dt="k-state-selected",Et="columnResize",Ft="columnReorder",At="columnLock",Mt="columnUnlock",Ht="click",zt="height",It="tabIndex",Rt="function",Nt="string",Pt="Are you sure you want to delete this record?",Ot="Delete",Lt="Cancel",Bt=/(\}|\#)/gi,jt=/#/gi,Wt="[\\x20\\t\\r\\n\\f]",Vt=RegExp("(^|"+Wt+")(k-group-cell|k-hierarchy-cell)("+Wt+"|$)"),qt='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',$t="dir",Ut="asc",Gt="single",Qt="field",Yt="desc",Kt=".kendoSorter",Xt=".k-link",Jt="aria-sort",Zt=!1,en=L.support.browser,tn=en.msie&&7==en.version,nn=en.msie&&8==en.version,an=$.extend({init:function(e,t){var n=this;$.fn.init.call(n,e,t),n._refreshHandler=et(n.refresh,n),n.setDataSource(t.dataSource),n.wrap()},setDataSource:function(e){var t=this;t.dataSource&&t.dataSource.unbind(_t,t._refreshHandler),t.dataSource=e,t.dataSource.bind(_t,t._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:e.noop},destroy:function(){var e=this;$.fn.destroy.call(e),e.dataSource.unbind(_t,e._refreshHandler),e.wrapper.add(e.verticalScrollbar).off(ht),e.drag&&(e.drag.destroy(),e.drag=null),e.wrapper=e.element=e.verticalScrollbar=null,e._refreshHandler=null},wrap:function(){var t,n=this,i=L.support.scrollbar()+1,a=n.element;a.css({width:"auto",overflow:"hidden"}).css(Zt?"padding-left":"padding-right",i),n.content=a.children().first(),t=n.wrapper=n.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+ht+" mousewheel"+ht,et(n._wheelScroll,n)),L.support.kineticScrollNeeded&&(n.drag=new L.UserEvents(n.wrapper,{global:!0,move:function(e){n.verticalScrollbar.scrollTop(n.verticalScrollbar.scrollTop()-e.y.delta),t.scrollLeft(t.scrollLeft()-e.x.delta),e.preventDefault()}})),n.verticalScrollbar=e('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:i}).appendTo(a).bind("scroll"+ht,et(n._scroll,n))},_wheelScroll:function(e){var t=this.verticalScrollbar.scrollTop(),n=L.wheelDeltaY(e);n&&(e.preventDefault(),this.verticalScrollbar.scrollTop(t+-n))},_scroll:function(e){var t=this,n=e.currentTarget.scrollTop,i=t.dataSource,a=t.itemHeight,r=i.skip()||0,o=t._rangeStart||r,s=t.element.innerHeight(),l=!!(t._scrollbarTop&&t._scrollbarTop>n),d=it.max(it.floor(n/a),0),c=it.max(d+it.floor(s/a),0);
t._scrollTop=n-o*a,t._scrollbarTop=n,t._fetch(d,c,l)||(t.wrapper[0].scrollTop=t._scrollTop)},_fetch:function(e,t,n){var i=this,a=i.dataSource,r=i.itemHeight,o=a.take(),s=i._rangeStart||a.skip()||0,l=it.floor(e/o)*o,d=!1,c=.33;return s>e?(d=!0,s=it.max(0,t-o),i._scrollTop=(e-s)*r,i._page(s,o)):t>=s+o&&!n?(d=!0,s=e,i._scrollTop=r,i._page(s,o)):i._fetching||(l+o-o*c>e&&e>o&&a.prefetch(l-o,o),t>l+o*c&&a.prefetch(l+o,o)),d},_page:function(e,t){var n=this,i=n.dataSource;clearTimeout(n._timeout),n._fetching=!0,n._rangeStart=e,i.inRange(e,t)?i.range(e,t):(L.ui.progress(n.wrapper.parent(),!0),n._timeout=setTimeout(function(){i.range(e,t)},100))},refresh:function(){var e,t,n,i,a=this,r="",o=25e4,s=a.dataSource,l=a._rangeStart,d=L.support.kineticScrollNeeded?0:L.support.scrollbar(),c=a.wrapper[0];for(L.ui.progress(a.wrapper.parent(),!1),clearTimeout(a._timeout),n=a.itemHeight=a.options.itemHeight()||0,i=c.scrollWidth>c.offsetWidth?d:0,e=s.total()*n+i,t=0;t<it.floor(e/o);t++)r+='<div style="width:1px;height:'+o+'px"></div>';e%o&&(r+='<div style="width:1px;height:'+e%o+'px"></div>'),a.verticalScrollbar.html(r),c.scrollTop=a._scrollTop,a.drag&&a.drag.cancel(),l&&!a._fetching&&(a._rangeStart=s.skip(),1===s.page()&&(a.verticalScrollbar[0].scrollTop=0)),a._fetching=!1}}),rn={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}},on=$.extend({init:function(t,n){var i=this;n=X(n)?{dataSource:n}:n,$.fn.init.call(i,t,n),Zt=L.support.isRtl(t),i._element(),i._aria(),i._columns(i.options.columns),i._dataSource(),i._tbody(),i._pageable(),i._thead(),i._groupable(),i._toolbar(),i._setContentHeight(),i._templates(),i._navigatable(),i._selectable(),i._details(),i._editable(),i._attachCustomCommandsEvent(),i.options.autoBind?i.dataSource.fetch():i._footer(),i.lockedContent&&(i.wrapper.addClass("k-grid-lockedcolumns"),i._resizeHandler=function(){i.resize()},e(window).on("resize"+ht,i._resizeHandler)),L.notify(i)},events:[_t,"dataBinding","cancel",xt,Ct,Tt,mt,vt,bt,pt,ft,gt,wt,Et,Ft,kt,yt,At,Mt],setDataSource:function(e){var t=this;t.options.dataSource=e,t._dataSource(),t._pageable(),t.options.groupable&&t._groupable(),t._thead(),t.virtualScrollable&&t.virtualScrollable.setDataSource(t.options.dataSource),t.selectable&&t._selectable(),t.options.autoBind&&e.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3,mobile:""},destroy:function(){var t,n=this;$.fn.destroy.call(n),n._resizeHandler&&e(window).off("resize"+ht,n._resizeHandler),n.pager&&n.pager.element&&n.pager.destroy(),n.pager=null,n.groupable&&n.groupable.element&&n.groupable.element.kendoGroupable("destroy"),n.groupable=null,n.options.reorderable&&n.wrapper.data("kendoReorderable").destroy(),n.selectable&&n.selectable.destroy(),n.resizable&&(n.resizable.destroy(),n._resizeUserEvents&&(n._resizeHandleDocumentClickHandler&&e(document).off("click",n._resizeHandleDocumentClickHandler),n._resizeUserEvents.destroy(),n._resizeUserEvents=null),n.resizable=null),n.virtualScrollable&&n.virtualScrollable.element&&n.virtualScrollable.destroy(),n.virtualScrollable=null,n._destroyColumnAttachments(),n._destroyEditable(),n.dataSource&&(n.dataSource.unbind(_t,n._refreshHandler).unbind(at,n._progressHandler).unbind(rt,n._errorHandler),n._refreshHandler=n._progressHandler=n._errorHandler=null),t=n.element.add(n.wrapper).add(n.table).add(n.thead).add(n.wrapper.find(">.k-grid-toolbar")),n.content&&(t=t.add(n.content).add(n.content.find(">.k-virtual-scrollable-wrap"))),n.lockedHeader&&n._removeLockedContainers(),n.pane&&n.pane.destroy(),n._draggableInstance&&n._draggableInstance.element&&n._draggableInstance.destroy(),n._draggableInstance=null,t.off(ht),L.destroy(n.wrapper),n.scrollables=n.thead=n.tbody=n.element=n.table=n.content=n.footer=n.wrapper=n._groupableClickHandler=n._setContentWidthHandler=null},setOptions:function(e){var t=this;$.fn.setOptions.call(this,e),t._templates()},items:function(){return this.tbody.children().filter(function(){var t=e(this);return!t.hasClass("k-grouping-row")&&!t.hasClass("k-detail-row")&&!t.hasClass("k-group-footer")})},_destroyColumnAttachments:function(){var t=this;t.resizeHandle=null,t.thead&&t.thead.find("th").each(function(){var t=e(this),n=t.data("kendoFilterMenu"),i=t.data("kendoSorter"),a=t.data("kendoColumnMenu");n&&n.destroy(),i&&i.destroy(),a&&a.destroy()})},_attachCustomCommandsEvent:function(){var e,t,n,i=this,a=i.columns||[];for(t=0,n=a.length;n>t;t++)e=a[t].command,e&&d(i,i.wrapper,e)},_aria:function(){var e=this.element.attr("id")||"aria";e&&(this._cellId=e+"_active_cell")},_element:function(){var t=this,n=t.element;n.is("table")||(n=t.options.scrollable?t.element.find("> .k-grid-content > table"):t.element.children("table"),n.length||(n=e("<table />").appendTo(t.element))),tn&&n.attr("cellspacing",0),t.table=n.attr("role",t._hasDetails()?"treegrid":"grid"),t._wrapper()},_createResizeHandle:function(t,n){var i,r,o,s,l,d=this,c=d.options.columnResizeHandleWidth,u=d.options.scrollable,h=d.resizeHandle;h&&d.lockedContent&&h.data("th")[0]!==n[0]&&(h.remove(),h=null),h||(h=d.resizeHandle=e('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>'),t.append(h)),Zt?(i=n.position().left,u&&(r=n.closest(".k-grid-header-wrap, .k-grid-header-locked"),o=en.msie?r.scrollLeft():0,s=en.webkit?r[0].scrollWidth-r[0].offsetWidth-r.scrollLeft():0,l=en.mozilla?r[0].scrollWidth-r[0].offsetWidth-(r[0].scrollWidth-r[0].offsetWidth-r.scrollLeft()):0,i-=s-l+o)):(i=n[0].offsetWidth,n.prevAll(":visible").each(function(){i+=this.offsetWidth})),h.css({top:u?0:a(d.wrapper),left:i-c,height:n.outerHeight(),width:3*c}).data("th",n).show()},_positionColumnResizeHandle:function(){var t=this,n=t.options.columnResizeHandleWidth,i=t.lockedHeader?t.lockedHeader.find("thead:first"):e();t.thead.add(i).on("mousemove"+ht,"th",function(i){var a,o,s,l=e(this);l.hasClass("k-group-cell")||l.hasClass("k-hierarchy-cell")||(a=i.clientX,o=e(window).scrollLeft(),s=l.offset().left+(Zt?0:this.offsetWidth),a+o>s-n&&s+n>a+o?t._createResizeHandle(l.closest("div"),l):t.resizeHandle?t.resizeHandle.hide():r(t.wrapper,""))})},_resizeHandleDocumentClick:function(t){e(t.target).closest(".k-column-active").length||(e(document).off(t),this._hideResizeHandle())},_hideResizeHandle:function(){this.resizeHandle&&(this.resizeHandle.data("th").removeClass("k-column-active"),this.lockedContent&&!this._isMobile?(this.resizeHandle.remove(),this.resizeHandle=null):this.resizeHandle.hide())},_positionColumnResizeHandleTouch:function(){var t=this,n=t.lockedHeader?t.lockedHeader.find("thead:first"):e();t._resizeUserEvents=new L.UserEvents(n.add(t.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function(n){var i=e(n.target);n.preventDefault(),i.addClass("k-column-active"),t._createResizeHandle(i.closest("div"),i),t._resizeHandleDocumentClickHandler||(t._resizeHandleDocumentClickHandler=et(t._resizeHandleDocumentClick,t)),e(document).on("click",t._resizeHandleDocumentClickHandler)}})},_resizable:function(){var t,n,i,a,o,s,l,d=this,c=d.options,u=this._isMobile,h=L.support.mobileOS?0:L.support.scrollbar();c.resizable&&(t=c.scrollable?d.wrapper.find(".k-grid-header-wrap:first"):d.wrapper,u?d._positionColumnResizeHandleTouch(t):d._positionColumnResizeHandle(t),d.resizable&&d.resizable.destroy(),d.resizable=new B.Resizable(t.add(d.lockedHeader),{handle:".k-resize-handle",hint:function(t){return e('<div class="k-grid-resize-indicator" />').css({height:t.data("th").outerHeight()+d.tbody.attr("clientHeight")})},start:function(t){var h,p,f,g;l=e(t.currentTarget).data("th"),u&&d._hideResizeHandle(),h=e.inArray(l[0],l.parent().children(":visible")),p=l.closest("table"),o=p.parent().hasClass("k-grid-header-locked"),f=o?d.lockedTable:d.table,g=d.footer||e(),d.footer&&d.lockedContent&&(g=d.footer.children(o?".k-grid-footer-locked":".k-grid-footer-wrap")),r(d.wrapper,"col-resize"),s=c.scrollable?p.find("col:eq("+h+")").add(f.children("colgroup").find("col:eq("+h+")")).add(g.find("colgroup").find("col:eq("+h+")")):f.children("colgroup").find("col:eq("+h+")"),n=t.x.location,i=l.outerWidth(),a=o?f.children("tbody").outerWidth():d.tbody.outerWidth()},resize:function(t){var r,u,p,f,g,m,v=Zt?-1:1,b=i+t.x.location*v-n*v;c.scrollable?(r=(o?d.lockedFooter.children("table"):d.footer.find(">.k-grid-footer-wrap>table"))||e(),u=l.closest("table"),p=o?d.lockedTable:d.table,f=!1,g=d.wrapper.width()-h,m=b,o&&a-i+m>g&&(m=i+(g-a-2*h),0>m&&(m=b),f=!0),m>10&&(s.css("width",m),a&&(m=f?g-2*h:a+t.x.location*v-n*v,p.add(u).add(r).css("width",m),o||(d._footerWidth=m)))):b>10&&s.css("width",b)},resizeend:function(){var e,t,n=l.outerWidth();r(d.wrapper,""),i!=n&&(t=d.lockedHeader?d.lockedHeader.find("thead:first").add(d.thead):l.parent(),e=d.columns[t.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(l)],e.width=n,d.trigger(Et,{column:e,oldWidth:i,newWidth:n}),d._applyLockedContainersWidth(),d._syncLockedContentHeight(),d._syncLockedHeaderHeight()),d._hideResizeHandle(),l=null}}))},_draggable:function(){var t=this;t.options.reorderable&&(t._draggableInstance&&t._draggableInstance.destroy(),t._draggableInstance=t.wrapper.kendoDraggable({group:L.guid(),filter:t.content?".k-grid-header:first "+ut:"table:first>.k-grid-header "+ut,drag:function(){t._hideResizeHandle()},hint:function(t){return e('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(t.attr(L.attr("title"))||t.attr(L.attr("field"))||t.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable"))},_reorderable:function(){var t=this;t.options.reorderable&&(t.wrapper.data("kendoReorderable")&&t.wrapper.data("kendoReorderable").destroy(),t.wrapper.kendoReorderable({draggable:t._draggableInstance,dragOverContainers:function(e){return t.columns[e].lockable!==!1},inSameContainer:function(t,n){return e(t).parent()[0]===e(n).parent()[0]},change:function(e){var n=t.columns[e.oldIndex];t.trigger(Ft,{newIndex:e.newIndex,oldIndex:J(n,t.columns),column:n}),t.reorderColumn(e.newIndex,n,"before"===e.position)}}))},reorderColumn:function(n,i,a){var r,o,d,u,f=this,g=f.columns,m=J(i,g),v=g[n],b=J(i,c(g)),_=J(v,c(g)),y=_,k=_,w=e(),x=!!v.locked,C=h(g).length,T=f.footer||f.wrapper.find(".k-grid-footer");if(m!==n&&!(!i.locked&&x&&1==p(g).length||i.locked&&!x&&1==C)){for(v.hidden&&(x?(_=f.lockedTable.find("colgroup"),y=f.lockedHeader.find("colgroup"),k=e(f.lockedFooter).find(">table>colgroup")):(_=f.tbody.prev(),y=f.thead.prev(),k=T.find(".k-grid-footer-wrap").find(">table>colgroup"))),u=!!i.locked,u=u!=x,i.locked=x,f._hideResizeHandle(),a===t&&(a=m>n),g.splice(a?n:n+1,0,i),g.splice(n>m?m:m+1,1),f._templates(),s(l(f.lockedHeader,f.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),b,y,a),f.options.scrollable&&s(l(f.lockedTable,f.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),b,_,a),s(l(f.lockedHeader,f.thead,"th.k-header:not(.k-group-cell,.k-hierarchy-cell)"),m,n,a),T&&T.length&&(s(l(f.lockedFooter,T.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),b,k,a),s(T.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),m,n,a)),r=f.tbody.children(":not(.k-grouping-row,.k-detail-row)"),f.lockedTable&&(C>n?m>=C&&S(f.lockedTable.find(">tbody>tr.k-grouping-row"),f.table.find(">tbody>tr.k-grouping-row")):C>m&&S(f.table.find(">tbody>tr.k-grouping-row"),f.lockedTable.find(">tbody>tr.k-grouping-row")),w=f.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)")),o=0,d=r.length;d>o;o+=1)s(l(w[o],r[o],">td:not(.k-group-cell,.k-hierarchy-cell)"),m,n,a);f._updateTablesWidth(),f._applyLockedContainersWidth(),f._syncLockedContentHeight(),u&&(x?f.trigger(At,{column:i}):f.trigger(Mt,{column:i}))}},lockColumn:function(e){var t,n=this.columns;e="number"==typeof e?n[e]:K(n,function(t){return t.field===e})[0],!e||e.locked||e.hidden||(t=h(n).length-1,this.reorderColumn(t,e,!1))},unlockColumn:function(e){var t,n=this.columns;e="number"==typeof e?n[e]:K(n,function(t){return t.field===e})[0],e&&e.locked&&!e.hidden&&(t=h(n).length,this.reorderColumn(t,e,!0))},cellIndex:function(t){var n=0;return this.lockedTable&&!e.contains(this.lockedTable[0],t[0])&&(n=h(this.columns).length),e(t).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(t)+n},_modelForContainer:function(t){t=e(t),t.is("tr")||"popup"===this._editMode()||(t=t.closest("tr"));var n=t.attr(L.attr("uid"));return this.dataSource.getByUid(n)},_editable:function(){var t,n=this,i=n.selectable&&n.selectable.options.multiple,a=n.options.editable,r=function(){var t=q(),i=n._editContainer;!i||e.contains(i[0],t)||i[0]===t||e(t).closest(".k-animation-container").length||n.editable.end()&&n.closeCell()};a&&(t=n._editMode(),"incell"===t?a.update!==!1&&n.wrapper.on(Ht+ht,"tr:not(.k-grouping-row) > td",function(t){var a=e(this),r=n.lockedTable&&a.closest("table")[0]===n.lockedTable[0];a.hasClass("k-hierarchy-cell")||a.hasClass("k-detail-cell")||a.hasClass("k-group-cell")||a.hasClass("k-edit-cell")||a.has("a.k-grid-delete").length||a.has("button.k-grid-delete").length||a.closest("tbody")[0]!==n.tbody[0]&&!r||e(t.target).is(":input")||(n.editable?n.editable.end()&&(i&&e(q()).blur(),n.closeCell(),n.editCell(a)):n.editCell(a))}).on("focusin"+ht,function(){clearTimeout(n.timer),n.timer=null}).on("focusout"+ht,function(){n.timer=setTimeout(r,1)}):a.update!==!1&&n.wrapper.on(Ht+ht,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(t){t.preventDefault(),n.editRow(e(this).closest("tr"))}),a.destroy!==!1?n.wrapper.on(Ht+ht,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(t){t.preventDefault(),t.stopPropagation(),n.removeRow(e(this).closest("tr"))}):n.wrapper.on(Ht+ht,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(e){e.stopPropagation(),n._confirmation()||e.preventDefault()}))},editCell:function(t){var n,i,a,r;t=e(t),n=this,i=n.columns[n.cellIndex(t)],a=n._modelForContainer(t),!a||a.editable&&!a.editable(i.field)||i.command||!i.field||(n._attachModelChange(a),n._editContainer=t,n.editable=t.addClass("k-edit-cell").kendoEditable({fields:{field:i.field,format:i.format,editor:i.editor,values:i.values},model:a,change:function(e){n.trigger(ft,{values:e.values,container:t,model:a})&&e.preventDefault()}}).data("kendoEditable"),r=t.parent().addClass("k-grid-edit-row"),n.lockedContent&&E(r[0],n._relatedRow(r).addClass("k-grid-edit-row")[0]),n.trigger(pt,{container:t,model:a}))},_adjustLockedHorizontalScrollBar:function(){var e=this.table,t=e.parent(),n=e[0].offsetWidth>t[0].clientWidth?L.support.scrollbar():0;this.lockedContent.height(t.height()-n)},_syncLockedContentHeight:function(){this.lockedTable&&(this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable))},_syncLockedHeaderHeight:function(){this.lockedHeader&&this._adjustRowsHeight(this.lockedHeader.children("table"),this.thead.parent())},_syncLockedFooterHeight:function(){this.lockedFooter&&this.footer&&this.footer.length&&this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))},_destroyEditable:function(){var e=this,t=function(){e.editable&&(e._detachModelChange(),e.editable.destroy(),e.editable=null,e._editContainer=null,e._destroyEditView())};e.editable&&("popup"!==e._editMode()||e._isMobile?t():e._editContainer.data("kendoWindow").bind("deactivate",t).close()),e._actionSheet&&(e._actionSheet.destroy(),e._actionSheet=null)},_destroyEditView:function(){this.editView&&(this.editView.purge(),this.editView=null,this.pane.navigate(""))},_attachModelChange:function(e){var t=this;t._modelChangeHandler=function(e){t._modelChange({field:e.field,model:this})},e.bind("change",t._modelChangeHandler)},_detachModelChange:function(){var e=this,t=e._editContainer,n=e._modelForContainer(t);n&&n.unbind(_t,e._modelChangeHandler)},closeCell:function(t){var n,i,a,r,o=this,s=o._editContainer;s&&(n=s.closest("tr").attr(L.attr("uid")),r=o.dataSource.getByUid(n),t&&o.trigger("cancel",{container:s,model:r})||(s.removeClass("k-edit-cell"),i=o.columns[o.cellIndex(s)],a=s.parent().removeClass("k-grid-edit-row"),o._destroyEditable(),o._displayCell(s,i,r),s.hasClass("k-dirty-cell")&&e('<span class="k-dirty"/>').prependTo(s),o.lockedContent&&E(a.css("height","")[0],o._relatedRow(a).css("height","")[0])))},_displayCell:function(e,t,n){var i=this,a={storage:{},count:0},r=Q({},L.Template,i.options.templateSettings),o=L.template(i._cellTmpl(t,a),r);a.count>0&&(o=et(o,a.storage)),e.empty().html(o(n))},removeRow:function(e){this._confirmation(e)&&this._removeRow(e)},_removeRow:function(t){var n,i=this,a=i._editMode();"incell"!==a&&i.cancelRow(),t=e(t).hide(),n=i._modelForContainer(t),n&&!i.trigger(gt,{row:t,model:n})?(i.dataSource.remove(n),("inline"===a||"popup"===a)&&i.dataSource.sync()):"incell"===a&&i._destroyEditable()},_editMode:function(){var e="incell",t=this.options.editable;return t!==!0&&(e="string"==typeof t?t:t.mode||e),e},editRow:function(n){var i,a,r,o,s=this;n instanceof L.data.ObservableObject?i=n:(n=e(n),i=s._modelForContainer(n)),a=s._editMode(),r=s.options.navigatable,s.cancelRow(),i&&(s._attachModelChange(i),"popup"===a?s._createPopupEditor(i):"inline"===a?s._createInlineEditor(n,i):"incell"===a&&e(n).children(ot).each(function(){var n=e(this),a=s.columns[n.index()];return i=s._modelForContainer(n),i&&(!i.editable||i.editable(a.field))&&a.field?(s.editCell(n),!1):t}),o=s.editView?s.editView.element:s._editContainer,o.on(Ht+ht,"a.k-grid-cancel",function(t){if(t.preventDefault(),t.stopPropagation(),!s.trigger("cancel",{container:o,model:i})){var n=s.items().index(e(s.current()).parent());s.cancelRow(),r&&(s.current(s.items().eq(n).children().filter(dt).first()),A(s.table,!0))}}),o.on(Ht+ht,"a.k-grid-update",function(e){e.preventDefault(),e.stopPropagation(),s.saveRow()}))},_createPopupEditor:function(n){var i,a,r,o,s,l,d,c,u,h,p,f=this,g="<div "+L.attr("uid")+'="'+n.uid+'" class="k-popup-edit-form'+(f._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',m=[],v=f.options.editable,b=v.template,_=G(v)?v.window:{},y=Q({},L.Template,f.options.templateSettings);if(_=_||{},b)for(typeof b===Nt&&(b=window.unescape(b)),g+=L.template(b,y)(n),r=0,o=f.columns.length;o>r;r++)i=f.columns[r],i.command&&(c=F(i.command,"edit"),c&&(a=c));else for(r=0,o=f.columns.length;o>r;r++)i=f.columns[r],i.command?i.command&&(c=F(i.command,"edit"),c&&(a=c)):(g+='<div class="k-edit-label"><label for="'+i.field+'">'+(i.title||i.field||"")+"</label></div>",n.editable&&!n.editable(i.field)||!i.field?(h={storage:{},count:0},s=L.template(f._cellTmpl(i,h),y),h.count>0&&(s=et(s,h.storage)),g+='<div class="k-edit-field">'+s(n)+"</div>"):(m.push({field:i.field,format:i.format,editor:i.editor,values:i.values}),g+="<div "+L.attr("container-for")+'="'+i.field+'" class="k-edit-field"></div>'));a&&G(a)&&(a.text&&G(a.text)&&(l=a.text.update,d=a.text.cancel),a.attr&&(u=a.attr)),f._isMobile?(g+="</div></div>",f.editView=f.pane.append("<div data-"+L.ns+'role="view" data-'+L.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+L.ns+'role="header" class="k-header">'+f._createButton({name:"update",text:l,attr:u})+(_.title||"Edit")+f._createButton({name:"canceledit",text:d,attr:u})+"</div>"+g+"</div>"),p=f._editContainer=f.editView.element.find(".k-popup-edit-form")):(g+='<div class="k-edit-buttons k-state-default">',g+=f._createButton({name:"update",text:l,attr:u})+f._createButton({name:"canceledit",text:d,attr:u}),g+="</div></div></div>",p=f._editContainer=e(g).appendTo(f.wrapper).eq(0).kendoWindow(Q({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(i){if(i.userTriggered){if(i.sender.element.focus(),f.trigger("cancel",{container:p,model:n}))return i.preventDefault(),t;var a=f.items().index(e(f.current()).parent());f.cancelRow(),f.options.navigatable&&(f.current(f.items().eq(a).children().filter(dt).first()),A(f.table,!0))}}},_))),f.editable=f._editContainer.kendoEditable({fields:m,model:n,clearContainer:!1}).data("kendoEditable"),f._isMobile&&p.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){e(this).next().children("input").click()}),f._openPopUpEditor(),f.trigger(pt,{container:p,model:n})},_openPopUpEditor:function(){this._isMobile?this.pane.navigate(this.editView,this._editAnimation):this._editContainer.data("kendoWindow").center().open()},_createInlineEditor:function(t,n){var i,a,r,o=this,s=[];o.lockedContent&&(t=t.add(o._relatedRow(t))),t.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(a=e(this),i=o.columns[o.cellIndex(a)],i.command||!i.field||n.editable&&!n.editable(i.field)){if(i.command&&(r=F(i.command,"edit"))){a.empty();var t,l,d;G(r)&&(r.text&&G(r.text)&&(t=r.text.update,l=r.text.cancel),r.attr&&(d=r.attr)),e(o._createButton({name:"update",text:t,attr:d})+o._createButton({name:"canceledit",text:l,attr:d})).appendTo(a)}}else s.push({field:i.field,format:i.format,editor:i.editor,values:i.values}),a.attr(L.attr("container-for"),i.field),a.empty()}),o._editContainer=t,o.editable=new L.ui.Editable(t.addClass("k-grid-edit-row"),{fields:s,model:n,clearContainer:!1}),t.length>1&&(E(t[0],t[1]),o._applyLockedContainersWidth()),o.trigger(pt,{container:t,model:n})},cancelRow:function(){var e,t=this,n=t._editContainer;n&&(e=t._modelForContainer(n),t._destroyEditable(),t.dataSource.cancelChanges(e),t._displayRow("popup"!==t._editMode()?n:t.items().filter("["+L.attr("uid")+"="+e.uid+"]")))},saveRow:function(){var e=this,t=e._editContainer,n=e._modelForContainer(t),i=e.editable;t&&i&&i.end()&&!e.trigger(ft,{container:t,model:n})&&e.dataSource.sync()},_displayRow:function(t){var n,i,a,r=this,o=r._modelForContainer(t),s=t.hasClass("k-alt");o&&(r.lockedContent&&(n=e((s?r.lockedAltRowTemplate:r.lockedRowTemplate)(o)),r._relatedRow(t.last()).replaceWith(n)),i=e((s?r.altRowTemplate:r.rowTemplate)(o)),t.replaceWith(i),n&&E(i[0],n[0]),a=i.next(),a.hasClass("k-detail-row")&&a.is(":visible")&&i.find(".k-hierarchy-cell .k-icon").removeClass("k-plus").addClass("k-minus"))},_showMessage:function(t,n){var i,a,r,o=this;return o._isMobile?(i=L.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>'),a=e(i(t)).appendTo(o.view.element),r=o._actionSheet=new L.mobile.ui.ActionSheet(a,{cancel:t.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(t){var i=e(t.currentTarget).parent();i.hasClass("km-actionsheet-cancel")||o._removeRow(n)},popup:o._actionSheetPopupOptions}),r.open(n),!1):window.confirm(t.title)},_confirmation:function(e){var t=this,n=t.options.editable,i=n===!0||typeof n===Nt?Pt:n.confirmation;return i!==!1&&null!=i?(typeof i===Rt&&(i=i(t._modelForContainer(e))),t._showMessage({confirmDelete:n.confirmDelete||Ot,cancelDelete:n.cancelDelete||Lt,title:i===!0?Pt:i},e)):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var e=this;(e.editable&&e.editable.end()||!e.editable)&&!e.trigger(wt)&&e.dataSource.sync()},addRow:function(){var e,t,n,i,a,r,o=this,s=o.dataSource,l=o._editMode(),d=o.options.editable.createAt||"",c=s.pageSize(),u=s.view()||[];(o.editable&&o.editable.end()||!o.editable)&&("incell"!=l&&o.cancelRow(),e=s.indexOf(u[0]),"bottom"==d.toLowerCase()&&(e+=u.length,c&&!s.options.serverPaging&&u.length>=c&&(e-=1)),0>e&&(e=s.page()>s.totalPages()?(s.page()-1)*c:0),t=s.insert(e,{}),n=t.uid,i=o.lockedContent?o.lockedTable:o.table,a=i.find("tr["+L.attr("uid")+"="+n+"]"),r=a.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(o._firstEditableColumnIndex(a)),"inline"===l&&a.length?o.editRow(a):"popup"===l?o.editRow(t):r.length&&o.editCell(r))},_firstEditableColumnIndex:function(e){var t,n,i,a=this,r=a.columns,o=a._modelForContainer(e);for(n=0,i=r.length;i>n;n++)if(t=r[n],o&&(!o.editable||o.editable(t.field))&&!t.command&&t.field)return n;return-1},_toolbar:function(){var t,n=this,i=n.wrapper,a=n.options.toolbar,r=n.options.editable;a&&(t=n.wrapper.find(".k-grid-toolbar"),t.length||(tt(a)||(a=typeof a===Nt?a:n._toolbarTmpl(a).replace(jt,"\\#"),a=et(L.template(a),n)),t=e('<div class="k-toolbar k-grid-toolbar" />').html(a({})).prependTo(i)),r&&r.create!==!1&&t.on(Ht+ht,".k-grid-add",function(e){e.preventDefault(),n.addRow()}).on(Ht+ht,".k-grid-cancel-changes",function(e){e.preventDefault(),n.cancelChanges()}).on(Ht+ht,".k-grid-save-changes",function(e){e.preventDefault(),n.saveChanges()}))},_toolbarTmpl:function(e){var t,n,i=this,a="";if(X(e))for(t=0,n=e.length;n>t;t++)a+=i._createButton(e[t]);return a},_createButton:function(e){var t=e.template||qt,n=typeof e===Nt?e:e.name||e.text,a=rn[n]?rn[n].className:"k-grid-"+(n||"").replace(/\s/g,""),r={className:a,text:n,imageClass:"",attr:"",iconClass:""};if(!(n||G(e)&&e.template))throw Error("Custom commands should have name specified");return G(e)?(e.className&&(e.className+=" "+r.className),"edit"===n&&G(e.text)&&(e=Q(!0,{},e),e.text=e.text.edit),e.attr&&G(e.attr)&&(e.attr=i(e.attr)),r=Q(!0,r,rn[n],e)):r=Q(!0,r,rn[n]),L.template(t)(r)},_hasFooters:function(){return!!this.footerTemplate||!!this.groupFooterTemplate||this.footer&&this.footer.length>0||this.wrapper.find(".k-grid-footer").length>0},_groupable:function(){var t=this;t._groupableClickHandler?t.table.off(Ht+ht,t._groupableClickHandler):t._groupableClickHandler=function(n){var i=e(this),a=i.closest("tr");i.hasClass("k-i-collapse")?t.collapseGroup(a):t.expandGroup(a),n.preventDefault(),n.stopPropagation()},t._isLocked()?t.lockedTable.on(Ht+ht,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",t._groupableClickHandler):t.table.on(Ht+ht,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",t._groupableClickHandler),t._attachGroupable()},_attachGroupable:function(){var t=this,n=t.wrapper,i=t.options.groupable,a=ut+":visible["+L.attr("field")+"]",r=ut+"["+L.attr("field")+"]";i&&(n.has("div.k-grouping-header")[0]||e("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(n),t.groupable&&t.groupable.destroy(),t.groupable=new W(n,Q({},i,{draggable:t._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:t.dataSource,draggableElements:t.content?".k-grid-header:first "+a:"table:first>.k-grid-header "+a,filter:t.content?".k-grid-header:first "+r:"table:first>.k-grid-header "+r,allowDrag:t.options.reorderable})))},_continuousItems:function(t,n){var i,a,r,o,s,l,d,c;if(this.lockedContent){for(i=this,a=i.table.add(i.lockedTable),r=e(t,a[0]),o=e(t,a[1]),s=n?h(i.columns).length:1,l=n?i.columns.length-s:1,d=[],c=0;r.length>c;c+=s)Z.apply(d,r.slice(c,c+s)),Z.apply(d,o.splice(0,l));return d}},_selectable:function(){var n,i,a,r,o=this,s=[],l=o._isLocked(),d=o.options.selectable;d&&(o.selectable&&o.selectable.destroy(),n=typeof d===Nt&&d.toLowerCase().indexOf("multiple")>-1,i=typeof d===Nt&&d.toLowerCase().indexOf("cell")>-1,o._hasDetails()&&(s[s.length]=".k-detail-row"),(o.options.groupable||o._hasFooters())&&(s[s.length]=".k-grouping-row,.k-group-footer"),s=s.join(","),""!==s&&(s=":not("+s+")"),a=o.table,l&&(a=a.add(o.lockedTable)),r=">"+(i?st:"tbody>tr"+s),o.selectable=new L.ui.Selectable(a,{filter:r,aria:!0,multiple:n,change:function(){o.trigger(_t)},useAllItems:l&&n&&i,relatedTarget:function(t){var n,a,r,s;if(!i&&l){for(a=e(),r=0,s=t.length;s>r;r++)n=o._relatedRow(t[r]),J(n[0],t)<0&&(a=a.add(n));return a}},continuousItems:function(){return o._continuousItems(r,i)}}),o.options.navigatable&&a.on("keydown"+ht,function(r){var s=o.current(),d=r.target;if(r.keyCode===U.SPACEBAR&&e.inArray(d,a)>-1&&!s.is(".k-edit-cell,.k-header")&&s.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(r.preventDefault(),r.stopPropagation(),s=i?s:s.parent(),l&&!i&&(s=s.add(o._relatedRow(s))),n)if(r.ctrlKey){if(s.hasClass(Dt))return s.removeClass(Dt),o.trigger(_t),t}else o.selectable.clear();else o.selectable.clear();o.selectable.value(s)}}))},_relatedRow:function(t){var n,i,a=this.lockedTable;return t=e(t),a?(n=t.closest(this.table.add(this.lockedTable)),i=n.find(">tbody>tr").index(t),n=n[0]===this.table[0]?a:this.table,n.find(">tbody>tr").eq(i)):t},clearSelection:function(){var e=this;e.selectable.clear(),e.trigger(_t)},select:function(n){var i=this,a=i.selectable;return n=e(n),n.length?(a.options.multiple||(a.clear(),n=n.first()),i._isLocked()&&(n=n.add(n.map(function(){return i._relatedRow(this)}))),a.value(n),t):a.value()},current:function(e){var n,i=this,a=i.options.scrollable,r=i._current,o=i.table.add(i.thead.parent());return e!==t&&e.length&&(r&&r[0]===e[0]||(r&&(r.removeClass(St).removeAttr("id"),o.removeAttr("aria-activedescendant")),e.attr("id",i._cellId),i._current=e.addClass(St),o.attr("aria-activedescendant",i._cellId),e.length&&a&&(n=e.closest("table").parent(),n.is(".k-grid-content,.k-grid-content-locked")&&i._scrollTo(e.parent()[0],i.content[0]),n.is(".k-grid-content-locked,.k-grid-header-locked")||(a.virtual?i._scrollTo(e[0],i.content.find(">.k-virtual-scrollable-wrap")[0]):i._scrollTo(e[0],i.content[0]))))),i._current},_removeCurrent:function(){this._current&&(this._current.removeClass(St),this._current=null)},_scrollTo:function(e,t){var n=e.tagName.toLowerCase(),i="td"===n||"th"===n,a=e[i?"offsetLeft":"offsetTop"],r=e[i?"offsetWidth":"offsetHeight"],o=t[i?"scrollLeft":"scrollTop"],s=t[i?"clientWidth":"clientHeight"],l=a+r,d=0;d=o>a?a:l>o+s?s>=r?l-s:a:o,t[i?"scrollLeft":"scrollTop"]=d},_navigatable:function(){var t=this,n=et(t.current,t),i=t.table.add(t.lockedTable),a=t.thead.parent().add(e(">table",t.lockedHeader)),r=(t._isLocked(),i),o=L.support.isRtl(t.element);t.options.navigatable&&(t.options.scrollable&&(r=i.add(a),a.attr(It,-1)),a.on("keydown"+ht,function(e){e.altKey&&e.keyCode==U.DOWN&&(n().find(".k-grid-filter, .k-header-column-menu").click(),e.stopImmediatePropagation())}).find("a.k-link").attr("tabIndex",-1),i.attr(It,it.max(i.attr(It)||0,0)).on("mousedown"+ht+" keydown"+ht,".k-detail-cell",function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()}),r.on(L.support.touch?"touchstart"+ht:"mousedown"+ht,lt+">"+dt,et(M,t)).on("focus"+ht,function(){if(!L.support.touch){var t=n();t&&t.is(":visible")?t.addClass(St):n(e(this).find(ct)),i.attr(It,-1),a.attr(It,-1),e(this).attr(It,0)}}).on("focusout"+ht,function(){var e=n();e&&e.removeClass(St)}).on("keydown"+ht,function(r){var s,l,d,c,u,h=r.keyCode,p=!1,f=!r.isDefaultPrevented()&&!e(r.target).is(":button,a,:input,a>.k-icon"),g=t.options.pageable,m=t.dataSource,v="incell"==t._editMode(),b=r.shiftKey,_=et(t._relatedRow,t),y=n();y&&y.is("th")&&(f=!0),f&&h==U.UP?(n(z(y,r.currentTarget,i,a,!0)),p=!0):f&&h==U.DOWN?(n(z(y,r.currentTarget,i,a)),p=!0):f&&h==(o?U.RIGHT:U.LEFT)?(n(I(y,r.currentTarget,i,a,_)),p=!0):f&&h==(o?U.LEFT:U.RIGHT)?(n(R(y,r.currentTarget,i,a,_)),p=!0):f&&g&&U.PAGEDOWN==h?(m.page(m.page()+1),p=!0):f&&g&&U.PAGEUP==h?(m.page(m.page()-1),p=!0):h==U.ENTER||U.F2==h?(y=y?y:i.find(ct),y.is("th")?(y.find(".k-link").click(),p=!0):y.parent().is(".k-master-row,.k-grouping-row")?(y.parent().find(".k-icon:first").click(),p=!0):(d=y.find(":kendoFocusable:first"),!y.hasClass("k-edit-cell")&&d[0]&&y.hasClass("k-state-focused")?(d.focus(),p=!0):t.options.editable&&!e(r.target).is(":button,.k-button,textarea")&&(c=e(r.target).closest("[role=gridcell]"),c[0]||(c=y),t._handleEditing(c,!1,v?r.currentTarget:i[0]),p=!0))):U.ESC==h?(s=q(),y&&e.contains(y[0],s)&&!y.hasClass("k-edit-cell")&&!y.parent().hasClass("k-grid-edit-row")?(A(r.currentTarget,!0),p=!0):!t._editContainer||y&&!t._editContainer.has(y[0])&&y[0]!==t._editContainer[0]||(v?t.closeCell(!0):(l=e(y).parent().index(),s&&s.blur(),t.cancelRow(),l>=0&&t.current(i.find(">tbody>tr").eq(l).children().filter(dt).first())),en.msie&&9>en.version&&document.body.focus(),A(v?r.currentTarget:i[0],!0),p=!0)):U.TAB==h&&(y=e(y),t.options.editable&&v&&(u=e(q()).closest(".k-edit-cell"),u[0]&&u[0]!==y[0]&&(y=u)),u=N(y,r.currentTarget,i,_,b),!y.is("th")&&u.length&&t.options.editable&&v&&(t._handleEditing(y,u,u.closest(i)),p=!0)),p&&(r.preventDefault(),r.stopPropagation())
}))},_handleEditing:function(n,i,a){var r,o,s=this,l=e(q()),d=s._editMode(),c=en.msie,u=c&&9>en.version,h=s._editContainer;if(a=e(a),o="incell"==d?n.hasClass("k-edit-cell"):n.parent().hasClass("k-grid-edit-row"),s.editable){if(e.contains(h[0],l[0])&&(en.opera||u?l.change().triggerHandler("blur"):(l.blur(),c&&l.blur())),!s.editable)return A(a),t;if(!s.editable.end())return s.current("incell"==d?h:h.children().filter(ot).first()),r=h.find(":kendoFocusable:first")[0],r&&r.focus(),t;"incell"==d?s.closeCell():(s.saveRow(),o=!0)}i&&s.current(i),u&&document.body.focus(),A(a,!0),(!o&&!i||i)&&("incell"==d?s.editCell(s.current()):s.editRow(s.current().parent()))},_wrapper:function(){var e=this,t=e.table,n=e.options.height,i=e.element;i.is("div")||(i=i.wrap("<div/>").parent()),e.wrapper=i.addClass("k-grid k-widget"),n&&(e.wrapper.css(zt,n),t.css(zt,"auto")),e._initMobile()},_initMobile:function(){var t,n=this.options,i=this;this._isMobile=n.mobile===!0&&L.support.mobileOS||"phone"===n.mobile||"tablet"===n.mobile,this._isMobile&&(t=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+L.ns+'role="view" data-'+L.ns+'init-widgets="false"></div>').parent(),this.pane=L.mobile.ui.Pane.wrap(t),this.view=this.pane.view(),this._actionSheetPopupOptions=e(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"},n.height&&this.pane.element.parent().css(zt,n.height),this._editAnimation="slide",this.view.bind("show",function(){i._isLocked()&&(i._updateTablesWidth(),i._applyLockedContainersWidth(),i._syncLockedContentHeight(),i._syncLockedHeaderHeight(),i._syncLockedFooterHeight())}))},_tbody:function(){var t,n=this,i=n.table;t=i.find(">tbody"),t.length||(t=e("<tbody/>").appendTo(i)),n.tbody=t.attr("role","rowgroup")},_scrollable:function(){var t,n,i,a,r,o=this,s=o.options,l=s.scrollable,d=l!==!0&&l.virtual&&!o.virtualScrollable,c=!L.support.kineticScrollNeeded||d?L.support.scrollbar():0;l&&(t=o.wrapper.children(".k-grid-header"),t[0]||(t=e('<div class="k-grid-header" />').insertBefore(o.table)),t.css(Zt?"padding-left":"padding-right",l.virtual?c+1:c),n=e('<table role="grid" />'),tn&&n.attr("cellspacing",0),n.append(o.thead),t.empty().append(e('<div class="k-grid-header-wrap" />').append(n)),o.content=o.table.parent(),o.content.is(".k-virtual-scrollable-wrap, .km-scroll-container")&&(o.content=o.content.parent()),o.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(o.content=o.table.wrap('<div class="k-grid-content" />').parent()),d&&(o.virtualScrollable=new an(o.content,{dataSource:o.dataSource,itemHeight:function(){return o._averageRowHeight()}})),o.scrollables=t.children(".k-grid-header-wrap"),i=o.wrapper.find(".k-grid-footer"),a=Zt&&en.webkit?c:0,i.length&&(o.scrollables=o.scrollables.add(i.children(".k-grid-footer-wrap"))),l.virtual?o.content.find(">.k-virtual-scrollable-wrap").bind("scroll"+ht,function(){o.scrollables.scrollLeft(this.scrollLeft+a),o.lockedContent&&(o.lockedContent[0].scrollTop=this.scrollTop)}):(o.content.bind("scroll"+ht,function(){o.scrollables.scrollLeft(this.scrollLeft+a),o.lockedContent&&(o.lockedContent[0].scrollTop=this.scrollTop)}),r=L.touchScroller(o.content),r&&r.movable&&r.movable.bind("change",function(e){o.scrollables.scrollLeft(-e.sender.x),o.lockedContent&&o.lockedContent.scrollTop(-e.sender.y)})))},_setContentWidth:function(){var t,n=this,i="k-grid-content-expander",a='<div class="'+i+'"></div>',r=n.resizable;n.options.scrollable&&n.wrapper.is(":visible")&&(t=n.table.parent().children("."+i),n._setContentWidthHandler=et(n._setContentWidth,n),n.dataSource&&n.dataSource.view().length?t[0]&&(t.remove(),r&&r.unbind("resize",n._setContentWidthHandler)):(t[0]||(t=e(a).appendTo(n.table.parent()),r&&r.bind("resize",n._setContentWidthHandler)),n.thead&&t.width(n.thead.width())),n._applyLockedContainersWidth())},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var e,t=this.thead.parent(),n=t.parent(),i=this.wrapper[0].clientWidth,a=this._groups(),r=L.support.scrollbar(),o=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),s=t.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),l=u(o),d=u(s);a>0&&(l+=this.lockedHeader.find(".k-group-cell:first").outerWidth()*a),l>=i&&(l=i-3*r),this.lockedHeader.add(this.lockedContent).width(l),n[0].style.width=n.parent().width()-l-2+"px",t.add(this.table).width(d),this.virtualScrollable&&(i-=r),this.content[0].style.width=i-l-2+"px",this.lockedFooter&&this.lockedFooter.length&&(this.lockedFooter.width(l),e=this.footer.find(".k-grid-footer-wrap"),e[0].style.width=n[0].clientWidth+"px",e.children().first().width(d))}},_setContentHeight:function(){var e,t=this,n=t.options,i=t.wrapper.innerHeight(),a=t.wrapper.children(".k-grid-header"),r=L.support.scrollbar();n.scrollable&&t.wrapper.is(":visible")&&(i-=a.outerHeight(),t.pager&&(i-=t.pager.element.outerHeight()),n.groupable&&(i-=t.wrapper.children(".k-grouping-header").outerHeight()),n.toolbar&&(i-=t.wrapper.children(".k-grid-toolbar").outerHeight()),t.footerTemplate&&(i-=t.wrapper.children(".k-grid-footer").outerHeight()),e=function(e){var t,n;return e[0].style.height?!0:(t=e.height(),e.height("auto"),n=e.height(),t!=n?(e.height(""),!0):(e.height(""),!1))},e(t.wrapper)&&(i>2*r?(t.lockedContent&&(r=t.table[0].offsetWidth>t.table.parent()[0].clientWidth?r:0,t.lockedContent.height(i-r)),t.content.height(i)):t.content.height(2*r+1)))},_averageRowHeight:function(){var e,t=this,n=t.items().length,i=t._rowHeight;return 0===n?i:(t._rowHeight||(t._rowHeight=i=t.table.outerHeight()/n,t._sum=i,t._measures=1),e=t.table.outerHeight()/n,i!==e&&(t._measures++,t._sum+=e,t._rowHeight=t._sum/t._measures),i)},_dataSource:function(){var e,n=this,i=n.options,a=i.dataSource;a=X(a)?{data:a}:a,G(a)&&(Q(a,{table:n.table,fields:n.columns}),e=i.pageable,G(e)&&e.pageSize!==t&&(a.pageSize=e.pageSize)),n.dataSource&&n._refreshHandler?n.dataSource.unbind(_t,n._refreshHandler).unbind(at,n._progressHandler).unbind(rt,n._errorHandler):(n._refreshHandler=et(n.refresh,n),n._progressHandler=et(n._requestStart,n),n._errorHandler=et(n._error,n)),n.dataSource=j.create(a).bind(_t,n._refreshHandler).bind(at,n._progressHandler).bind(rt,n._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(t){var n,i,a,r,o,s=this,l=t.model,d=s.tbody.find("tr["+L.attr("uid")+"="+l.uid+"]"),c=d.hasClass("k-alt"),u=s.items().index(d),h=s.lockedContent;if(h&&(n=s._relatedRow(d)),d.add(n).children(".k-edit-cell").length&&!s.options.rowTemplate)d.add(n).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){i=e(this),a=s.columns[s.cellIndex(i)],a.field===t.field&&(i.hasClass("k-edit-cell")?i.addClass("k-dirty-cell"):(s._displayCell(i,a,l),e('<span class="k-dirty"/>').prependTo(i)))});else if(!d.hasClass("k-grid-edit-row")){for(h&&(r=(c?s.lockedAltRowTemplate:s.lockedRowTemplate)(l),n.replaceWith(r)),r=(c?s.altRowTemplate:s.rowTemplate)(l),d.replaceWith(r),r=s.items().eq(u),h&&(n=s._relatedRow(r)[0],E(r[0],n),r=r.add(n)),u=0,o=s.columns.length;o>u;u++)a=s.columns[u],a.field===t.field&&(i=r.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(u),e('<span class="k-dirty"/>').prependTo(i));s.trigger("itemChange",{item:r,data:l,ns:B})}},_pageable:function(){var t,n=this,i=n.options.pageable;i&&(t=n.wrapper.children("div.k-grid-pager"),t.length||(t=e('<div class="k-pager-wrap k-grid-pager"/>').appendTo(n.wrapper)),n.pager&&n.pager.destroy(),n.pager="object"==typeof i&&i instanceof L.ui.Pager?i:new L.ui.Pager(t,Q({},i,{dataSource:n.dataSource})))},_footer:function(){var t,n,i,a,r=this,s=r.dataSource.aggregates(),l="",d=r.footerTemplate,c=r.options,u=r.footer||r.wrapper.find(".k-grid-footer");d?(s=nt(s)?o(r.dataSource.aggregate()):s,l=e(r._wrapFooter(d(s))),u.length?(n=l,u.replaceWith(n),u=r.footer=n):u=r.footer=c.scrollable?c.pageable?l.insertBefore(r.wrapper.children("div.k-grid-pager")):l.appendTo(r.wrapper):l.insertBefore(r.tbody)):u&&!r.footer&&(r.footer=u),u.length&&(c.scrollable&&(t=u.attr("tabindex",-1).children(".k-grid-footer-wrap"),r.scrollables=r.scrollables.filter(function(){return!e(this).is(".k-grid-footer-wrap")}).add(t)),r._footerWidth&&u.find("table").css("width",r._footerWidth),t&&(i=r.content.scrollLeft(),a=c.scrollable!==!0&&c.scrollable.virtual&&!r.virtualScrollable,a&&(i=r.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()),t.scrollLeft(i))),r.lockedContent&&(r._appendLockedColumnFooter(),r._applyLockedContainersWidth(),r._syncLockedFooterHeight())},_wrapFooter:function(t){var n=this,i="",a=L.support.mobileOS?0:L.support.scrollbar();return n.options.scrollable?(i=e('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(tn?' cellspacing="0"':"")+"><tbody>"+t+"</tbody></table></div></div>"),n._appendCols(i.find("table")),i.css(Zt?"padding-left":"padding-right",a),i):'<tfoot class="k-grid-footer">'+t+"</tfoot>"},_columnMenu:function(){var e,t,n,i,a,r,o,s,l,d=this,c=d.columns,u=d.options,p=u.columnMenu,f=this._isMobile,g=function(e){d.trigger(bt,{field:e.field,container:e.container})},m=function(e){A(e.closest("table"),!0)};if(p)for("boolean"==typeof p&&(p={}),r=d.thead.find("th:not(.k-hierarchy-cell):not(.k-group-cell)"),o=0,s=r.length;s>o;o++)t=c[o],l=r.eq(o),t.command||!t.field&&!l.attr("data-"+L.ns+"field")||(e=l.data("kendoColumnMenu"),e&&e.destroy(),i=t.sortable!==!1&&p.sortable!==!1?u.sortable:!1,a=u.filterable&&t.filterable!==!1&&p.filterable!==!1?Q({pane:d.pane},t.filterable,u.filterable):!1,n={dataSource:d.dataSource,values:t.values,columns:p.columns,sortable:i,filterable:a,messages:p.messages,owner:d,closeCallback:m,init:g,pane:d.pane,filter:f?":not(.k-column-active)":"",lockedColumns:t.lockable!==!1&&h(c).length>0},l.kendoColumnMenu(n))},_headerCells:function(){return this.thead.find("th").filter(function(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")})},_filterable:function(){var e,t,n,i,a,r,o,s=this,l=s.columns,d=function(e){s.trigger(vt,{field:e.field,container:e.container})},c=function(e){A(e.closest("table"),!0)},u=s.options.filterable;if(u&&!s.options.columnMenu)for(t=s._headerCells(),i=0,a=t.length;a>i;i++)n=t.eq(i),l[i].filterable===!1||l[i].command||!l[i].field&&!n.attr("data-"+L.ns+"field")||(e=n.data("kendoFilterMenu"),e&&e.destroy(),r=l[i].filterable,o=Q({},u,r,{dataSource:s.dataSource,values:l[i].values,closeCallback:c,init:d,pane:s.pane}),r&&r.messages&&(o.messages=Q(!0,{},u.messages,r.messages)),n.kendoFilterMenu(o))},_sortable:function(){var e,t,n,i,a,r,o=this,s=o.columns,l=o.options.sortable;if(l){for(i=o._headerCells(),a=0,r=i.length;r>a;a++)e=s[a],e.sortable!==!1&&!e.command&&e.field&&(n=i.eq(a),t=n.data("kendoSorter"),t&&t.destroy(),n.attr("data-"+L.ns+"field",e.field).kendoSorter(Q({},l,e.sortable,{dataSource:o.dataSource,aria:!0,filter:":not(.k-column-active)"})));i=null}},_columns:function(t){var n,i,a,r=this,o=r.table,s=o.find("col"),l=r.options.dataSource;if(t=t.length?t:Y(o.find("th"),function(t,n){t=e(t);var i=t.attr(L.attr("sortable")),a=t.attr(L.attr("filterable")),r=t.attr(L.attr("type")),o=t.attr(L.attr("groupable")),l=t.attr(L.attr("field")),d=t.attr(L.attr("menu"));return l||(l=t.text().replace(/\s|[^A-z0-9]/g,"")),{field:l,type:r,sortable:"false"!==i,filterable:"false"!==a,groupable:"false"!==o,menu:d,template:t.attr(L.attr("template")),width:s.eq(n).css("width")}}),n=!(r.table.find("tbody tr").length>0&&(!l||!l.transport)),r.options.scrollable){if(a=t,i=h(t),t=p(t),i.length>0&&0===t.length)throw Error("There should be at least one non locked columns");y(r.element.find("tr:has(th):first").find("th:not(.k-group-cell)"),a),t=i.concat(t)}r.columns=Y(t,function(e){return e=typeof e===Nt?{field:e}:e,e.hidden&&(e.attributes=v(e.attributes),e.footerAttributes=v(e.footerAttributes),e.headerAttributes=v(e.headerAttributes)),Q({encoded:n},e)})},_groups:function(){var e=this.dataSource.group();return e?e.length:0},_tmpl:function(e,t,a,r){var o,s,l,d,c=this,u=Q({},L.Template,c.options.templateSettings),h=t.length,p={storage:{},count:0},f=c._hasDetails(),g=[],m=c._groups();if(!e){for(e="<tr",a&&g.push("k-alt"),f&&g.push("k-master-row"),g.length&&(e+=' class="'+g.join(" ")+'"'),h&&(e+=" "+L.attr("uid")+'="#='+L.expr("uid",u.paramName)+'#"'),e+=" role='row'>",m>0&&!r&&(e+=n(m)),f&&(e+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'),o=0;h>o;o++)l=t[o],s=l.template,d=typeof s,e+="<td"+i(l.attributes)+" role='gridcell'>",e+=c._cellTmpl(l,p),e+="</td>";e+="</tr>"}return e=L.template(e,u),p.count>0?et(e,p.storage):e},_headerCellText:function(e){var t=this,n=Q({},L.Template,t.options.templateSettings),i=e.headerTemplate,a=typeof i,r=e.title||e.field||"";return a===Rt?r=L.template(i,n)({}):a===Nt&&(r=i),r},_cellTmpl:function(e,t){var n,i,a=this,r=Q({},L.Template,a.options.templateSettings),o=e.template,s=r.paramName,l=e.field,d="",c=e.format,u=typeof o,h=e.values;if(e.command){if(X(e.command)){for(n=0,i=e.command.length;i>n;n++)d+=a._createButton(e.command[n]);return d.replace(jt,"\\#")}return a._createButton(e.command).replace(jt,"\\#")}return u===Rt?(t.storage["tmpl"+t.count]=o,d+="#=this.tmpl"+t.count+"("+s+")#",t.count++):u===Nt?d+=o:h&&h.length&&G(h[0])&&"value"in h[0]&&l?(d+="#var v ="+L.stringify(k(h))+"#",d+="#var f = v[",r.useWithBlock||(d+=s+"."),d+=l+"]#",d+="${f != null ? f : ''}"):(d+=e.encoded?"#:":"#=",c&&(d+='kendo.format("'+c.replace(Bt,"\\$1")+'",'),l?(l=L.expr(l,s),d+=l+"==null?'':"+l):d+="''",c&&(d+=")"),d+="#"),d},_templates:function(){var t=this,n=t.options,i=t.dataSource,a=i.group(),r=t.footer||t.wrapper.find(".k-grid-footer"),o=i.aggregate(),s=h(t.columns),l=n.scrollable?p(t.columns):t.columns;if(n.scrollable&&s.length){if(n.rowTemplate||n.altRowTemplate)throw Error("Having both row template and locked columns is not supported");t.rowTemplate=t._tmpl(n.rowTemplate,l,!1,!0),t.altRowTemplate=t._tmpl(n.altRowTemplate||n.rowTemplate,l,!0,!0),t.lockedRowTemplate=t._tmpl(n.rowTemplate,s),t.lockedAltRowTemplate=t._tmpl(n.altRowTemplate||n.rowTemplate,s,!0)}else t.rowTemplate=t._tmpl(n.rowTemplate,l),t.altRowTemplate=t._tmpl(n.altRowTemplate||n.rowTemplate,l,!0);t._hasDetails()&&(t.detailTemplate=t._detailTmpl(n.detailTemplate||"")),(t._group&&!nt(o)||!nt(o)&&!r.length||K(t.columns,function(e){return e.footerTemplate}).length)&&(t.footerTemplate=t._footerTmpl(t.columns,o,"footerTemplate","k-footer-template")),a&&K(t.columns,function(e){return e.groupFooterTemplate}).length&&(o=e.map(a,function(e){return e.aggregates}),t.groupFooterTemplate=t._footerTmpl(l,o,"groupFooterTemplate","k-group-footer",s.length),n.scrollable&&s.length&&(t.lockedGroupFooterTemplate=t._footerTmpl(s,o,"groupFooterTemplate","k-group-footer")))},_footerTmpl:function(e,t,a,r,s){var l,d,c,u,h,p=this,f=Q({},L.Template,p.options.templateSettings),g=f.paramName,m="",v={},b=0,_={},y=p._groups(),k=o(t);for(m+='<tr class="'+r+'">',y>0&&!s&&(m+=n(y)),p._hasDetails()&&(m+='<td class="k-hierarchy-cell">&nbsp;</td>'),l=0,d=e.length;d>l;l++)h=e[l],c=h[a],u=typeof c,m+="<td"+i(h.footerAttributes)+">",c?(u!==Rt&&(_=k[h.field]?Q({},f,{paramName:g+"."+h.field}):{},c=L.template(c,_)),v["tmpl"+b]=c,m+="#=this.tmpl"+b+"("+g+")#",b++):m+="&nbsp;",m+="</td>";return m+="</tr>",m=L.template(m,f),b>0?et(m,v):m},_detailTmpl:function(e){var t=this,i="",a=Q({},L.Template,t.options.templateSettings),r=a.paramName,o={},s=0,l=t._groups(),d=c(t.columns).length,u=typeof e;return i+='<tr class="k-detail-row">',l>0&&(i+=n(l)),i+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(d?' colspan="'+d+'"':"")+">",u===Rt?(o["tmpl"+s]=e,i+="#=this.tmpl"+s+"("+r+")#",s++):i+=e,i+="</td></tr>",i=L.template(i,a),s>0?et(i,o):i},_hasDetails:function(){var e=this;return null!==e.options.detailTemplate||(e._events[mt]||[]).length},_details:function(){var t=this;if(t.options.scrollable&&t._hasDetails()&&h(t.columns).length)throw Error("Having both detail template and locked columns is not supported");t.table.on(Ht+ht,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(n){var i,a,r=e(this),o=r.hasClass("k-plus"),s=r.closest("tr.k-master-row"),l=t.detailTemplate,d=t._hasDetails();return r.toggleClass("k-plus",!o).toggleClass("k-minus",o),d&&!s.next().hasClass("k-detail-row")&&(a=t.dataItem(s),e(l(a)).addClass(s.hasClass("k-alt")?"k-alt":"").insertAfter(s),t.trigger(mt,{masterRow:s,detailRow:s.next(),data:a,detailCell:s.next().find(".k-detail-cell")})),i=s.next(),t.trigger(o?Ct:Tt,{masterRow:s,detailRow:i}),i.toggle(o),t._current&&t._current.attr("aria-expanded",o),n.preventDefault(),!1})},dataItem:function(t){if(t=e(t)[0],!t)return null;var n,i,a=this.tbody.children(),r=/k-grouping-row|k-detail-row|k-group-footer/,o=t.sectionRowIndex;for(i=o,n=0;o>n;n++)r.test(a[n].className)&&i--;return this._data[i]},expandRow:function(t){e(t).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(t){e(t).find("> td .k-minus, > td .k-i-collapse").click()},_createHeaderCells:function(e){var n,a,r,o,s=this,l="";for(n=0,o=e.length;o>n;n++)a=e[n],r=s._headerCellText(a),a.command?l+="<th"+i(a.headerAttributes)+">"+r+"</th>":(l+="<th role='columnheader' "+L.attr("field")+"='"+(a.field||"")+"' ",a.title&&(l+=L.attr("title")+'="'+a.title.replace(/'/g,"'")+'" '),a.groupable!==t&&(l+=L.attr("groupable")+"='"+a.groupable+"' "),a.aggregates&&(l+=L.attr("aggregates")+"='"+a.aggregates+"'"),l+=i(a.headerAttributes),l+=">"+r+"</th>");return l},_appendLockedColumnContent:function(){var t,n,i,a=this.columns,r=this.table.find("colgroup"),o=r.find("col:not(.k-group-col,.k-hierarchy-col)"),s=e();for(t=0,n=a.length;n>t;t++)a[t].locked&&!a[t].hidden&&(s=s.add(o.eq(t)));i=e('<div class="k-grid-content-locked"><table'+(tn?' cellspacing="0"':"")+"><colgroup/><tbody></tbody></table></div>"),r.detach(),i.find("colgroup").append(s),r.insertBefore(this.table.find("tbody")),this.lockedContent=i.insertBefore(this.content),this.lockedTable=i.children("table")},_appendLockedColumnFooter:function(){var t,n,i=this,a=i.footer,r=a.find(".k-footer-template>td"),o=a.find(".k-grid-footer-wrap>table>colgroup>col"),s=e('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"></tr></tbody></table></div>'),l=i._groups(),d=e(),c=e();for(d=d.add(r.filter(".k-group-cell")),t=0,n=h(i.columns).length;n>t;t++)d=d.add(r.eq(t+l));for(c=c.add(o.filter(".k-group-col")),t=0,n=g(i.columns).length;n>t;t++)c=c.add(o.eq(t+l));d.appendTo(s.find("tr")),c.appendTo(s.find("colgroup")),i.lockedFooter=s.prependTo(a)},_appendLockedColumnHeader:function(t){var n,i,a,r,o,s,l,d=this,c=this.columns,u=0,h=e(),p=e();for(r=d.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),l=d.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),n=0,a=c.length;a>n;n++)c[n].locked&&(c[n].hidden||(h=h.add(r.eq(n-u))),p=p.add(l.eq(n))),c[n].hidden&&u++;p.length&&(i='<div class="k-grid-header-locked" style="width:1px"><table'+(tn?' cellspacing="0"':"")+"><colgroup/><thead><tr></tr></thead></table></div>",s=e(i),r=s.find("colgroup"),o=s.find("thead tr"),r.append(d.thead.prev().find("col.k-group-col").add(h)),o.append(d.thead.find(".k-group-cell").add(p)),this.lockedHeader=s.prependTo(t),this._syncLockedHeaderHeight())},_removeLockedContainers:function(){var e=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);e.off(ht).remove(),this.lockedHeader=this.lockedContent=this.lockedFooter=null},_thead:function(){var t,n=this,i=n.columns,a=n._hasDetails()&&i.length,r="",o=n.table.find(">thead");o.length||(o=e("<thead/>").insertBefore(n.tbody)),n.lockedHeader&&n.thead?(t=n.thead.find("tr:has(th):first").html(""),n._removeLockedContainers()):t=n.element.find("tr:has(th):first"),t.length||(t=o.children().first(),t.length||(t=e("<tr/>"))),t.children().length?a&&!t.find(".k-hierarchy-cell")[0]&&t.prepend('<th class="k-hierarchy-cell">&nbsp;</th>'):(a&&(r+='<th class="k-hierarchy-cell">&nbsp;</th>'),r+=n._createHeaderCells(n.columns),t.html(r)),t.attr("role","row").find("th").addClass("k-header"),n.options.scrollable||o.addClass("k-grid-header"),t.find("script").remove().end().appendTo(o),n.thead&&n._destroyColumnAttachments(),n.thead=o.attr("role","rowgroup"),n._sortable(),n._filterable(),n._scrollable(),n._updateCols(),n._columnMenu(),this.options.scrollable&&h(this.columns).length&&(n._appendLockedColumnHeader(n.thead.closest(".k-grid-header")),n._appendLockedColumnContent(),n._applyLockedContainersWidth()),n._resizable(),n._draggable(),n._reorderable(),n.groupable&&n._attachGroupable()},_isLocked:function(){return null!=this.lockedHeader},_updateCols:function(e){e=e||this.thead.parent().add(this.table),this._appendCols(e,this._isLocked())},_updateLockedCols:function(e){this._isLocked()&&(e=e||this.lockedHeader.find("table").add(this.lockedTable),_(e,g(this.columns),this._hasDetails(),this._groups()))},_appendCols:function(e,t){t?_(e,f(this.columns),this._hasDetails(),0):_(e,c(this.columns),this._hasDetails(),this._groups())},_autoColumns:function(e){if(e&&e.toJSON){var t,n=this;e=e.toJSON();for(t in e)n.columns.push({field:t});n._thead(),n._templates()}},_rowsHtml:function(e,t){var n,i,a=this,r="",o=t.rowTemplate,s=t.altRowTemplate;for(n=0,i=e.length;i>n;n++)r+=n%2?s(e[n]):o(e[n]),a._data.push(e[n]);return r},_groupRowHtml:function(e,t,n,i,a,r){var o,s,l=this,d="",c=e.field,u=K(l.columns,function(e){return e.field==c})[0]||{},h=u.groupHeaderTemplate,p=(u.title||c)+": "+w(e.value,u.format,u.values),f=Q({},{field:e.field,value:e.value},e.aggregates[e.field]),g=l._groupAggregatesDefaultObject||{},m=a.groupFooterTemplate,v=e.items;if(h&&(p=typeof h===Rt?h(f):L.template(h)(f)),d+=i(t,n,p),e.hasSubgroups)for(o=0,s=v.length;s>o;o++)d+=l._groupRowHtml(v[o],r?t:t-1,n+1,i,a,r);else d+=l._rowsHtml(v,a);return m&&(d+=m(Q(g,e.aggregates))),d},collapseGroup:function(t){t=e(t);var n,i,a,r,o,s=1,l=e();for(this._isLocked()&&(t.closest("div").hasClass("k-grid-content-locked")?l=this.tbody.children("tr:eq("+t.index()+")").nextAll("tr"):(l=t.nextAll("tr"),t=this.lockedTable.find(">tbody>tr:eq("+t.index()+")"))),n=t.find(".k-group-cell").length,t.find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse"),t.find("td:first").attr("aria-expanded",!1),t=t.nextAll("tr"),a=0,r=t.length;r>a&&(o=t.eq(a),i=o.find(".k-group-cell").length,o.hasClass("k-grouping-row")?s++:o.hasClass("k-group-footer")&&s--,!(n>=i||o.hasClass("k-group-footer")&&0>s));a++)o.hide(),l.eq(a).hide()},expandGroup:function(t){t=e(t);var n,i,a,r,o,s=this,l=e(),d=1;for(this._isLocked()&&(t.closest("div").hasClass("k-grid-content-locked")?l=this.tbody.children("tr:eq("+t.index()+")").nextAll("tr"):(l=t.nextAll("tr"),t=this.lockedTable.find(">tbody>tr:eq("+t.index()+")"))),n=t.find(".k-group-cell").length,t.find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand"),t.find("td:first").attr("aria-expanded",!0),t=t.nextAll("tr"),r=0,o=t.length;o>r&&(i=t.eq(r),a=i.find(".k-group-cell").length,!(n>=a));r++)a!=n+1||i.hasClass("k-detail-row")||(i.show(),l.eq(r).show(),i.hasClass("k-grouping-row")&&i.find(".k-icon").hasClass("k-i-collapse")&&s.expandGroup(i),i.hasClass("k-master-row")&&i.find(".k-icon").hasClass("k-minus")&&(i.next().show(),l.eq(r+1).show())),i.hasClass("k-grouping-row")&&d++,i.hasClass("k-group-footer")&&(1==d?(i.show(),l.eq(r).show()):d--)},_updateHeader:function(t){var n=this,i=n._isLocked()?n.lockedHeader:n.thead,a=i.find("th.k-group-cell"),r=a.length;t>r?e(Array(t-r+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(i.find("tr")):r>t&&(r-=t,e(K(a,function(e,t){return r>t})).remove())},_firstDataItem:function(e,t){return e&&t&&(e=e.hasSubgroups?this._firstDataItem(e.items[0],t):e.items[0]),e},_updateTablesWidth:function(){var t,n=this;n._isLocked()&&(t=e(">.k-grid-footer>.k-grid-footer-wrap>table",n.wrapper).add(n.thead.parent()).add(n.table),n._footerWidth=D(t.eq(0)),t.width(n._footerWidth),t=e(">.k-grid-footer>.k-grid-footer-locked>table",n.wrapper).add(n.lockedHeader.find(">table")).add(n.lockedTable),t.width(D(t.eq(0))))},hideColumn:function(t){var n,i,a,r,o,s,d=this,u=0,h=d.footer||d.wrapper.find(".k-grid-footer"),p=d.columns,f=g(p).length;if(t="number"==typeof t?p[t]:K(p,function(e){return e.field===t})[0],t&&!t.hidden){if(s=J(t,c(p)),t.hidden=!0,t.attributes=v(t.attributes),t.footerAttributes=v(t.footerAttributes),t.headerAttributes=v(t.headerAttributes),d._templates(),d._updateCols(),d._updateLockedCols(),x(l(e(">table>thead",d.lockedHeader),d.thead,">tr>th"),s,!1),h[0]&&(d._updateCols(h.find(">.k-grid-footer-wrap>table")),d._updateLockedCols(h.find(">.k-grid-footer-locked>table")),x(h.find(".k-footer-template>td"),s,!1)),d.lockedTable&&f>s?C(d.lockedTable.find(">tbody>tr"),s):C(d.tbody.children(),s-f),d.lockedTable)d._updateTablesWidth(),d._applyLockedContainersWidth(),d._syncLockedContentHeight(),d._syncLockedHeaderHeight(),d._syncLockedFooterHeight();else{for(a=d.thead.prev().find("col"),i=0,o=a.length;o>i;i+=1){if(r=a[i].style.width,!r||-1!=r.indexOf("%")){u=0;break}u+=parseInt(r,10)}n=e(">.k-grid-header table:first,>.k-grid-footer table:first",d.wrapper).add(d.table),d._footerWidth=null,u&&(n.width(u),d._footerWidth=u),en.msie&&8==en.version&&(n.css("display","inline-table"),setTimeout(function(){n.css("display","table")},1))}d.trigger(yt,{column:t})}},showColumn:function(t){var n,i,a,r,o,s,d,c=this,u=c.columns,p=c.footer||c.wrapper.find(".k-grid-footer"),f=h(u).length;if(t="number"==typeof t?u[t]:K(u,function(e){return e.field===t})[0],t&&t.hidden){if(d=J(t,u),t.hidden=!1,t.attributes=b(t.attributes),t.footerAttributes=b(t.footerAttributes),t.headerAttributes=b(t.headerAttributes),c._templates(),c._updateCols(),c._updateLockedCols(),x(l(e(">table>thead",c.lockedHeader),c.thead,">tr>th"),d,!0),p[0]&&(c._updateCols(p.find(">.k-grid-footer-wrap>table")),c._updateLockedCols(p.find(">.k-grid-footer-locked>table")),x(p.find(".k-footer-template>td"),d,!0)),c.lockedTable&&f>d?T(c.lockedTable.find(">tbody>tr"),d):T(c.tbody.children(),d-f),c.lockedTable)c._updateTablesWidth(),c._applyLockedContainersWidth(),c._syncLockedContentHeight(),c._syncLockedHeaderHeight();else if(a=e(">.k-grid-header table:first,>.k-grid-footer table:first",c.wrapper).add(c.table),t.width){for(r=0,s=c.thead.prev().find("col"),n=0,i=s.length;i>n;n+=1){if(o=s[n].style.width,o.indexOf("%")>-1){r=0;break}r+=parseInt(o,10)}c._footerWidth=null,r&&(a.width(r),c._footerWidth=r)}else a.width("");c.trigger(kt,{column:t})}},_progress:function(e){var t=this.element;this.lockedContent?t=this.wrapper:this.element.is("table")?t=this.element.parent():this.content&&this.content.length&&(t=this.content),L.ui.progress(t,e)},_resize:function(){this.content&&(this._setContentHeight(),this._setContentWidth())},_isActiveInTable:function(){var t=q();return this.table[0]===t||e.contains(this.table[0],t)||this._isLocked()&&(this.lockedTable[0]===t||e.contains(this.lockedTable[0],t))},refresh:function(t){var n,i=this,a=i.dataSource.view(),r=i.options.navigatable,o=e(i.current()),s=!1,l=(i.dataSource.group()||[]).length,d=l+c(i.columns).length;t&&"itemchange"===t.action&&i.editable||(t=t||{},i.trigger("dataBinding",{action:t.action||"rebind",index:t.index,items:t.items})||(r&&(i._isActiveInTable()||i._editContainer&&i._editContainer.data("kendoWindow"))&&(s=o.is("th"),n=0,s&&(n=i.thead.find("th:not(.k-group-cell)").index(o))),i._destroyEditable(),i._progress(!1),i._hideResizeHandle(),i._data=[],i.columns.length||(i._autoColumns(i._firstDataItem(a[0],l)),d=l+i.columns.length),i._group=l>0||i._group,i._group&&(i._templates(),i._updateCols(),i._updateLockedCols(),i._updateHeader(l),i._group=l>0),i._renderContent(a,d,l),i._renderLockedContent(a,d,l),i._footer(),i._setContentHeight(),i._setContentWidth(),n>=0&&(i._removeCurrent(),i.current(s?i.thead.find("th:not(.k-group-cell)").eq(n):i.table.add(i.lockedTable).find(ct).first()),i._current&&A(i._current.closest("table")[0],!0)),i.trigger(xt)))},_renderContent:function(e,t,n){var i,a,r=this,s="",l=null!=r.lockedContent,d={rowTemplate:r.rowTemplate,altRowTemplate:r.altRowTemplate,groupFooterTemplate:r.groupFooterTemplate};if(t=l?t-g(r.columns).length:t,n>0)for(t=l?t-n:t,r.detailTemplate&&t++,r.groupFooterTemplate&&(r._groupAggregatesDefaultObject=o(r.dataSource.aggregate())),i=0,a=e.length;a>i;i++)s+=r._groupRowHtml(e[i],t,0,l?O:P,d,l);else s+=r._rowsHtml(e,d);r.tbody=m(r.tbody,r.table,s)},_renderLockedContent:function(e,t,n){var i,a,r,o="",s={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate};if(this.lockedContent){if(r=this.lockedTable,n>0)for(t-=f(this.columns).length,i=0,a=e.length;a>i;i++)o+=this._groupRowHtml(e[i],t,0,P,s);else o=this._rowsHtml(e,s);m(r.children("tbody"),r,o),this._syncLockedContentHeight()}},_adjustRowsHeight:function(e,t){var n,i,a,r,o=e[0].rows,s=o.length,l=t[0].rows,d=e.add(t),c=d.length,u=[];for(n=0;s>n;n++)o[n].style.height&&(o[n].style.height=l[n].style.height=""),i=o[n].offsetHeight,a=l[n].offsetHeight,r=0,i>a?r=i:a>i&&(r=a),u.push(r);for(n=0;c>n;n++)d[n].style.display="none";for(n=0;s>n;n++)u[n]&&(o[n].style.height=l[n].style.height=u[n]+"px");for(n=0;c>n;n++)d[n].style.display=""}}),sn=$.extend({init:function(e,t){var n,i=this;$.fn.init.call(i,e,t),i._refreshHandler=et(i.refresh,i),i.dataSource=i.options.dataSource.bind("change",i._refreshHandler),n=i.element.find(Xt),n[0]||(n=i.element.wrapInner('<a class="k-link" href="#"/>').find(Xt)),i.link=n,i.element.on("click"+Kt,et(i._click,i))},options:{name:"Sorter",mode:Gt,allowUnsort:!0,compare:null,filter:""},destroy:function(){var e=this;$.fn.destroy.call(e),e.element.off(Kt),e.dataSource.unbind("change",e._refreshHandler),e._refreshHandler=e.element=e.link=e.dataSource=null},refresh:function(){var t,n,i,a,r=this,o=r.dataSource.sort()||[],s=r.element,l=s.attr(L.attr(Qt));for(s.removeAttr(L.attr($t)),s.removeAttr(Jt),t=0,n=o.length;n>t;t++)i=o[t],l==i.field&&s.attr(L.attr($t),i.dir);a=s.attr(L.attr($t)),s.find(".k-i-arrow-n,.k-i-arrow-s").remove(),a===Ut?(e('<span class="k-icon k-i-arrow-n" />').appendTo(r.link),s.attr(Jt,"ascending")):a===Yt&&(e('<span class="k-icon k-i-arrow-s" />').appendTo(r.link),s.attr(Jt,"descending"))},_click:function(e){var n,i,a=this,r=a.element,o=r.attr(L.attr(Qt)),s=r.attr(L.attr($t)),l=a.options,d=null==a.options.compare?t:a.options.compare,c=a.dataSource.sort()||[];if(e.preventDefault(),!l.filter||r.is(l.filter)){if(s=s===Ut?Yt:s===Yt&&l.allowUnsort?t:Ut,l.mode===Gt)c=[{field:o,dir:s,compare:d}];else if("multiple"===l.mode){for(n=0,i=c.length;i>n;n++)if(c[n].field===o){c.splice(n,1);break}c.push({field:o,dir:s,compare:d})}a.dataSource.sort(c)}}});B.plugin(on),B.plugin(an),B.plugin(sn)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i="change",a="cancel",r="dataBound",o="dataBinding",s=n.ui.Widget,l=n.keys,d=">*",c="progress",u="error",h="k-state-focused",p="k-state-selected",f="k-edit-item",g="string",m="edit",v="remove",b="save",_="click",y=".kendoListView",k=e.proxy,w=n._activeElement,x=n.ui.progress,C=n.data.DataSource,T=s.extend({init:function(t,i){var a=this;i=e.isArray(i)?{dataSource:i}:i,s.fn.init.call(a,t,i),i=a.options,a.wrapper=t=a.element,t[0].id&&(a._itemId=t[0].id+"_lv_active"),a._element(),a._dataSource(),a._templates(),a._navigatable(),a._selectable(),a._pageable(),a._crudHandlers(),a.options.autoBind&&a.dataSource.fetch(),n.notify(a)},events:[i,a,o,r,m,v,b],options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,template:"",altTemplate:"",editTemplate:""},setOptions:function(e){s.fn.setOptions.call(this,e),this._templates()},_templates:function(){var e=this.options;this.template=n.template(e.template||""),this.altTemplate=n.template(e.altTemplate||e.template),this.editTemplate=n.template(e.editTemplate||"")},_item:function(e){return this.element.children()[e]()},items:function(){return this.element.children()},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch()},_unbindDataSource:function(){var e=this;e.dataSource.unbind(i,e._refreshHandler).unbind(c,e._progressHandler).unbind(u,e._errorHandler)},_dataSource:function(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._refreshHandler=k(e.refresh,e),e._progressHandler=k(e._progress,e),e._errorHandler=k(e._error,e)),e.dataSource=C.create(e.options.dataSource).bind(i,e._refreshHandler).bind(c,e._progressHandler).bind(u,e._errorHandler)},_progress:function(){x(this.element,!0)},_error:function(){x(this.element,!1)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(e){var i,a,s,l,d,c=this,u=c.dataSource.view(),h="",p=c.template,f=c.altTemplate,g=w();if(e=e||{},"itemchange"===e.action)return c._hasBindingTarget()||c.editable||(i=e.items[0],s=c.items().filter("["+n.attr("uid")+"="+i.uid+"]"),s.length>0&&(l=s.index(),s.replaceWith(p(i)),s=c.items().eq(l),s.attr(n.attr("uid"),i.uid),c.trigger("itemChange",{item:s,data:i}))),t;
if(!c.trigger(o,{action:e.action||"rebind",items:e.items,index:e.index})){for(c._destroyEditable(),l=0,d=u.length;d>l;l++)h+=l%2?f(u[l]):p(u[l]);for(c.element.html(h),a=c.items(),l=0,d=u.length;d>l;l++)a.eq(l).attr(n.attr("uid"),u[l].uid).attr("role","option").attr("aria-selected","false");c.element[0]===g&&c.options.navigatable&&c.current(a.eq(0)),c.trigger(r)}},_pageable:function(){var t,i,a=this,r=a.options.pageable;e.isPlainObject(r)&&(i=r.pagerId,t=e.extend({},r,{dataSource:a.dataSource,pagerId:null}),a.pager=new n.ui.Pager(e("#"+i),t))},_selectable:function(){var e,a,r=this,o=r.options.selectable,s=r.options.navigatable;o&&(e=typeof o===g&&o.toLowerCase().indexOf("multiple")>-1,e&&r.element.attr("aria-multiselectable",!0),r.selectable=new n.ui.Selectable(r.element,{aria:!0,multiple:e,filter:d,change:function(){r.trigger(i)}}),s&&r.element.on("keydown"+y,function(n){if(n.keyCode===l.SPACEBAR){if(a=r.current(),n.target==n.currentTarget&&n.preventDefault(),e)if(n.ctrlKey){if(a&&a.hasClass(p))return a.removeClass(p),t}else r.selectable.clear();else r.selectable.clear();r.selectable.value(a)}}))},current:function(e){var n=this,i=n.element,a=n._current,r=n._itemId;return e===t?a:(a&&a[0]&&(a[0].id===r&&a.removeAttr("id"),a.removeClass(h),i.removeAttr("aria-activedescendant")),e&&e[0]&&(r=e[0].id||r,n._scrollTo(e[0]),i.attr("aria-activedescendant",r),e.addClass(h).attr("id",r)),n._current=e,t)},_scrollTo:function(t){var n,i,a=this,r=!1,o="scroll";"auto"==a.wrapper.css("overflow")||a.wrapper.css("overflow")==o?n=a.wrapper[0]:(n=window,r=!0),i=function(i,a){var s=r?e(t).offset()[i.toLowerCase()]:t["offset"+i],l=t["client"+a],d=e(n)[o+i](),c=e(n)[a.toLowerCase()]();s+l>d+c?e(n)[o+i](s+l-c):d>s&&e(n)[o+i](s)},i("Top","Height"),i("Left","Width")},_navigatable:function(){var t=this,i=t.options.navigatable,a=t.element,r=function(n){t.current(e(n.currentTarget)),e(n.target).is(":button,a,:input,a>.k-icon,textarea")||a.focus()};i&&(t._tabindex(),a.on("focus"+y,function(){var e=t._current;e&&e.is(":visible")||(e=t._item("first")),t.current(e)}).on("focusout"+y,function(){t._current&&t._current.removeClass(h)}).on("keydown"+y,function(i){var r,o,s=i.keyCode,d=t.current(),c=e(i.target),u=!c.is(":button,textarea,a,a>.t-icon,input"),h=c.is(":text"),p=n.preventDefault,g=a.find("."+f),m=w();if(!(!u&&!h&&l.ESC!=s||h&&l.ESC!=s&&l.ENTER!=s))if(l.UP===s||l.LEFT===s)d&&(d=d.prev()),t.current(d&&d[0]?d:t._item("last")),p(i);else if(l.DOWN===s||l.RIGHT===s)d&&(d=d.next()),t.current(d&&d[0]?d:t._item("first")),p(i);else if(l.PAGEUP===s)t.current(null),t.dataSource.page(t.dataSource.page()-1),p(i);else if(l.PAGEDOWN===s)t.current(null),t.dataSource.page(t.dataSource.page()+1),p(i);else if(l.HOME===s)t.current(t._item("first")),p(i);else if(l.END===s)t.current(t._item("last")),p(i);else if(l.ENTER===s)0!==g.length&&(u||h)?(r=t.items().index(g),m&&m.blur(),t.save(),o=function(){t.element.trigger("focus"),t.current(t.items().eq(r))},t.one("dataBound",o)):""!==t.options.editTemplate&&t.edit(d);else if(l.ESC===s){if(g=a.find("."+f),0===g.length)return;r=t.items().index(g),t.cancel(),t.element.trigger("focus"),t.current(t.items().eq(r))}}),a.on("mousedown"+y+" touchstart"+y,d,k(r,t)))},clearSelection:function(){var e=this;e.selectable.clear(),e.trigger(i)},select:function(n){var i=this,a=i.selectable;return n=e(n),n.length?(a.options.multiple||(a.clear(),n=n.first()),a.value(n),t):a.value()},_destroyEditable:function(){var e=this;e.editable&&(e.editable.destroy(),delete e.editable)},_modelFromElement:function(e){var t=e.attr(n.attr("uid"));return this.dataSource.getByUid(t)},_closeEditable:function(e){var t,i,a=this,r=a.editable,o=a.template,s=!0;return r&&(e&&(s=r.end()),s&&(r.element.index()%2&&(o=a.altTemplate),t=a._modelFromElement(r.element),a._destroyEditable(),i=r.element.index(),r.element.replaceWith(o(t)),a.items().eq(i).attr(n.attr("uid"),t.uid))),s},edit:function(e){var t,i,a=this,r=a._modelFromElement(e),o=r.uid;a.cancel(),e=a.items().filter("["+n.attr("uid")+"="+o+"]"),i=e.index(),e.replaceWith(a.editTemplate(r)),t=a.items().eq(i).addClass(f).attr(n.attr("uid"),r.uid),a.editable=t.kendoEditable({model:r,clearContainer:!1,errorTemplate:!1}).data("kendoEditable"),a.trigger(m,{model:r,item:t})},save:function(){var e,t=this,n=t.editable;n&&(n=n.element,e=t._modelFromElement(n),!t.trigger(b,{model:e,item:n})&&t._closeEditable(!0)&&t.dataSource.sync())},remove:function(e){var t=this,n=t.dataSource,i=t._modelFromElement(e);t.trigger(v,{model:i,item:e})||(e.hide(),n.remove(i),n.sync())},add:function(){var e=this,t=e.dataSource,n=t.indexOf((t.view()||[])[0]);0>n&&(n=0),e.cancel(),t.insert(n,{}),e.edit(e.element.children().first())},cancel:function(){var e,t,n=this,i=n.dataSource;n.editable&&(e=n.editable.element,t=n._modelFromElement(e),n.trigger(a,{model:t,container:e})||(i.cancelChanges(t),n._closeEditable(!1)))},_crudHandlers:function(){var t=this,i=_+y;t.element.on(i,".k-edit-button",function(i){var a=e(this).closest("["+n.attr("uid")+"]");t.edit(a),i.preventDefault()}),t.element.on(i,".k-delete-button",function(i){var a=e(this).closest("["+n.attr("uid")+"]");t.remove(a),i.preventDefault()}),t.element.on(i,".k-update-button",function(e){t.save(),e.preventDefault()}),t.element.on(i,".k-cancel-button",function(e){t.cancel(),e.preventDefault()})},destroy:function(){var e=this;s.fn.destroy.call(e),e._unbindDataSource(),e._destroyEditable(),e.element.off(y),e.pager&&e.pager.destroy(),e.selectable&&e.selectable.destroy(),n.destroy(e.element)}});n.ui.plugin(T)}(window.kendo.jQuery),function(e,t){function n(t){return e.map(i(t),function(e){return e.name}).join(", ")}function i(e){var t=e[0];return t.files?a(t.files):[{name:s(t.value),extension:o(t.value),size:null}]}function a(t){return e.map(t,function(e){return r(e)})}function r(e){var t=e.name||e.fileName;return{name:_.htmlEncode(t),extension:o(t),size:e.size||e.fileSize,rawFile:e}}function o(e){var t=e.match(w);return t?t[0]:""}function s(e){var t=e.lastIndexOf("\\");return-1!=t?e.substr(t+1):e}function l(t,n){var i=_.guid();return e.map(t,function(e){return e.uid=n?_.guid():i,e})}function d(t,n,i){var a,r;n._supportsRemove()&&(a=t.data("fileNames"),r=e.map(a,function(e){return e.name}),n._submitRemove(r,i,function(e,i,r){n._removeFileEntry(t),n.trigger(S,{operation:"remove",files:a,response:e,XMLHttpRequest:r})},function(e){n.trigger(D,{operation:"remove",files:a,XMLHttpRequest:e}),k("Server response: "+e.responseText)}))}function c(t,n,i){var a=!1,r="";try{r=e.parseJSON(u(t)),a=!0}catch(o){i()}a&&n(r)}function u(e){return(t===e||""===e)&&(e="{}"),e}function h(e){e.stopPropagation(),e.preventDefault()}function p(e,t,n,i){var a,r;e.on("dragenter"+t,function(){n(),r=new Date,a||(a=setInterval(function(){var e=new Date-r;e>100&&(i(),clearInterval(a),a=null)},100))}).on("dragover"+t,function(){r=new Date})}function f(e){return e.is(".k-file-progress, .k-file-success, .k-file-error")}function g(t){return e(t.target).closest(".k-file")}function m(){var n={},i=e("meta[name=csrf-token]").attr("content"),a=e("meta[name=csrf-param]").attr("content");return e("input[name^='__RequestVerificationToken']").each(function(){n[this.name]=this.value}),a!==t&&i!==t&&(n[a]=i),n}var v,b,_=window.kendo,y=_.ui.Widget,k=_.logToConsole,w=/\.([^\.]+)$/,x=".kendoUpload",C="select",T="upload",S="success",D="error",E="complete",F="cancel",A="progress",M="remove",H=y.extend({init:function(t,n){var i,a,r,o=this;y.fn.init.call(o,t,n),o.name=t.name,o.multiple=o.options.multiple,o.localization=o.options.localization,i=o.element,o.wrapper=i.closest(".k-upload"),0===o.wrapper.length&&(o.wrapper=o._wrapInput(i)),o._activeInput(i),o.toggle(o.options.enabled),a=o._ns=x+"-"+_.guid(),i.closest("form").on("submit"+a,e.proxy(o._onParentFormSubmit,o)).on("reset"+a,e.proxy(o._onParentFormReset,o)),o.options.async.saveUrl?(o._module=o._supportsFormData()?new b(o):new v(o),o._async=!0,r=o.options.files,r.length>0&&o._renderInitialFiles(r)):o._module=new z(o),o._supportsDrop()&&o._setupDropZone(),o.wrapper.on("click",".k-upload-action",e.proxy(o._onFileAction,o)).on("click",".k-upload-selected",e.proxy(o._onUploadSelected,o)),o.element.val()&&o._onInputChange({target:o.element})},events:[C,T,S,D,E,F,A,M],options:{name:"Upload",enabled:!0,multiple:!0,showFileList:!0,template:"",files:[],async:{removeVerb:"POST",autoUpload:!0},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusUploaded:"Done"}},setOptions:function(e){var t=this,n=t.element;y.fn.setOptions.call(t,e),t.multiple=t.options.multiple,n.attr("multiple",t._supportsMultiple()?t.multiple:!1),t.toggle(t.options.enabled)},enable:function(e){e=t===e?!0:e,this.toggle(e)},disable:function(){this.toggle(!1)},toggle:function(e){e=t===e?e:!e,this.wrapper.toggleClass("k-state-disabled",e),this.element.prop("disabled",e)},destroy:function(){var t=this;e(document).add(e(".k-dropzone",t.wrapper)).add(t.wrapper.closest("form")).off(t._ns),e(t.element).off(x),y.fn.destroy.call(t)},_addInput:function(t){if(t[0].nodeType){var n=this,i=t.clone().val("");i.insertAfter(n.element).data("kendoUpload",n),e(n.element).hide().removeAttr("id").off(x),n._activeInput(i)}},_activeInput:function(t){var n=this,i=n.wrapper;n.element=t,t.attr("multiple",n._supportsMultiple()?n.multiple:!1).attr("autocomplete","off").on("click"+x,function(e){i.hasClass("k-state-disabled")&&e.preventDefault()}).on("focus"+x,function(){e(this).parent().addClass("k-state-focused")}).on("blur"+x,function(){e(this).parent().removeClass("k-state-focused")}).on("change"+x,e.proxy(n._onInputChange,n))},_onInputChange:function(t){var n=this,i=e(t.target),a=l(n._inputFiles(i),n._isAsyncNonBatch()),r=n.trigger(C,{files:a});r?(n._addInput(i),i.remove()):n._module.onSelect({target:i},a)},_onDrop:function(t){var n,i=t.originalEvent.dataTransfer,r=this,o=i.files,s=l(a(o),r._isAsyncNonBatch());h(t),o.length>0&&(n=r.trigger(C,{files:s}),n||r._module.onSelect({target:e(".k-dropzone",r.wrapper)},s))},_isAsyncNonBatch:function(){return this._async&&!this.options.async.batch||!1},_renderInitialFiles:function(t){var n,i,a=this,r=0;for(t=l(t,!0),r=0;t.length>r;r++)n=t[r],i=a._enqueueFile(n.name,{fileNames:[n]}),i.addClass("k-file-success").data("files",[t[r]]),e(".k-progress",i).width("100%"),e(".k-upload-status",i).prepend("<span class='k-upload-pct'>100%</span>"),a._fileAction(i,M)},_prepareTemplateData:function(e,t){var n=t.fileNames,i={},a=0,r=0;for(r=0;n.length>r;r++)a+=n[r].size;return i.name=e,i.size=a,i.files=t.fileNames,i},_prepareDefaultFileEntryTemplate:function(t,n){var i="",a=e("<li class='k-file'><span class='k-progress'></span><span class='k-icon'></span><span class='k-filename' title='"+t+"'>"+t+"</span><strong class='k-upload-status'></strong></li>");return 1==n.fileNames.length&&n.fileNames[0].extension&&(i=n.fileNames[0].extension.substring(1),e(".k-icon",a).addClass("k-i-"+i)),a},_enqueueFile:function(t,n){var i,a,r,o=this,s=n.fileNames[0].uid,l=e(".k-upload-files",o.wrapper),d=o.options,c=d.template;return 0===l.length&&(l=e("<ul class='k-upload-files k-reset'></ul>").appendTo(o.wrapper),o.options.showFileList||l.hide(),o.wrapper.removeClass("k-upload-empty")),i=e(".k-file",l),c?(r=o._prepareTemplateData(t,n),c=_.template(c),a=e("<li class='k-file'>"+c(r)+"</li>"),a.find(".k-upload-action").addClass("k-button k-button-bare")):a=o._prepareDefaultFileEntryTemplate(t,n),a.attr(_.attr("uid"),s).appendTo(l).data(n),o._async||e(".k-progress",a).width("100%"),!o.multiple&&i.length>0&&o._module.onRemove({target:e(i,o.wrapper)}),a},_removeFileEntry:function(t){var n,i,a=this,r=t.closest(".k-upload-files");t.remove(),n=e(".k-file",r),i=e(".k-file-success, .k-file-error",r),i.length===n.length&&this._hideUploadButton(),0===n.length&&(r.remove(),a.wrapper.addClass("k-upload-empty"),a._hideHeaderUploadstatus())},_fileAction:function(e,t){var n={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"},i={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};n.hasOwnProperty(t)&&(this._clearFileAction(e),this.options.template?e.find(".k-upload-action").addClass("k-button k-button-bare").append("<span class='k-icon "+i[t]+" "+n[t]+"' title='"+this.localization[t]+"'></span>").show():(e.find(".k-upload-status .k-upload-action").remove(),e.find(".k-upload-status").append(this._renderAction(n[t],this.localization[t],i[t]))))},_fileState:function(t,n){var i=this.localization,a={uploading:{text:i.statusUploading},uploaded:{text:i.statusUploaded},failed:{text:i.statusFailed}},r=a[n];r&&e(".k-icon:not(.k-delete, .k-cancel, .k-retry)",t).text(r.text)},_renderAction:function(t,n,i){return e(""!==t?"<button type='button' class='k-button k-button-bare k-upload-action'><span class='k-icon "+i+" "+t+"' title='"+n+"'></span></button>":"<button type='button' class='k-button'>"+n+"</button>")},_clearFileAction:function(t){e(".k-upload-action",t).empty().hide()},_onFileAction:function(t){var n,i,a,r,o=this;return o.wrapper.hasClass("k-state-disabled")||(n=e(t.target).closest(".k-upload-action"),i=n.find(".k-icon"),a=n.closest(".k-file"),r={files:a.data("fileNames")},i.hasClass("k-delete")?o.trigger(M,r)||o._module.onRemove({target:e(a,o.wrapper)},r.data):i.hasClass("k-cancel")?(o.trigger(F,r),o._module.onCancel({target:e(a,o.wrapper)}),this._checkAllComplete(),o._updateHeaderUploadStatus()):i.hasClass("k-retry")&&(e(".k-warning",a).remove(),o._module.onRetry({target:e(a,o.wrapper)}))),!1},_onUploadSelected:function(){return this._module.onSaveSelected(),!1},_onFileProgress:function(t,n){var i;this.options.template?e(".k-progress",t.target).width(n+"%"):(i=e(".k-upload-pct",t.target),0===i.length&&e(".k-upload-status",t.target).prepend("<span class='k-upload-pct'></span>"),e(".k-upload-pct",t.target).text(n+"%"),e(".k-progress",t.target).width(n+"%")),this.trigger(A,{files:g(t).data("fileNames"),percentComplete:n})},_onUploadSuccess:function(e,t,n){var i=g(e);this._fileState(i,"uploaded"),i.removeClass("k-file-progress").addClass("k-file-success"),this._updateHeaderUploadStatus(),this.trigger(S,{files:i.data("fileNames"),response:t,operation:"upload",XMLHttpRequest:n}),this._supportsRemove()?this._fileAction(i,M):this._clearFileAction(i),this._checkAllComplete()},_onUploadError:function(t,n){var i=g(t),a=e(".k-upload-pct",i);this._fileState(i,"failed"),i.removeClass("k-file-progress").addClass("k-file-error"),e(".k-progress",i).width("100%"),a.length>0?a.empty().removeClass("k-upload-pct").addClass("k-icon k-warning"):e(".k-upload-status",i).prepend("<span class='k-icon k-warning'></span>"),this._updateHeaderUploadStatus(),this._fileAction(i,"retry"),this.trigger(D,{operation:"upload",files:i.data("fileNames"),XMLHttpRequest:n}),k("Server response: "+n.responseText),this._checkAllComplete()},_showUploadButton:function(){var t=e(".k-upload-selected",this.wrapper);0===t.length&&(t=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")),this.wrapper.append(t)},_hideUploadButton:function(){e(".k-upload-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(){var t=this.localization,n=e(".k-dropzone",this.wrapper),i=e(".k-upload-status-total",this.wrapper);0!==i.length&&i.remove(),i='<strong class="k-upload-status k-upload-status-total">'+t.headerStatusUploading+'<span class="k-icon k-loading">'+t.statusUploading+"</span></strong>",n.length>0?n.append(i):e(".k-upload-button",this.wrapper).after(i)},_updateHeaderUploadStatus:function(){var t,n,i,a=this,r=a.localization,o=e(".k-file",a.wrapper).not(".k-file-success, .k-file-error");0===o.length&&(t=e(".k-file.k-file-error",a.wrapper),n=e(".k-upload-status-total",a.wrapper),i=e(".k-icon",n).removeClass("k-loading").addClass(0!==t.length?"k-warning":"k-i-tick").text(0!==t.length?r.statusWarning:r.statusUploaded),n.text(a.localization.headerStatusUploaded).append(i))},_hideHeaderUploadstatus:function(){e(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var n,i=this,a=i.element;t!==this._module.onAbort&&this._module.onAbort(),a.value||(n=e(a),n.attr("disabled","disabled"),window.setTimeout(function(){n.removeAttr("disabled")},0))},_onParentFormReset:function(){e(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return"undefined"!=typeof FormData},_supportsMultiple:function(){var e=this._userAgent().indexOf("Windows")>-1;return!(_.support.browser.opera||_.support.browser.safari&&e)},_supportsDrop:function(){var e=this._userAgent().toLowerCase(),t=/chrome/.test(e),n=!t&&/safari/.test(e),i=n&&/windows/.test(e);return!i&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var t,n,i=this;e(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>"),t=i._ns,n=e(".k-dropzone",i.wrapper).append(e("<em>"+i.localization.dropFilesHere+"</em>")).on("dragenter"+t,h).on("dragover"+t,function(e){e.preventDefault()}).on("drop"+t,e.proxy(this._onDrop,this)),p(n,t,function(){n.addClass("k-dropzone-hovered")},function(){n.removeClass("k-dropzone-hovered")}),p(e(document),t,function(){n.addClass("k-dropzone-active"),n.closest(".k-upload").removeClass("k-upload-empty")},function(){n.removeClass("k-dropzone-active"),0===e("li.k-file",n.closest(".k-upload")).length&&n.closest(".k-upload").addClass("k-upload-empty")})},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(t,n,i,a){var r=this,o=r.options.async.removeField||"fileNames",s=e.extend(n,m());s[o]=t,jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:u,url:this.options.async.removeUrl,traditional:!0,data:s,success:i,error:a})},_wrapInput:function(e){var t=this,n=t.options;return e.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button'></div></div>"),n.async.saveUrl||e.closest(".k-upload").addClass("k-upload-sync"),e.closest(".k-upload").addClass("k-upload-empty"),e.closest(".k-button").append("<span>"+this.localization.select+"</span>"),e.closest(".k-upload")},_checkAllComplete:function(){0===e(".k-file.k-file-progress",this.wrapper).length&&this.trigger(E)},_inputFiles:function(e){return i(e)}}),z=function(e){this.name="syncUploadModule",this.element=e.wrapper,this.upload=e,this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};z.prototype={onSelect:function(t,i){var a,r=this.upload,o=e(t.target);r._addInput(o),a=r._enqueueFile(n(o),{relatedInput:o,fileNames:i}),r._fileAction(a,M)},onRemove:function(e){var t=g(e);t.data("relatedInput").remove(),this.upload._removeFileEntry(t)}},v=function(e){this.name="iframeUploadModule",this.element=e.wrapper,this.upload=e,this.iframes=[]},H._frameId=0,v.prototype={onSelect:function(t,n){var i=this.upload,a=e(t.target),r=this.prepareUpload(a,n);i.options.async.autoUpload?this.performUpload(r):(i._supportsRemove()&&this.upload._fileAction(r,M),i._showUploadButton())},prepareUpload:function(t,i){var a,r,o,s=this.upload,l=e(s.element),d=s.options.async.saveField||t.attr("name");return s._addInput(t),t.attr("name",d),a=this.createFrame(s.name+"_"+H._frameId++),this.registerFrame(a),r=this.createForm(s.options.async.saveUrl,a.attr("name")).append(l),o=s._enqueueFile(n(t),{frame:a,relatedInput:l,fileNames:i}),a.data({form:r,file:o}),o},performUpload:function(t){var n,i,a,r={files:t.data("fileNames")},o=t.data("frame"),s=this.upload;if(s.trigger(T,r))s._removeFileEntry(o.data("file")),this.cleanupFrame(o),this.unregisterFrame(o);else{s._hideUploadButton(),s._showHeaderUploadStatus(),o.appendTo(document.body),n=o.data("form").attr("action",s.options.async.saveUrl).appendTo(document.body),r.data=e.extend({},r.data,m());for(i in r.data)a=n.find("input[name='"+i+"']"),0===a.length&&(a=e("<input>",{type:"hidden",name:i}).prependTo(n)),a.val(r.data[i]);s._fileAction(t,F),s._fileState(t,"uploading"),e(t).addClass("k-file-progress"),o.one("load",e.proxy(this.onIframeLoad,this)),n[0].submit()}},onSaveSelected:function(){var t=this;e(".k-file",this.element).each(function(){var n=e(this),i=f(n);i||t.performUpload(n)})},onIframeLoad:function(t){var n,i=e(t.target);try{n=i.contents().text()}catch(a){n="Error trying to get server response: "+a}this.processResponse(i,n)},processResponse:function(t,n){var i=t.data("file"),a=this,r={responseText:n};c(n,function(n){e.extend(r,{statusText:"OK",status:"200"}),a.upload._onFileProgress({target:e(i,a.upload.wrapper)},100),a.upload._onUploadSuccess({target:e(i,a.upload.wrapper)},n,r),a.cleanupFrame(t),a.unregisterFrame(t)},function(){e.extend(r,{statusText:"error",status:"500"}),a.upload._onUploadError({target:e(i,a.upload.wrapper)},r)})},onCancel:function(t){var n=e(t.target).data("frame");this.stopFrameSubmit(n),this.cleanupFrame(n),this.unregisterFrame(n),this.upload._removeFileEntry(n.data("file"))},onRetry:function(e){var t=g(e);this.performUpload(t)},onRemove:function(e,t){var n=g(e),i=n.data("frame");i?(this.unregisterFrame(i),this.upload._removeFileEntry(n),this.cleanupFrame(i)):d(n,this.upload,t)},onAbort:function(){var t=this.element,n=this;e.each(this.iframes,function(){e("input",this.data("form")).appendTo(t),n.stopFrameSubmit(this[0]),this.data("form").remove(),this.remove()}),this.iframes=[]},createFrame:function(t){return e("<iframe name='"+t+"' id='"+t+"' style='display:none;' />")},createForm:function(t,n){return e("<form enctype='multipart/form-data' method='POST' action='"+t+"' target='"+n+"'/>")},stopFrameSubmit:function(e){t!==e.stop?e.stop():e.document&&e.document.execCommand("Stop")},registerFrame:function(e){this.iframes.push(e)},unregisterFrame:function(t){this.iframes=e.grep(this.iframes,function(e){return e.attr("name")!=t.attr("name")})},cleanupFrame:function(e){var t=e.data("form");e.data("file").data("frame",null),setTimeout(function(){t.remove(),e.remove()},1)}},b=function(e){this.name="formDataUploadModule",this.element=e.wrapper,this.upload=e},b.prototype={onSelect:function(t,n){var i=this.upload,a=this,r=e(t.target),o=this.prepareUpload(r,n);e.each(o,function(){i.options.async.autoUpload?a.performUpload(this):(i._supportsRemove()&&i._fileAction(this,M),i._showUploadButton())})},prepareUpload:function(t,n){var i=this.enqueueFiles(n);return t.is("input")&&(e.each(i,function(){e(this).data("relatedInput",t)}),t.data("relatedFileEntries",i),this.upload._addInput(t)),i},enqueueFiles:function(t){var n,i,a,r,o=this.upload,s=t.length,l=[];if(o.options.async.batch===!0)n=e.map(t,function(e){return e.name}).join(", "),r=o._enqueueFile(n,{fileNames:t}),r.data("files",t),l.push(r);else for(i=0;s>i;i++)a=t[i],n=a.name,r=o._enqueueFile(n,{fileNames:[a]}),r.data("files",[a]),l.push(r);return l},performUpload:function(t){var n,i=this.upload,a=this.createFormData(),r=new XMLHttpRequest,o={files:t.data("fileNames"),XMLHttpRequest:r};if(i.trigger(T,o))this.removeFileEntry(t);else{i._fileAction(t,F),i._hideUploadButton(),i._showHeaderUploadStatus(),o.data=e.extend({},o.data,m());for(n in o.data)a.append(n,o.data[n]);this.populateFormData(a,t.data("files")),i._fileState(t,"uploading"),e(t).addClass("k-file-progress"),this.postFormData(i.options.async.saveUrl,a,t,r)}},onSaveSelected:function(){var t=this;e(".k-file",this.element).each(function(){var n=e(this),i=f(n);i||t.performUpload(n)})},onCancel:function(e){var t=g(e);this.stopUploadRequest(t),this.removeFileEntry(t)},onRetry:function(e){var t=g(e);this.performUpload(t)},onRemove:function(e,t){var n=g(e);n.hasClass("k-file-success")?d(n,this.upload,t):this.removeFileEntry(n)},postFormData:function(e,t,n,i){var a=this;n.data("request",i),i.addEventListener("load",function(e){a.onRequestSuccess.call(a,e,n)},!1),i.addEventListener(D,function(e){a.onRequestError.call(a,e,n)},!1),i.upload.addEventListener("progress",function(e){a.onRequestProgress.call(a,e,n)},!1),i.open("POST",e,!0),i.withCredentials="true",i.send(t)},createFormData:function(){return new FormData},populateFormData:function(e,t){var n,i=this.upload,a=t.length;for(n=0;a>n;n++)e.append(i.options.async.saveField||i.name,t[n].rawFile);return e},onRequestSuccess:function(t,n){function i(){r.upload._onUploadError({target:e(n,r.upload.wrapper)},a)}var a=t.target,r=this;a.status>=200&&299>=a.status?c(a.responseText,function(t){r.upload._onFileProgress({target:e(n,r.upload.wrapper)},100),r.upload._onUploadSuccess({target:e(n,r.upload.wrapper)},t,a),r.cleanupFileEntry(n)},i):i()},onRequestError:function(t,n){var i=t.target;this.upload._onUploadError({target:e(n,this.upload.wrapper)},i)},cleanupFileEntry:function(t){var n=t.data("relatedInput"),i=!0;n&&(e.each(n.data("relatedFileEntries")||[],function(){this.parent().length>0&&this[0]!=t[0]&&(i=i&&this.hasClass("k-file-success"))}),i&&n.remove())},removeFileEntry:function(e){this.cleanupFileEntry(e),this.upload._removeFileEntry(e)},onRequestProgress:function(t,n){var i=Math.round(100*t.loaded/t.total);this.upload._onFileProgress({target:e(n,this.upload.wrapper)},i)},stopUploadRequest:function(e){e.data("request").abort()}},_.ui.plugin(H)}(window.kendo.jQuery),function(e,t){function n(e,t,n){var i,a;e.on("dragenter"+x,function(){t(),a=new Date,i||(i=setInterval(function(){var e=new Date-a;e>100&&(n(),clearInterval(i),i=null)},100))}).on("dragover"+x,function(){a=new Date})}function i(e,n){return e!==t&&e.match(/\/$/)||(e=(e||"")+"/"),e+n}function a(e){if(!e)return"";var t=" bytes";return e>=1073741824?(t=" GB",e/=1073741824):e>=1048576?(t=" MB",e/=1048576):e>=1024&&(t=" KB",e/=1024),Math.round(100*e)/100+t}function r(e,t){var n=e[t];return h(n)?n.from||n.field||t:n}var o,s,l,d,c=window.kendo,u=c.ui.Widget,h=e.isPlainObject,p=e.proxy,f=e.extend,g=c.support.placeholder,m=c.support.browser,v=c.isFunction,b=/(^\/|\/$)/g,_="change",y="apply",k="error",w="click",x=".kendoImageBrowser",C=".kendoBreadcrumbs",T=".kendoSearchBox",S="name",D="size",E="type",F={field:E,dir:"asc"},A=c.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),M='<div class="k-widget k-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';f(!0,c.data,{schemas:{imagebrowser:{data:function(e){return e.items||e||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),f(!0,c.data,{transports:{imagebrowser:c.data.RemoteTransport.extend({init:function(t){c.data.RemoteTransport.fn.init.call(this,e.extend(!0,{},this.options,t))},_call:function(t,n){n.data=e.extend({},n.data,{path:this.options.path()}),v(this.options[t])?this.options[t].call(this,n):c.data.RemoteTransport.fn[t].call(this,n)},read:function(e){this._call("read",e)},create:function(e){this._call("create",e)},destroy:function(e){this._call("destroy",e)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}}),o=m.msie&&8>m.version?function(e){return e.offsetTop}:function(t){return t.offsetTop-e(t).height()},s=u.extend({init:function(e,t){var n=this;t=t||{},u.fn.init.call(n,e,t),n.element.addClass("k-imagebrowser"),n.element.on(w+x,".k-toolbar button:not(.k-state-disabled):has(.k-delete)",p(n._deleteClick,n)).on(w+x,".k-toolbar button:not(.k-state-disabled):has(.k-addfolder)",p(n._addClick,n)).on("keydown"+x,"li.k-state-selected input",p(n._directoryKeyDown,n)).on("blur"+x,"li.k-state-selected input",p(n._directoryBlur,n)),n._dataSource(),n.refresh(),n.path(n.options.path)},options:{name:"ImageBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},events:[k,_,y],destroy:function(){var e=this;u.fn.destroy.call(e),e.dataSource.unbind(k,e._errorHandler),e.element.add(e.list).add(e.toolbar).off(x),e.arrangeBy&&e.arrangeBy.destroy(),c.destroy(e.element)},value:function(){var e,n=this,a=n._selectedItem(),r=n.options.transport.imageUrl;return a&&"f"===a.get(E)?(e=i(n.path(),a.get(S)).replace(b,""),r&&(e=v(r)?r(e):c.format(r,encodeURIComponent(e))),e):t},_selectedItem:function(){var e=this.listView,n=e.select();return n.length?this.dataSource.getByUid(n.attr(c.attr("uid"))):t},_toolbar:function(){var t=this,n=c.template(M),i=t.options.messages,a=[{text:i.orderByName,value:"name"},{text:i.orderBySize,value:"size"}];t.toolbar=e(n({messages:i,showUpload:t.options.transport.uploadUrl,showCreate:t.options.transport.create,showDelete:t.options.transport.destroy})).appendTo(t.element).find(".k-upload input").kendoUpload({multiple:!1,localization:{dropFilesHere:i.dropFilesHere},async:{saveUrl:t.options.transport.uploadUrl,autoUpload:!0},upload:p(t._fileUpload,t),error:function(e){t._error({xhr:e.XMLHttpRequest,status:"error"})}}).end(),t.upload=t.toolbar.find(".k-upload input").data("kendoUpload"),t.arrangeBy=t.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:a,dataTextField:"text",dataValueField:"value",change:function(){t.orderBy(this.value())}}).data("kendoDropDownList"),t._attachDropzoneEvents()},_attachDropzoneEvents:function(){var t=this;t.options.transport.uploadUrl&&(n(e(document.documentElement),e.proxy(t._dropEnter,t),e.proxy(t._dropLeave,t)),t._scrollHandler=p(t._positionDropzone,t))},_dropEnter:function(){this._positionDropzone(),e(document).on("scroll"+x,this._scrollHandler)},_dropLeave:function(){this._removeDropzone(),e(document).off("scroll"+x,this._scrollHandler)},_positionDropzone:function(){var e=this,t=e.element,n=t.offset();e.toolbar.find(".k-dropzone").addClass("k-imagebrowser-dropzone").offset(n).css({width:t[0].clientWidth,height:t[0].clientHeight,lineHeight:t[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-imagebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var e=this,t=e.listView.select(),n=c.format(e.options.messages.deleteFile,t.find("strong").text());t.length&&e._showMessage(n,"confirm")&&e.listView.remove(t)},_addClick:function(){this.createDirectory()},_getFieldName:function(e){return r(this.dataSource.reader.model.fields,e)},_fileUpload:function(e){var t,n=this,i=n.options,a=i.fileTypes,r=RegExp(("("+a.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),o=e.files[0].name,s=S,l=D;r.test(o)?(e.data={path:n.path()},t=n._createFile(o),t?n.upload.one("success",function(e){t.set(s,e.response[n._getFieldName(s)]),t.set(l,e.response[n._getFieldName(l)]),n._tiles=n.listView.items().filter("["+c.attr("type")+"=f]"),n._scroll()}):e.preventDefault()):(e.preventDefault(),n._showMessage(c.format(i.messages.invalidFileType,o,a)))},_findFile:function(e){var t,n,i,a=this.dataSource.data(),r=E,o=S;for(e=e.toLowerCase(),t=0,i=a.length;i>t;t++)if("f"===a[t].get(r)&&a[t].get(o).toLowerCase()===e){n=a[t];break}return n},_createFile:function(e){var t,n,i=this,a=0,r={},o=E,s=i.dataSource.view(),l=i._findFile(e);if(l&&!i._showMessage(c.format(i.options.messages.overwriteFile,e),"confirm"))return null;if(l)return l;for(t=0,n=s.length;n>t;t++)if("f"===s[t].get(o)){a=t;break}return r[o]="f",r[S]=e,r[D]=0,i.dataSource.insert(++a,r)},createDirectory:function(){var e,t,n=this,i=0,a=E,r=S,o=n.dataSource.data(),s=n._nameDirectory(),l=new n.dataSource.reader.model;for(e=0,t=o.length;t>e;e++)"d"===o[e].get(a)&&(i=e);l.set(a,"d"),l.set(r,s),n.listView.one("dataBound",function(){var e=n.listView.items().filter("["+c.attr("uid")+"="+l.uid+"]"),t=e.find("input");e.length&&this.edit(e),this.element.scrollTop(e.attr("offsetTop")-this.element[0].offsetHeight),setTimeout(function(){t.select()})}).one("save",function(e){var t=e.model.get(r);t?e.model.set(r,n._nameExists(t,l.uid)?n._nameDirectory():t):e.model.set(r,s)}),n.dataSource.insert(++i,l)},_directoryKeyDown:function(e){13==e.keyCode&&e.currentTarget.blur()
},_directoryBlur:function(){this.listView.save()},_nameExists:function(e,t){var n,i,a=this.dataSource.data(),r=E,o=S;for(n=0,i=a.length;i>n;n++)if("d"===a[n].get(r)&&a[n].get(o).toLowerCase()===e.toLowerCase()&&a[n].uid!==t)return!0;return!1},_nameDirectory:function(){var t,n,i,a="New folder",r=this.dataSource.data(),o=[],s=E,l=S;for(n=0,i=r.length;i>n;n++)"d"===r[n].get(s)&&r[n].get(l).toLowerCase().indexOf(a.toLowerCase())>-1&&o.push(r[n].get(l));if(e.inArray(a,o)>-1){n=2;do t=a+" ("+n+")",n++;while(e.inArray(t,o)>-1);a=t}return a},orderBy:function(e){this.dataSource.sort([{field:E,dir:"asc"},{field:e,dir:"asc"}])},search:function(e){this.dataSource.filter({field:S,operator:"contains",value:e})},_content:function(){var t=this;t.list=e('<ul class="k-reset k-floats k-tiles" />').appendTo(t.element).on("scroll"+x,p(t._scroll,t)).on("dblclick"+x,"li",p(t._dblClick,t)),t.listView=new c.ui.ListView(t.list,{dataSource:t.dataSource,template:t._itemTmpl(),editTemplate:t._editTmpl(),selectable:!0,autoBind:!1,dataBinding:function(e){t.toolbar.find(".k-delete").parent().addClass("k-state-disabled"),("remove"===e.action||"sync"===e.action)&&e.preventDefault()},dataBound:function(){t.dataSource.view().length?(t._tiles=this.items().filter("["+c.attr("type")+"=f]"),t._scroll()):this.wrapper.append(A({text:t.options.messages.emptyFolder}))},change:p(t._listViewChange,t)})},_dblClick:function(t){var n,a=this,r=e(t.currentTarget);r.hasClass("k-edit-item")&&a._directoryBlur(),r.filter("["+c.attr("type")+"=d]").length?(n=a.dataSource.getByUid(r.attr(c.attr("uid"))),n&&(a.path(i(a.path(),n.get(S))),a.breadcrumbs.value(a.path()))):r.filter("["+c.attr("type")+"=f]").length&&a.trigger(y)},_listViewChange:function(){var e=this._selectedItem();e&&(this.toolbar.find(".k-delete").parent().removeClass("k-state-disabled"),"f"===e.get(E)&&this.trigger(_))},_dataSource:function(){var e,t=this,n=t.options,i=n.transport,a=f({},F),r={field:S,dir:"asc"},o={type:i.type||"imagebrowser",sort:[a,r]};h(i)&&(i.path=p(t.path,t),o.transport=i),h(n.schema)?o.schema=n.schema:i.type&&h(c.data.schemas[i.type])&&(e=c.data.schemas[i.type]),t.dataSource&&t._errorHandler?t.dataSource.unbind(k,t._errorHandler):t._errorHandler=p(t._error,t),t.dataSource=c.data.DataSource.create(o).bind(k,t._errorHandler)},_navigation:function(){var t=this,n=e('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);t.breadcrumbs=n.find("input:first").kendoBreadcrumbs({value:t.options.path,change:function(){t.path(this.value())}}).data("kendoBreadcrumbs"),t.searchBox=n.parent().find("input:last").kendoSearchBox({label:t.options.messages.search,change:function(){t.search(this.value())}}).data("kendoSearchBox")},_error:function(e){var t,n=this;n.trigger(k,e)||(t=e.xhr.status,"error"==e.status?"404"==t?n._showMessage(n.options.messages.directoryNotFound):"0"!=t&&n._showMessage("Error! The requested URL returned "+t+" - "+e.xhr.statusText):"timeout"==t&&n._showMessage("Error! Server timeout."))},_showMessage:function(e,t){return window[t||"alert"](e)},refresh:function(){var e=this;e._navigation(),e._toolbar(),e._content()},_loadImage:function(t){var n=this,i=e(t),a=n.dataSource.getByUid(i.attr(c.attr("uid"))),r=a.get(S),o=n.options.transport.thumbnailUrl,s=e("<img />",{alt:r}),l="?";s.hide().on("load"+x,function(){e(this).prev().remove().end().addClass("k-image").fadeIn()}),i.find(".k-loading").after(s),v(o)?o=o(n.path(),encodeURIComponent(r)):(o.indexOf("?")>=0&&(l="&"),o=o+l+"path="+n.path()+encodeURIComponent(r)),s.attr("src",o),t.loaded=!0},_scroll:function(){var e=this;e.options.transport&&e.options.transport.thumbnailUrl&&(clearTimeout(e._timeout),e._timeout=setTimeout(function(){var n=e.list.outerHeight(),i=e.list.scrollTop(),a=i+n;e._tiles.each(function(){var n=o(this),r=n+this.offsetHeight;return(n>=i&&a>n||r>=i&&a>r)&&e._loadImage(this),n>a?!1:t}),e._tiles=e._tiles.filter(function(){return!this.loaded})},250))},_editTmpl:function(){var e='<li class="k-tile k-state-selected" '+c.attr("uid")+'="#=uid#" ';return e+=c.attr("type")+'="${'+E+'}">',e+="#if("+E+' == "d") { #',e+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',e+="#}else{#",e+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>',e+="#}#",e+="#if("+E+' == "d") { #',e+='<input class="k-input" '+c.attr("bind")+'="value:'+S+'"/>',e+="#}#",e+="</li>",p(c.template(e),{sizeFormatter:a})},_itemTmpl:function(){var e=this,t='<li class="k-tile" '+c.attr("uid")+'="#=uid#" ';return t+=c.attr("type")+'="${'+E+'}">',t+="#if("+E+' == "d") { #',t+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',t+="#}else{#",t+=e.options.transport&&e.options.transport.thumbnailUrl?'<div class="k-thumb"><span class="k-icon k-loading"></span></div>':'<div class="k-thumb"><span class="k-icon k-file"></span></div>',t+="#}#",t+="<strong>${"+S+"}</strong>",t+="#if("+E+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+D+")}</span> #}#",t+="</li>",p(c.template(t),{sizeFormatter:a})},path:function(e){var n=this,i=n._path||"";return e!==t?(n._path=e.replace(b,"")+"/",n.dataSource.read({path:n._path}),t):(i&&(i=i.replace(b,"")),"/"===i||""===i?"":i+"/")}}),l=u.extend({init:function(e,t){var n=this;t=t||{},u.fn.init.call(n,e,t),g&&n.element.attr("placeholder",n.options.label),n._wrapper(),n.element.on("keydown"+T,p(n._keydown,n)).on("change"+T,p(n._updateValue,n)),n.wrapper.on(w+T,"a",p(n._click,n)),g||n.element.on("focus"+T,p(n._focus,n)).on("blur"+T,p(n._blur,n))},options:{name:"SearchBox",label:"Search",value:""},events:[_],destroy:function(){var e=this;e.wrapper.add(e.element).add(e.label).off(T),u.fn.destroy.call(e)},_keydown:function(e){13===e.keyCode&&this._updateValue()},_click:function(e){e.preventDefault(),this._updateValue()},_updateValue:function(){var e=this,t=e.element.val();t!==e.value()&&(e.value(t),e.trigger(_))},_blur:function(){this._updateValue(),this._toggleLabel()},_toggleLabel:function(){g||this.label.toggle(!this.element.val())},_focus:function(){this.label.hide()},_wrapper:function(){var t=this.element,n=t.parents(".k-search-wrap");t[0].style.width="",t.addClass("k-input"),n.length||(n=t.wrap(e('<div class="k-widget k-search-wrap k-textbox"/>')).parent(),g||e('<label style="display:block">'+this.options.label+"</label>").insertBefore(t),e('<a href="#" class="k-icon k-i-search k-search"/>').appendTo(n)),this.wrapper=n,this.label=n.find(">label")},value:function(e){var n=this;return e!==t?(n.options.value=e,n.element.val(e),n._toggleLabel(),t):n.options.value}}),d=u.extend({init:function(e,t){var n=this;t=t||{},u.fn.init.call(n,e,t),n._wrapper(),n.wrapper.on("focus"+C,"input",p(n._focus,n)).on("blur"+C,"input",p(n._blur,n)).on("keydown"+C,"input",p(n._keydown,n)).on(w+C,"a.k-i-arrow-n:first",p(n._rootClick,n)).on(w+C,"a:not(.k-i-arrow-n)",p(n._click,n)),n.value(n.options.value)},options:{name:"Breadcrumbs",gap:50},events:[_],destroy:function(){var e=this;u.fn.destroy.call(e),e.wrapper.add(e.wrapper.find("input")).add(e.wrapper.find("a")).off(C)},_update:function(e){e="/"===(e||"").charAt(0)?e:"/"+(e||""),e!==this.value()&&(this.value(e),this.trigger(_))},_click:function(t){t.preventDefault(),this._update(this._path(e(t.target).prevAll("a:not(.k-i-arrow-n)").addBack()))},_rootClick:function(e){e.preventDefault(),this._update("")},_focus:function(){var e=this,t=e.element;e.overlay.hide(),e.element.val(e.value()),setTimeout(function(){t.select()})},_blur:function(){if(!this.overlay.is(":visible")){var e=this,t=e.element,n=t.val().replace(/\/{2,}/g,"/");e.overlay.show(),t.val(""),e._update(n)}},_keydown:function(e){var t=this;13===e.keyCode&&(t._blur(),setTimeout(function(){t.overlay.find("a:first").focus()}))},_wrapper:function(){var t,n=this.element,i=n.parents(".k-breadcrumbs");n[0].style.width="",n.addClass("k-input"),i.length||(i=n.wrap(e('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()),t=i.find(".k-breadcrumbs-wrap"),t.length||(t=e('<div class="k-breadcrumbs-wrap"/>').appendTo(i)),this.wrapper=i,this.overlay=t},refresh:function(){var n,i,a,r,o="",s=this.value();for(s!==t&&s.match(/^\//)||(s="/"+(s||"")),n=s.split("/"),a=0,r=n.length;r>a;a++)i=n[a],i&&(o||(o+='<a href="#" class="k-icon k-i-arrow-n">root</a>'),o+='<a class="k-link" href="#">'+n[a]+"</a>",o+='<span class="k-icon k-i-arrow-e">&gt;</span>');this.overlay.empty().append(e(o)),this._adjustSectionWidth()},_adjustSectionWidth:function(){var t,n=this,i=n.wrapper,a=i.width()-n.options.gap,r=n.overlay.find("a");r.each(function(n){t=e(this),t.parent().width()>a&&(n==r.length-1?t.width(a):t.prev().addBack().hide())})},value:function(e){return e!==t?(this._value=e.replace(/\/{2,}/g,"/"),this.refresh(),t):this._value},_path:function(t){return"/"+e.map(t,function(t){return e(t).text()}).join("/")}}),c.ui.plugin(s),c.ui.plugin(d),c.ui.plugin(l)}(window.kendo.jQuery),function(){return function(e,t){var n,i,a,r=window.kendo,o=r.Class,s=r.ui.Widget,l=r.support.mobileOS,d=r.support.browser,c=e.extend,u=e.proxy,h=r.deepExtend,p=".kendoEditor",f=r.keys,g=o.extend({init:function(e){this.options=e},getHtml:function(){var e=this.options;return r.template(e.template,{useWithBlock:!1})(e)}}),m={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>',buttonTemplate:'<a href="" role="button" class="k-tool"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #"><span class="k-tool-icon #= data.cssClass #">#= data.title #</span></a>',colorPickerTemplate:'<div class="k-colorpicker #= data.cssClass #" />',comboBoxTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" class="#= data.cssClass #" /></span>',separatorTemplate:'<span class="k-separator" />',formatByName:function(t,n){for(var i=0;n.length>i;i++)if(e.inArray(t,n[i].tags)>=0)return n[i]},registerTool:function(e,t){var n=t.options;n&&n.template&&(n.template.options.cssClass="k-"+e),t.name||(t.options.name=e,t.name=e.toLowerCase()),y.defaultTools[e]=t},registerFormat:function(e,t){y.fn.options.formats[e]=t}},v={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogButtonSeparator:"or",dialogCancel:"Cancel",createTable:"Create table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column"},b=!l||l.ios&&l.flatVersion>=500||!l.ios&&t!==document.documentElement.contentEditable,_={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]},y=s.extend({init:function(t,n){var i,a,o,l,d=this,f=r.ui.editor;b&&(s.fn.init.call(d,t,n),d.options=h({},d.options,n),t=d.element,l=f.Dom.name(t[0]),t.closest("form").on("submit"+p,function(){d.update()}),o=c({},d.options),o.editor=d,"textarea"==l?(d._wrapTextarea(),a=d.wrapper.find(".k-editor-toolbar"),t[0].id&&a.attr("aria-controls",t[0].id)):(d.element.attr("contenteditable",!0).addClass("k-widget k-editor k-editor-inline"),o.popup=!0,a=e('<ul class="k-editor-toolbar" role="toolbar" />').insertBefore(t)),d.toolbar=new f.Toolbar(a[0],o),d.toolbar.bindTo(d),d._initializeContentElement(d),d.keyboard=new f.Keyboard([new f.TypingHandler(d),new f.SystemHandler(d)]),d.clipboard=new f.Clipboard(this),d.undoRedoStack=new f.UndoRedoStack,i=n&&n.value?n.value:d.textarea?t.val().replace(/[\r\n\v\f\t ]+/gi," "):t[0].innerHTML,d.value(i),e(document).on("mousedown",u(d._endTyping,d)).on("mouseup",u(d._mouseup,d)),r.notify(d))},_endTyping:function(){var e=this.keyboard;try{e.isTypingInProgress()&&(e.endTyping(!0),this.saveSelection())}catch(t){}},_selectionChange:function(){d.msie||r.ui.editor.Dom.ensureTrailingBreaks(this.body),this._selectionStarted=!1,this.saveSelection(),this.trigger("select",{})},_wrapTextarea:function(){var t=this,n=t.element,i=n[0].style.width,a=n[0].style.height,r=m.editorWrapperTemplate,o=e(r).insertBefore(n).width(i).height(a),s=o.find(".k-editable-area");n.attr("autocomplete","off").appendTo(s).addClass("k-content k-raw-content").css("display","none"),t.textarea=n,t.wrapper=o},_createContentElement:function(t){var n,i,a,o=this,s=o.textarea,l=o.options.domain,d=l||document.domain,c="",u='javascript:""';return(l||d!=location.hostname)&&(c='<script>document.domain="'+d+'"</script>',u="javascript:document.write('"+c+"')"),s.hide(),n=e("<iframe />",{frameBorder:"0"})[0],e(n).css("display","").addClass("k-content").insertBefore(s),n.src=u,i=n.contentWindow||n,a=i.document||n.contentDocument,e(n).one("load",function(){o.toolbar.decorateFrom(a.body)}),a.open(),a.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;height:100%;min-height:100%;}body{font-size:12px;font-family:Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(r.support.isRtl(s)?"direction:rtl;":"")+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}span{-ms-high-contrast-adjust:none;}a{color:#00a}code{font-size:1.23em}telerik\\3Ascript{display: none;}.k-table{table-layout:fixed;width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table p{margin:0;padding:0;}</style>"+c+"<script>(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');</script>"+e.map(t,function(e){return"<link rel='stylesheet' href='"+e+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),a.close(),i},_blur:function(){var e=this.textarea,t=e?e.val():this._oldValue,n=this.options.encoded?this.encodedValue():this.value();this.update(),e&&e.trigger("blur"),n!=t&&this.trigger("change")},_initializeContentElement:function(){var n,i,a=this;a.textarea?(a.window=a._createContentElement(a.options.stylesheets),n=a.document=a.window.contentDocument||a.window.document,a.body=n.body,i=a.window,e(n).on("mouseup"+p,u(a._mouseup,a))):(a.window=window,n=a.document=document,a.body=a.element[0],i=a.body,a.toolbar.decorateFrom(a.body)),e(i).on("blur"+p,u(this._blur,this));try{n.execCommand("enableInlineTableEditing",null,!1)}catch(o){}r.support.touch&&e(n).on("selectionchange"+p,u(this._selectionChange,this)).on("keydown"+p,function(){r._activeElement()!=n.body&&a.window.focus()}),e(a.body).on("keydown"+p,function(e){var n,i,o,s,l,c,h,p,g;return e.keyCode===f.F10?(setTimeout(u(a.toolbar.focus,a.toolbar),100),e.preventDefault(),t):(e.keyCode===f.BACKSPACE?(n=a.getRange(),o=d.msie?"":'<br _moz_dirty="" />',s=r.ui.editor.Dom,n.deleteContents(),i=n.commonAncestorContainer,"p"===s.name(i)&&""===i.innerHTML&&(i.innerHTML=o,n.setStart(i,0),n.collapse(!0),a.selectRange(n))):(e.keyCode==f.LEFT||e.keyCode==f.RIGHT)&&(n=a.getRange(),l=e.keyCode==f.LEFT,c=n[l?"startContainer":"endContainer"],h=n[l?"startOffset":"endOffset"],p=l?-1:1,l&&(h-=1),h+p>0&&3==c.nodeType&&""==c.nodeValue[h]&&(n.setStart(c,h+p),n.collapse(!0),a.selectRange(n))),(g=a.keyboard.toolFromShortcut(a.toolbar.tools,e))?(e.preventDefault(),/^(undo|redo)$/.test(g)||a.keyboard.endTyping(!0),a.trigger("keydown",e),a.exec(g),!1):(a.keyboard.clearTimeout(),a.keyboard.keydown(e),t))}).on("keyup"+p,function(t){var n=[8,9,33,34,35,36,37,38,39,40,40,45,46];(e.inArray(t.keyCode,n)>-1||65==t.keyCode&&t.ctrlKey&&!t.altKey&&!t.shiftKey)&&a._selectionChange(),a.keyboard.keyup(t)}).on("mousedown"+p,function(t){a._selectionStarted=!0;var n=e(t.target);!d.gecko&&2==t.which&&n.is("a[href]")&&window.open(n.attr("href"),"_new")}).on("click"+p,function(e){var t,n=r.ui.editor.Dom;"img"===n.name(e.target)&&(t=a.createRange(),t.selectNode(e.target),a.selectRange(t))}).on("cut"+p+" paste"+p,function(e){a.clipboard["on"+e.type](e)}).on("focusin"+p,function(){e(this).addClass("k-state-active"),a.toolbar.show()}).on("focusout"+p,function(){setTimeout(function(){var t=r._activeElement(),n=a.body,i=a.toolbar;t==n||e.contains(n,t)||i.focused()||(e(n).removeClass("k-state-active"),i.hide())},10)})},_mouseup:function(){var e=this;e._selectionStarted&&setTimeout(function(){e._selectionChange()},1)},refresh:function(){var e=this;e.textarea&&(e.textarea.val(e.value()),e.wrapper.find("iframe").remove(),e._initializeContentElement(e),e.value(e.textarea.val()))},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:v,formats:{},encoded:!0,domain:null,serialization:{entities:!0},stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],_.basic,_.alignment,_.lists,_.indenting,_.links,["insertImage"],_.tables)},destroy:function(){var t=this;s.fn.destroy.call(t),e(t.window).add(t.document).add(t.body).add(t.wrapper).add(t.element.closest("form")).off(p),e(document).off("mousedown",u(t._endTyping,t)).off("mouseup",u(t._mouseup,t)),t.toolbar.destroy(),r.destroy(t.wrapper)},state:function(e){var t,n,i=y.defaultTools[e],a=i&&(i.options.finder||i.finder),o=r.ui.editor.RangeUtils;return a?(t=this.getRange(),n=o.textNodes(t),!n.length&&t.collapsed&&(n=[t.startContainer]),a.getFormat?a.getFormat(n):a.isFormatted(n)):!1},value:function(e){var n=this.body,i=r.ui.editor,a=i.Serializer.domToXhtml(n,this.options.serialization);return e===t?a:(e!=a&&(i.Serializer.htmlToDom(e,n),this.selectionRestorePoint=null,this.update()),t)},saveSelection:function(t){t=t||this.getRange();var n=t.commonAncestorContainer,i=this.body;(n==i||e.contains(i,n))&&(this.selectionRestorePoint=new r.ui.editor.RestorePoint(t))},_focusBody:function(){var e,t=this.body,n=this.document.documentElement;r._activeElement()!=t&&(e=n.scrollTop,t.focus(),n.scrollTop=e)},restoreSelection:function(){this._focusBody(),this.selectionRestorePoint&&this.selectRange(this.selectionRestorePoint.toRange())},focus:function(){this.restoreSelection()},update:function(e){e=e||this.options.encoded?this.encodedValue():this.value(),this.textarea?this.textarea.val(e):this._oldValue=e},encodedValue:function(){return r.ui.editor.Dom.encode(this.value())},createRange:function(e){return r.ui.editor.RangeUtils.createRange(e||this.document)},getSelection:function(){return r.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(e){this._focusBody();var t=this.getSelection();t.removeAllRanges(),t.addRange(e),this.saveSelection(e)},getRange:function(){var e=this.getSelection(),t=e.rangeCount>0?e.getRangeAt(0):this.createRange(),n=this.document;return t.startContainer!=n||t.endContainer!=n||t.startOffset||t.endOffset||(t.setStart(this.body,0),t.collapse(!0)),t},selectedHtml:function(){return r.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(e,t){this.clipboard.paste(e,t)},exec:function(e,n){var i,a,r,o=this,s=null;if(!e)throw Error("kendoEditor.exec(): `name` parameter cannot be empty");if(e=e.toLowerCase(),o.keyboard.isTypingInProgress()||o.restoreSelection(),a=o.toolbar.toolById(e),!a)for(r in y.defaultTools)if(r.toLowerCase()==e){a=y.defaultTools[r];break}if(a){if(i=o.getRange(),a.command&&(s=a.command(c({range:i},n))),o.trigger("execute",{name:e,command:s}),/^(undo|redo)$/i.test(e))o.undoRedoStack[e]();else if(s&&(s.managesUndoRedo||o.undoRedoStack.push(s),s.editor=o,s.exec(),s.async))return s.change=u(o._selectionChange,o),t;o._selectionChange()}}});y.defaultTools={undo:{options:{key:"Z",ctrl:!0}},redo:{options:{key:"Y",ctrl:!0}}},r.ui.plugin(y),n=o.extend({init:function(e){this.options=e},initialize:function(e,t){e.attr({unselectable:"on",title:t.title})},command:function(e){return new this.options.command(e)},update:e.noop}),n.exec=function(e,t,n){e.exec(t,{value:n})},i=n.extend({init:function(e){n.fn.init.call(this,e)},command:function(e){var t=this;return new r.ui.editor.FormatCommand(c(e,{formatter:t.options.formatter}))},update:function(e,t){var n=this.options.finder.isFormatted(t);e.toggleClass("k-state-selected",n),e.attr("aria-pressed",n)}}),m.registerTool("separator",new n({template:new g({template:m.separatorTemplate})})),a=d.msie&&9>d.version?"":"",c(r.ui,{editor:{ToolTemplate:g,EditorUtils:m,Tool:n,FormatTool:i,_bomFill:a,emptyElementContent:d.msie?"":'<br _moz_dirty="" />'}})}(window.jQuery),function(e){function t(e){var t,n,i={};for(t=0,n=e.length;n>t;t++)i[e[t]]=!0;return i}var n,i,a,r,o,s,l,d,c,u,h=window.kendo,p=e.map,f=e.extend,g=h.support.browser,m="style",v="float",b="cssFloat",_="styleFloat",y="class",k="k-marker",w=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),x="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),C=x.concat(["ul","ol","li"]),T=t(C),S="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),D=t(S),E=t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),F=function(e){1==e.nodeType&&e.normalize()};g.msie&&g.version>=8&&(F=function(e){if(1==e.nodeType&&e.firstChild)for(var t=e.firstChild,n=t;n=n.nextSibling,n;)3==n.nodeType&&3==t.nodeType&&(n.nodeValue=t.nodeValue+n.nodeValue,u.remove(t)),t=n}),n=/^\s+$/,i=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,a=/\ufeff/g,r=/^(\s+|\ufeff)$/,s="color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","),l=/[<>\&]/g,d=/[\u00A0-\u2666<>\&]/g,c={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},u={block:T,inline:D,findNodeIndex:function(e,t){var n=0;if(!e)return-1;for(;e=e.previousSibling,e;)t&&3==e.nodeType||n++;return n},isDataNode:function(e){return e&&null!==e.nodeValue&&null!==e.data},isAncestorOf:function(t,n){try{return!u.isDataNode(t)&&(e.contains(t,u.isDataNode(n)?n.parentNode:n)||n.parentNode==t)}catch(i){return!1}},isAncestorOrSelf:function(e,t){return u.isAncestorOf(e,t)||e==t},findClosestAncestor:function(e,t){if(u.isAncestorOf(e,t))for(;t&&t.parentNode!=e;)t=t.parentNode;return t},getNodeLength:function(e){return u.isDataNode(e)?e.length:e.childNodes.length},splitDataNode:function(e,t){for(var n=e.cloneNode(!1),i="",a=e;a.nextSibling&&3==a.nextSibling.nodeType&&a.nextSibling.nodeValue;)i+=a.nextSibling.nodeValue,a=a.nextSibling;e.deleteData(t,e.length),n.deleteData(0,t),n.nodeValue+=i,u.insertAfter(n,e)},attrEquals:function(e,t){var n,i;for(n in t)if(i=e[n],n==v&&(i=e[h.support.cssFloat?b:_]),"object"==typeof i){if(!u.attrEquals(i,t[n]))return!1}else if(i!=t[n])return!1;return!0},blockParentOrBody:function(e){return u.parentOfType(e,C)||e.ownerDocument.body},blockParents:function(t){var n,i,a,r=[];for(n=0,i=t.length;i>n;n++)a=u.parentOfType(t[n],u.blockElements),a&&e.inArray(a,r)<0&&r.push(a);return r},windowFromDocument:function(e){return e.defaultView||e.parentWindow},normalize:F,blockElements:C,nonListBlockElements:x,inlineElements:S,empty:w,fillAttrs:E,toHex:function(e){var t=i.exec(e);return t?"#"+p(t.slice(1),function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}).join(""):e},encode:function(e,t){var n=!t||t.entities?d:l;return e.replace(n,function(e){var t=e.charCodeAt(0),n=c[t];return n?"&"+n+";":e})},stripBom:function(e){return(e||"").replace(a,"")},insignificant:function(e){var t=e.attributes;return"k-marker"==e.className||u.is(e,"br")&&(t._moz_dirty||t._moz_editor_bogus_node)},emptyNode:function(t){var n=e.grep(t.childNodes,function(e){return u.is(e,"br")?!1:u.insignificant(e)?!1:3==e.nodeType&&r.test(e.nodeValue)?!1:u.is(e,"p")&&u.emptyNode(e)?!1:!0});return!n.length},name:function(e){return e.nodeName.toLowerCase()},significantChildNodes:function(t){return e.grep(t.childNodes,function(e){return 3!=e.nodeType||!u.isWhitespace(e)})},lastTextNode:function(e){var t,n=null;if(3==e.nodeType)return e;for(t=e.lastChild;t;t=t.previousSibling)if(n=u.lastTextNode(t))return n;return n},is:function(e,t){return u.name(e)==t},isMarker:function(e){return e.className==k},isWhitespace:function(e){return n.test(e.nodeValue)},isBlock:function(e){return T[u.name(e)]},isEmpty:function(e){return w[u.name(e)]},isInline:function(e){return D[u.name(e)]},scrollContainer:function(e){var t=u.windowFromDocument(e),n=(t.contentWindow||t).document||t.ownerDocument||t;return n=h.support.browser.webkit||"BackCompat"==n.compatMode?n.body:n.documentElement},scrollTo:function(t){var n,i,a=e(u.isDataNode(t)?t.parentNode:t),r=u.windowFromDocument(t.ownerDocument),o=r.innerHeight,s=u.scrollContainer(t.ownerDocument);"br"==u.name(a[0])&&(a=a.parent()),n=a.offset().top,i=a[0].offsetHeight,i+n>s.scrollTop+o&&(s.scrollTop=i+n-o)},persistScrollTop:function(e){o=u.scrollContainer(e).scrollTop},restoreScrollTop:function(e){u.scrollContainer(e).scrollTop=o},insertAt:function(e,t,n){e.insertBefore(t,e.childNodes[n]||null)},insertBefore:function(e,t){return t.parentNode?t.parentNode.insertBefore(e,t):t},insertAfter:function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},remove:function(e){e.parentNode.removeChild(e)},removeTextSiblings:function(e){for(var t=e.parentNode;e.nextSibling&&3==e.nextSibling.nodeType;)t.removeChild(e.nextSibling);for(;e.previousSibling&&3==e.previousSibling.nodeType;)t.removeChild(e.previousSibling)},trim:function(e){var t,n;for(t=e.childNodes.length-1;t>=0;t--)n=e.childNodes[t],u.isDataNode(n)?(u.stripBom(n.nodeValue).length||u.remove(n),u.isWhitespace(n)&&u.insertBefore(n,e)):n.className!=k&&(u.trim(n),n.childNodes.length||u.isEmpty(n)||u.remove(n));return e},closest:function(e,t){for(;e&&u.name(e)!=t;)e=e.parentNode;return e},sibling:function(e,t){do e=e[t];while(e&&1!=e.nodeType);return e},next:function(e){return u.sibling(e,"nextSibling")},prev:function(e){return u.sibling(e,"previousSibling")},parentOfType:function(e,t){do e=e.parentNode;while(e&&!u.ofType(e,t));return e},ofType:function(t,n){return e.inArray(u.name(t),n)>=0},changeTag:function(e,t){var n,i,a,r,o,s=u.create(e.ownerDocument,t),l=e.attributes;for(n=0,i=l.length;i>n;n++)o=l[n],o.specified&&(a=o.nodeName,r=o.nodeValue,a==y?s.className=r:a==m?s.style.cssText=e.style.cssText:s.setAttribute(a,r));
for(;e.firstChild;)s.appendChild(e.firstChild);return u.insertBefore(s,e),u.remove(e),s},editableParent:function(e){for(;3==e.nodeType||"true"!==e.contentEditable;)e=e.parentNode;return e},wrap:function(e,t){return u.insertBefore(t,e),t.appendChild(e),t},unwrap:function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},create:function(e,t,n){return u.attr(e.createElement(t),n)},attr:function(e,t){t=f({},t),t&&m in t&&(u.style(e,t.style),delete t.style);for(var n in t)null===t[n]?(e.removeAttribute(n),delete t[n]):"className"==n&&(e[n]=t[n]);return f(e,t)},style:function(t,n){e(t).css(n||{})},unstyle:function(e,t){for(var n in t)n==v&&(n=h.support.cssFloat?b:_),e.style[n]="";""===e.style.cssText&&e.removeAttribute(m)},inlineStyle:function(t,n,i){var a,r=e(u.create(t.ownerDocument,n,i));return t.appendChild(r[0]),a=p(s,function(e){return g.msie&&"line-height"==e&&"1px"==r.css(e)?"line-height:1.5":e+":"+r.css(e)}).join(";"),r.remove(),a},getEffectiveBackground:function(e){var t=e.css("background-color");return t.indexOf("rgba(0, 0, 0, 0")<0&&"transparent"!==t?t:"html"===e[0].tagName.toLowerCase()?"Window":u.getEffectiveBackground(e.parent())},removeClass:function(t,n){var i,a,r=" "+t.className+" ",o=n.split(" ");for(i=0,a=o.length;a>i;i++)r=r.replace(" "+o[i]+" "," ");r=e.trim(r),r.length?t.className=r:t.removeAttribute(y)},commonAncestor:function(){var e,t,n,i,a,r=arguments.length,o=[],s=1/0,l=null;if(!r)return null;if(1==r)return arguments[0];for(e=0;r>e;e++){for(t=[],n=arguments[e];n;)t.push(n),n=n.parentNode;o.push(t.reverse()),s=Math.min(s,t.length)}if(1==r)return o[0][0];for(e=0;s>e;e++){for(i=o[0][e],a=1;r>a;a++)if(i!=o[a][e])return l;l=i}return l},closestSplittableParent:function(t){var n,i,a;return n=1==t.length?u.parentOfType(t[0],["ul","ol"]):u.commonAncestor.apply(null,t),n||(n=u.parentOfType(t[0],["p","td"])||t[0].ownerDocument.body),u.isInline(n)&&(n=u.blockParentOrBody(n)),i=p(t,u.editableParent),a=u.commonAncestor(i)[0],e.contains(n,a)&&(n=a),n},closestEditable:function(t,n){var i=u.parentOfType(t,n),a=u.editableParent(t);return i&&a&&e.contains(i,a)?i=a:!i&&a&&(i=a),i},closestEditableOfType:function(e,t){var n=u.closestEditable(e,t);return n&&u.ofType(n,t)?n:void 0},filter:function(e,t,n){for(var i,a=0,r=t.length,o=[];r>a;a++)i=u.name(t[a]),(!n&&i==e||n&&i!=e)&&o.push(t[a]);return o},ensureTrailingBreaks:function(t){var n=e(t).find("p,td,th"),i=n.length,a=0;if(i)for(;i>a;a++)u.ensureTrailingBreak(n[a]);else u.ensureTrailingBreak(t)},ensureTrailingBreak:function(e){var t,n=e.lastChild&&u.name(e.lastChild);(!n||"br"!=n&&"img"!=n)&&(t=e.ownerDocument.createElement("br"),t.setAttribute("_moz_dirty",!0),e.appendChild(t))}},h.ui.editor.Dom=u}(window.kendo.jQuery),function(e,t){var n,i,a=window.kendo,r=a.ui.editor,o=r.Dom,s=e.extend,l="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),d=/"/g,c=/<br[^>]*>/i,u=/^\d+(\.\d*)?(px)?$/i,h=/<p><\/p>/i,p=/([\w|\-]+)\s*:\s*([^;]+);?/i,f=/^sizzle-\d+/i,g=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,m=document.createElement("div");m.innerHTML=" <hr>",n=3===m.firstChild.nodeType,m=null,i={toEditableHtml:function(e){return e=e||"",e.replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/gi,"<telerik:script$1>$2</telerik:script>").replace(/<img([^>]*)>/gi,function(e){return e.replace(g,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1")},_fillEmptyElements:function(t){e(t).find("p").each(function(){var t,n=e(this);if(/^\s*$/g.test(n.text())&&!n.find("img,input").length){for(t=this;t.firstChild&&3!=t.firstChild.nodeType;)t=t.firstChild;1!=t.nodeType||o.empty[o.name(t)]||(t.innerHTML=a.ui.editor.emptyElementContent)}})},_removeSystemElements:function(t){e(".k-paste-container",t).remove()},_resetOrderedLists:function(e){var t,n,i,a=e.getElementsByTagName("ol");for(t=0;a.length>t;t++)n=a[t],i=n.getAttribute("start"),n.setAttribute("start",1),i?n.setAttribute("start",i):n.removeAttribute(i)},htmlToDom:function(t,n){var r,s,l=a.support.browser,d=l.msie,c=d&&9>l.version;return t=i.toEditableHtml(t),c&&(t="<br/>"+t,r="originalsrc",s="originalhref",t=t.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,s+'="$1"'),t=t.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,r+'="$1"')),n.innerHTML=t,c?(o.remove(n.firstChild),e(n).find("telerik\\:script,script,link,img,a").each(function(){var e=this;e[s]&&(e.setAttribute("href",e[s]),e.removeAttribute(s)),e[r]&&(e.setAttribute("src",e[r]),e.removeAttribute(r))})):d&&(o.normalize(n),i._resetOrderedLists(n)),i._fillEmptyElements(n),i._removeSystemElements(n),e("table",n).addClass("k-table"),n},domToXhtml:function(i,a){function r(t){var n,i,a,r,s=e.trim,l=s(t).split(";"),c=l.length;for(n=0,c=l.length;c>n;n++)l[n].length&&(i=p.exec(l[n]),i&&(a=s(i[1].toLowerCase()),r=s(i[2]),"font-size-adjust"!=a&&"font-stretch"!=a&&(a.indexOf("color")>=0?r=o.toHex(r):a.indexOf("font")>=0?r=r.replace(d,"'"):/\burl\(/g.test(r)&&(r=r.replace(d,"")),b.push(a),b.push(":"),b.push(r),b.push(";"))))}function s(n){var i,a,s,l,d,c,h,p,g,m=[],v=n.attributes;for(o.is(n,"img")&&(h=n.style.width,p=n.style.height,g=e(n),h&&u.test(h)&&(g.attr("width",parseInt(h,10)),o.unstyle(n,{width:t})),p&&u.test(p)&&(g.attr("height",parseInt(p,10)),o.unstyle(n,{height:t}))),a=0,s=v.length;s>a;a++)i=v[a],l=i.nodeName,d=i.nodeValue,c=i.specified,"value"==l&&"value"in n&&n.value?c=!0:"type"==l&&"text"==d?c=!0:"class"!=l||d?f.test(l)?c=!1:"complete"==l?c=!1:"altHtml"==l?c=!1:"start"==l&&(o.is(n,"ul")||o.is(n,"ol"))?c=!1:l.indexOf("_moz")>=0&&(c=!1):c=!1,c&&m.push(i);if(m.length)for(m.sort(function(e,t){return e.nodeName>t.nodeName?1:t.nodeName>e.nodeName?-1:0}),a=0,s=m.length;s>a;a++)i=m[a],l=i.nodeName,d=i.nodeValue,("class"!=l||"k-table"!=d)&&(b.push(" "),b.push(l),b.push('="'),"style"==l?r(d||n.style.cssText):b.push("src"==l||"href"==l?n.getAttribute(l,2):o.fillAttrs[l]?l:d),b.push('"'))}function g(e,t,n){for(var i=e.firstChild;i;i=i.nextSibling)v(i,t,n)}function m(e){return e.nodeValue.replace(/\ufeff/g,"")}function v(e,i,r){var l,d,c,u,h,p=e.nodeType;if(1==p){if(l=o.name(e),!l||o.insignificant(e))return;if(o.isInline(e)&&1==e.childNodes.length&&3==e.firstChild.nodeType&&!m(e.firstChild))return;if(d=_[l])return d.start(e),g(e,!1,d.skipEncoding),d.end(e),t;b.push("<"),b.push(l),s(e),o.empty[l]?b.push(" />"):(b.push(">"),g(e,i||o.is(e,"pre")),b.push("</"),b.push(l),b.push(">"))}else 3==p?(u=m(e),!i&&n&&(c=e.parentNode,h=e.previousSibling,h||(h=(o.isInline(c)?c:e).previousSibling),(!h||""===h.innerHTML||o.isBlock(h))&&(u=u.replace(/^[\r\n\v\f\t ]+/,"")),u=u.replace(/ +/," ")),b.push(r?u:o.encode(u,a))):4==p?(b.push("<![CDATA["),b.push(e.data),b.push("]]>")):8==p&&(e.data.indexOf("[CDATA[")<0?(b.push("<!--"),b.push(e.data),b.push("-->")):(b.push("<!"),b.push(e.data),b.push(">")))}var b=[],_={"telerik:script":{start:function(e){b.push("<script"),s(e),b.push(">")},end:function(){b.push("</script>")},skipEncoding:!0},b:{start:function(){b.push("<strong>")},end:function(){b.push("</strong>")}},i:{start:function(){b.push("<em>")},end:function(){b.push("</em>")}},u:{start:function(){b.push('<span style="text-decoration:underline;">')},end:function(){b.push("</span>")}},iframe:{start:function(e){b.push("<iframe"),s(e),b.push(">")},end:function(){b.push("</iframe>")}},font:{start:function(e){var t,n,i;b.push('<span style="'),t=e.getAttribute("color"),n=l[e.getAttribute("size")],i=e.getAttribute("face"),t&&(b.push("color:"),b.push(o.toHex(t)),b.push(";")),i&&(b.push("font-face:"),b.push(i),b.push(";")),n&&(b.push("font-size:"),b.push(n),b.push(";")),b.push('">')},end:function(){b.push("</span>")}}};return 1==i.childNodes.length&&3==i.firstChild.nodeType?o.encode(m(i.firstChild).replace(/[\r\n\v\f\t ]+/," "),a):(g(i),b=b.join(""),""===b.replace(c,"").replace(h,"")?"":b)}},s(r,{Serializer:i})}(window.kendo.jQuery),function(e){function t(e,t,n,i){var a,r,o,s;if(e==t)return i-n;for(a=t;a&&a.parentNode!=e;)a=a.parentNode;if(a)return p(a)-n;for(a=e;a&&a.parentNode!=t;)a=a.parentNode;if(a)return i-p(a)-1;for(r=h.commonAncestor(e,t),o=e;o&&o.parentNode!=r;)o=o.parentNode;for(o||(o=r),s=t;s&&s.parentNode!=r;)s=s.parentNode;return s||(s=r),o==s?0:p(s)-p(o)}function n(e,n){function i(e){try{return t(e.startContainer,e.endContainer,e.startOffset,e.endOffset)<0}catch(n){return!0}}i(e)&&(n?(e.commonAncestorContainer=e.endContainer=e.startContainer,e.endOffset=e.startOffset):(e.commonAncestorContainer=e.startContainer=e.endContainer,e.startOffset=e.endOffset),e.collapsed=!0)}function i(e){e.collapsed=e.startContainer==e.endContainer&&e.startOffset==e.endOffset;for(var t=e.startContainer;t&&t!=e.endContainer&&!h.isAncestorOf(t,e.endContainer);)t=t.parentNode;e.commonAncestorContainer=t}function a(e){var t=e.duplicate(),n=e.duplicate();return t.collapse(!0),n.collapse(!1),h.commonAncestor(e.parentElement(),t.parentElement(),n.parentElement())}function r(e,t,n){var i,a=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"],o=0,s=f(a),l=s?a:a.childNodes[r]||null,d=s?a.parentNode:a,c=t.ownerDocument,u=c.body.createTextRange();(3==a.nodeType||4==a.nodeType)&&(o=r),d||(d=c.body),"img"==d.nodeName.toLowerCase()?(u.moveToElementText(d),u.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",u)):(i=d.insertBefore(h.create(c,"a"),l),u.moveToElementText(i),h.remove(i),u[n?"moveStart":"moveEnd"]("character",o),u.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",u))}function o(e,t,n,i){var a,r,o,s,l,d,c,u=h.create(t.ownerDocument,"a"),g=e.duplicate(),m=i?"StartToStart":"StartToEnd",v=!1;u.innerHTML="",g.collapse(i),r=g.parentElement(),h.isAncestorOrSelf(n,r)||(r=n);do v?r.insertBefore(u,u.previousSibling):(r.appendChild(u),v=!0),g.moveToElementText(u);while((a=g.compareEndPoints(m,e))>0&&u.previousSibling);o=u.nextSibling,-1==a&&f(o)?(g.setEndPoint(i?"EndToStart":"EndToEnd",e),h.remove(u),d=[o,g.text.length]):(s=!i&&u.previousSibling,l=i&&u.nextSibling,f(l)?d=[l,0]:f(s)?d=[s,s.length]:(c=p(u),d=r.nextSibling&&c==r.childNodes.length-1?[r.nextSibling,0]:[r,c]),h.remove(u)),t[i?"setStart":"setEnd"].apply(t,d)}var s=window.kendo,l=s.Class,d=e.extend,c=s.ui.editor,u=s.support.browser,h=c.Dom,p=h.findNodeIndex,f=h.isDataNode,g=h.findClosestAncestor,m=h.getNodeLength,v=h.normalize,b={selectionFromWindow:function(e){return"getSelection"in e?e.getSelection():new k(e.document)},selectionFromRange:function(e){var t=S.documentFromRange(e);return b.selectionFromDocument(t)},selectionFromDocument:function(e){return b.selectionFromWindow(h.windowFromDocument(e))}},_=l.extend({init:function(t){e.extend(this,{ownerDocument:t,startContainer:t,endContainer:t,commonAncestorContainer:t,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(e,t){this.startContainer=e,this.startOffset=t,i(this),n(this,!0)},setEnd:function(e,t){this.endContainer=e,this.endOffset=t,i(this),n(this,!1)},setStartBefore:function(e){this.setStart(e.parentNode,p(e))},setStartAfter:function(e){this.setStart(e.parentNode,p(e)+1)},setEndBefore:function(e){this.setEnd(e.parentNode,p(e))},setEndAfter:function(e){this.setEnd(e.parentNode,p(e)+1)},selectNode:function(e){this.setStartBefore(e),this.setEndAfter(e)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e[1===e.nodeType?"childNodes":"nodeValue"].length)},collapse:function(e){var t=this;e?t.setEnd(t.startContainer,t.startOffset):t.setStart(t.endContainer,t.endOffset)},deleteContents:function(){var e=this,t=e.cloneRange();e.startContainer!=e.commonAncestorContainer&&e.setStartAfter(g(e.commonAncestorContainer,e.startContainer)),e.collapse(!0),function n(e){for(;e.next();)e.hasPartialSubtree()?n(e.getSubtreeIterator()):e.remove()}(new y(t))},cloneContents:function(){var e=S.documentFromRange(this);return function t(n){for(var i,a=e.createDocumentFragment();i=n.next();)i=i.cloneNode(!n.hasPartialSubtree()),n.hasPartialSubtree()&&i.appendChild(t(n.getSubtreeIterator())),a.appendChild(i);return a}(new y(this))},extractContents:function(){var e,t=this,n=t.cloneRange();return t.startContainer!=t.commonAncestorContainer&&t.setStartAfter(g(t.commonAncestorContainer,t.startContainer)),t.collapse(!0),e=S.documentFromRange(t),function i(n){for(var a,r=e.createDocumentFragment();a=n.next();)n.hasPartialSubtree()?(a=a.cloneNode(!1),a.appendChild(i(n.getSubtreeIterator()))):n.remove(t.originalRange),r.appendChild(a);return r}(new y(n))},insertNode:function(e){var t=this;f(t.startContainer)?(t.startOffset!=t.startContainer.nodeValue.length&&h.splitDataNode(t.startContainer,t.startOffset),h.insertAfter(e,t.startContainer)):h.insertAt(t.startContainer,e,t.startOffset),t.setStart(t.startContainer,t.startOffset)},cloneRange:function(){return e.extend(new _(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var e=this.startContainer.nodeName,t=this.endContainer.nodeName;return("#text"==e?this.startContainer.nodeValue:e)+"("+this.startOffset+") : "+("#text"==t?this.endContainer.nodeValue:t)+"("+this.endOffset+")"}}),y=l.extend({init:function(t){if(e.extend(this,{range:t,_current:null,_next:null,_end:null}),!t.collapsed){var n=t.commonAncestorContainer;this._next=t.startContainer!=n||f(t.startContainer)?g(n,t.startContainer):t.startContainer.childNodes[t.startOffset],this._end=t.endContainer!=n||f(t.endContainer)?g(n,t.endContainer).nextSibling:t.endContainer.childNodes[t.endOffset]}},hasNext:function(){return!!this._next},next:function(){var e=this,t=e._current=e._next;return e._next=e._current&&e._current.nextSibling!=e._end?e._current.nextSibling:null,f(e._current)&&(e.range.endContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(e.range.endOffset,t.length-e.range.endOffset)),e.range.startContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(0,e.range.startOffset))),t},traverse:function(e){function t(){return i._current=i._next,i._next=i._current&&i._current.nextSibling!=i._end?i._current.nextSibling:null,i._current}for(var n,i=this;n=t();)i.hasPartialSubtree()?i.getSubtreeIterator().traverse(e):e(n);return n},remove:function(e){var t,n,i,a,r,o=this,s=o.range.startContainer==o._current,l=o.range.endContainer==o._current;f(o._current)&&(s||l)?(t=s?o.range.startOffset:0,n=l?o.range.endOffset:o._current.length,i=n-t,e&&(s||l)&&(o._current==e.startContainer&&e.startOffset>=t&&(e.startOffset-=i),o._current==e.endContainer&&e.endOffset>=n&&(e.endOffset-=i)),o._current.deleteData(t,i)):(a=o._current.parentNode,!e||o.range.startContainer!=a&&o.range.endContainer!=a||(r=p(o._current),a==e.startContainer&&e.startOffset>=r&&(e.startOffset-=1),a==e.endContainer&&e.endOffset>r&&(e.endOffset-=1)),h.remove(o._current))},hasPartialSubtree:function(){return!f(this._current)&&(h.isAncestorOrSelf(this._current,this.range.startContainer)||h.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var e=this,t=e.range.cloneRange();return t.selectNodeContents(e._current),h.isAncestorOrSelf(e._current,e.range.startContainer)&&t.setStart(e.range.startContainer,e.range.startOffset),h.isAncestorOrSelf(e._current,e.range.endContainer)&&t.setEnd(e.range.endContainer,e.range.endOffset),new y(t)}}),k=l.extend({init:function(e){this.ownerDocument=e,this.rangeCount=1},addRange:function(e){var t=this.ownerDocument.body.createTextRange();r(t,e,!1),r(t,e,!0),t.select()},removeAllRanges:function(){var e=this.ownerDocument.selection;"None"!=e.type&&e.empty()},getRangeAt:function(){var e,t,n,i,r,s,l,d,c=new _(this.ownerDocument),u=this.ownerDocument.selection;try{if(e=u.createRange(),t=e.item?e.item(0):e.parentElement(),t.ownerDocument!=this.ownerDocument)return c}catch(h){return c}if("Control"==u.type)c.selectNode(e.item(0));else if(n=a(e),o(e,c,n,!0),o(e,c,n,!1),9==c.startContainer.nodeType&&c.setStart(c.endContainer,c.startOffset),9==c.endContainer.nodeType&&c.setEnd(c.startContainer,c.endOffset),0===e.compareEndPoints("StartToEnd",e)&&c.collapse(!1),i=c.startContainer,r=c.endContainer,s=this.ownerDocument.body,!(c.collapsed||0!==c.startOffset||c.endOffset!=m(c.endContainer)||i==r&&f(i)&&i.parentNode==s)){for(l=!1,d=!1;0===p(i)&&i==i.parentNode.firstChild&&i!=s;)i=i.parentNode,l=!0;for(;p(r)==m(r.parentNode)-1&&r==r.parentNode.lastChild&&r!=s;)r=r.parentNode,d=!0;i==s&&r==s&&l&&d&&(c.setStart(i,0),c.setEnd(r,m(s)))}return c}}),w=l.extend({init:function(e){this.enumerate=function(){function t(e){if(h.is(e,"img")||3==e.nodeType&&(!h.isWhitespace(e)||""==e.nodeValue))n.push(e);else for(e=e.firstChild;e;)t(e),e=e.nextSibling}var n=[];return new y(e).traverse(t),n}}}),x=l.extend({init:function(e,t){var n=this;n.range=e,n.rootNode=S.documentFromRange(e),n.body=t||n.getEditable(e),"body"!=h.name(n.body)&&(n.rootNode=n.body),n.html=n.body.innerHTML,n.startContainer=n.nodeToPath(e.startContainer),n.endContainer=n.nodeToPath(e.endContainer),n.startOffset=n.offset(e.startContainer,e.startOffset),n.endOffset=n.offset(e.endContainer,e.endOffset)},index:function(e){for(var t,n=0,i=e.nodeType;e=e.previousSibling;)t=e.nodeType,(3!=t||i!=t)&&n++,i=t;return n},getEditable:function(e){for(var t=e.commonAncestorContainer;t&&(3==t.nodeType||t.attributes&&!t.attributes.contentEditable);)t=t.parentNode;return t},restoreHtml:function(){this.body.innerHTML=this.html},offset:function(e,t){if(3==e.nodeType)for(;(e=e.previousSibling)&&3==e.nodeType;)t+=e.nodeValue.length;return t},nodeToPath:function(e){for(var t=[];e!=this.rootNode;)t.push(this.index(e)),e=e.parentNode;return t},toRangePoint:function(e,t,n,i){for(var a=this.rootNode,r=n.length,o=i;r--;)a=a.childNodes[n[r]];for(;3==a.nodeType&&o>a.nodeValue.length;)o-=a.nodeValue.length,a=a.nextSibling;e[t?"setStart":"setEnd"](a,o)},toRange:function(){var e=this,t=e.range.cloneRange();return e.toRangePoint(t,!0,e.startContainer,e.startOffset),e.toRangePoint(t,!1,e.endContainer,e.endOffset),t}}),C=l.extend({init:function(){this.caret=null},addCaret:function(e){var t=this;return t.caret=h.create(S.documentFromRange(e),"span",{className:"k-marker"}),e.insertNode(t.caret),e.selectNode(t.caret),t.caret},removeCaret:function(e){var t,n,i,a,r=this,o=r.caret.previousSibling,s=0;o&&(s=f(o)?o.nodeValue.length:p(o)),t=r.caret.parentNode,n=o?p(o):0,h.remove(r.caret),v(t),i=t.childNodes[n],f(i)?e.setStart(i,s):i?(a=h.lastTextNode(i),a?e.setStart(a,a.nodeValue.length):e[o?"setStartAfter":"setStartBefore"](i)):(u.msie||t.innerHTML||(t.innerHTML='<br _moz_dirty="" />'),e.selectNodeContents(t)),e.collapse(!0)},add:function(e,t){var n,i,a=this,r=e.collapsed&&!S.isExpandable(e),o=S.documentFromRange(e);return t&&e.collapsed&&(a.addCaret(e),e=S.expand(e)),n=e.cloneRange(),n.collapse(!1),a.end=h.create(o,"span",{className:"k-marker"}),n.insertNode(a.end),n=e.cloneRange(),n.collapse(!0),a.start=a.end.cloneNode(!0),n.insertNode(a.start),a._removeDeadMarkers(a.start,a.end),r&&(i=o.createTextNode(""),h.insertAfter(i.cloneNode(),a.start),h.insertBefore(i,a.end)),e.setStartBefore(a.start),e.setEndAfter(a.end),v(e.commonAncestorContainer),e},_removeDeadMarkers:function(e,t){e.previousSibling&&""==e.previousSibling.nodeValue&&h.remove(e.previousSibling),t.nextSibling&&""==t.nextSibling.nodeValue&&h.remove(t.nextSibling)},remove:function(e){var t,n,i,a,r,o,s,l,d,c,u,g,m,b=this,_=b.start,y=b.end;for(v(e.commonAncestorContainer);!_.nextSibling&&_.parentNode;)_=_.parentNode;for(;!y.previousSibling&&y.parentNode;)y=y.parentNode;if(t=_.previousSibling&&3==_.previousSibling.nodeType&&_.nextSibling&&3==_.nextSibling.nodeType,n=y.previousSibling&&3==y.previousSibling.nodeType&&y.nextSibling&&3==y.nextSibling.nodeType,i=t&&n,_=_.nextSibling,y=y.previousSibling,a=!1,r=!1,_==b.end&&(r=!!b.start.previousSibling,_=y=b.start.previousSibling||b.end.nextSibling,a=!0),h.remove(b.start),h.remove(b.end),!_||!y)return e.selectNodeContents(e.commonAncestorContainer),void e.collapse(!0);if(o=a?f(_)?_.nodeValue.length:_.childNodes.length:0,s=f(y)?y.nodeValue.length:y.childNodes.length,3==_.nodeType)for(;_.previousSibling&&3==_.previousSibling.nodeType;)_=_.previousSibling,o+=_.nodeValue.length;if(3==y.nodeType)for(;y.previousSibling&&3==y.previousSibling.nodeType;)y=y.previousSibling,s+=y.nodeValue.length;for(l=p(_),d=_.parentNode,c=p(y),u=y.parentNode,g=_;g.previousSibling;g=g.previousSibling)3==g.nodeType&&3==g.previousSibling.nodeType&&l--;for(m=y;m.previousSibling;m=m.previousSibling)3==m.nodeType&&3==m.previousSibling.nodeType&&c--;v(d),3==_.nodeType&&(_=d.childNodes[l]),v(u),3==y.nodeType&&(y=u.childNodes[c]),a?(3==_.nodeType?e.setStart(_,o):e[r?"setStartAfter":"setStartBefore"](_),e.collapse(!0)):(3==_.nodeType?e.setStart(_,o):e.setStartBefore(_),3==y.nodeType?e.setEnd(y,s):e.setEndAfter(y)),b.caret&&b.removeCaret(e)}}),T=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,S={nodes:function(e){var t=S.textNodes(e);return t.length||(e.selectNodeContents(e.commonAncestorContainer),t=S.textNodes(e),t.length||(t=h.significantChildNodes(e.commonAncestorContainer))),t},textNodes:function(e){return new w(e).enumerate()},documentFromRange:function(e){var t=e.startContainer;return 9==t.nodeType?t:t.ownerDocument},createRange:function(e){return u.msie&&9>u.version?new _(e):e.createRange()},selectRange:function(e){var t,n=S.image(e);n&&(e.setStartAfter(n),e.setEndAfter(n)),t=b.selectionFromRange(e),t.removeAllRanges(),t.addRange(e)},stringify:function(e){return s.format("{0}:{1} - {2}:{3}",h.name(e.startContainer),e.startOffset,h.name(e.endContainer),e.endOffset)},split:function(e,t,n){function i(i){var a,r=e.cloneRange();r.collapse(i),r[i?"setStartBefore":"setEndAfter"](t),a=r.extractContents(),n&&(a=h.trim(a)),h[i?"insertBefore":"insertAfter"](a,t)}i(!0),i(!1)},getMarkers:function(e){var t=[];return new y(e).traverse(function(e){"k-marker"==e.className&&t.push(e)}),t},image:function(e){var t=[];return new y(e).traverse(function(e){h.is(e,"img")&&t.push(e)}),1==t.length?t[0]:void 0},expand:function(e){var t,n,i,a,r=e.cloneRange(),o=r.startContainer.childNodes[0===r.startOffset?0:r.startOffset-1],s=r.endContainer.childNodes[r.endOffset];return f(o)&&f(s)?(t=o.nodeValue,n=s.nodeValue,t&&n?(i=t.split("").reverse().join("").search(T),a=n.search(T),i&&a?(a=-1==a?n.length:a,i=-1==i?0:t.length-i,r.setStart(o,i),r.setEnd(s,a),r):r):r):r},isExpandable:function(e){var t,n,i,a,r,o,s=e.startContainer,l=S.documentFromRange(e);return s==l||s==l.body?!1:(t=e.cloneRange(),(n=s.nodeValue)?(i=n.substring(0,t.startOffset),a=n.substring(t.startOffset),r=0,o=0,i&&(r=i.split("").reverse().join("").search(T)),a&&(o=a.search(T)),r&&o):!1)}};d(c,{SelectionUtils:b,W3CRange:_,RangeIterator:y,W3CSelection:k,RangeEnumerator:w,RestorePoint:x,Marker:C,RangeUtils:S})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=t.ui.editor,a=i.EditorUtils,r=a.registerTool,o=i.Dom,s=i.Tool,l=i.ToolTemplate,d=i.RestorePoint,c=i.Marker,u=e.extend,h=n.extend({init:function(e){this.options=e,this.restorePoint=new d(e.range),this.marker=new c,this.formatter=e.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(e){return this.marker.add(this.getRange(),e)},releaseRange:function(e){this.marker.remove(e),this.editor.selectRange(e)},undo:function(){var e=this.restorePoint;e.restoreHtml(),this.editor.selectRange(e.toRange())},redo:function(){this.exec()},createDialog:function(n,i){var a=this.editor;return e(n).appendTo(document.body).kendoWindow(u({},a.options.dialogOptions,i)).closest(".k-window").toggleClass("k-rtl",t.support.isRtl(a.wrapper)).end()},exec:function(){var e=this.lockRange(!0);this.formatter.editor=this.editor,this.formatter.toggle(e),this.releaseRange(e)}}),p=n.extend({init:function(e,t){this.body=e.body,this.startRestorePoint=e,this.endRestorePoint=t},redo:function(){this.body.innerHTML=this.endRestorePoint.html,this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html,this.editor.selectRange(this.startRestorePoint.toRange())}}),f=h.extend({init:function(e){h.fn.init.call(this,e),this.managesUndoRedo=!0},exec:function(){var e,t=this.editor,n=this.options,i=n.range,a=t.body,r=new d(i,a),o=n.html||n.value||"";t.selectRange(i),t.clipboard.paste(o,n),n.postProcess&&n.postProcess(t,t.getRange()),e=new p(r,new d(t.getRange(),a)),e.editor=t,t.undoRedoStack.push(e),t.focus()}}),g=s.extend({initialize:function(e,t){var n=t.editor,a=this.options,r=a.items?a.items:n.options.insertHtml;new i.SelectBox(e,{dataSource:r,dataTextField:"text",dataValueField:"value",change:function(){s.exec(n,"insertHtml",this.value())},title:n.options.messages.insertHtml,highlightFirst:!1})},command:function(e){return new f(e)},update:function(e){var t=e.data("kendoSelectBox")||e.find("select").data("kendoSelectBox");t.close(),t.value(t.options.title)}}),m=n.extend({init:function(){this.stack=[],this.currentCommandIndex=-1},push:function(e){this.stack=this.stack.slice(0,this.currentCommandIndex+1),this.currentCommandIndex=this.stack.push(e)-1},undo:function(){this.canUndo()&&this.stack[this.currentCommandIndex--].undo()},redo:function(){this.canRedo()&&this.stack[++this.currentCommandIndex].redo()},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}}),v=n.extend({init:function(e){this.editor=e},keydown:function(t){var n,i=this,a=i.editor,r=a.keyboard,o=r.isTypingKey(t),s=u(e.Event(),t);return i.editor.trigger("keydown",s),s.isDefaultPrevented()&&t.preventDefault(),s.isDefaultPrevented()||!o||r.isTypingInProgress()?!1:(n=a.getRange(),i.startRestorePoint=new d(n),r.startTyping(function(){a.selectionRestorePoint=i.endRestorePoint=new d(a.getRange());var e=new p(i.startRestorePoint,i.endRestorePoint);e.editor=a,a.undoRedoStack.push(e)}),!0)},keyup:function(e){var t=this.editor.keyboard;return this.editor.trigger("keyup",e),t.isTypingInProgress()?(t.endTyping(),!0):!1}}),b=n.extend({init:function(e){this.editor=e,this.systemCommandIsInProgress=!1},createUndoCommand:function(){var e,t=this;t.endRestorePoint=new d(t.editor.getRange()),e=new p(t.startRestorePoint,t.endRestorePoint),e.editor=t.editor,t.editor.undoRedoStack.push(e),t.startRestorePoint=t.endRestorePoint},changed:function(){return this.startRestorePoint?this.startRestorePoint.html!=this.editor.body.innerHTML:!1},keydown:function(e){var t=this,n=t.editor,i=n.keyboard;return i.isModifierKey(e)?(i.isTypingInProgress()&&i.endTyping(!0),t.startRestorePoint=new d(n.getRange()),!0):i.isSystem(e)?(t.systemCommandIsInProgress=!0,t.changed()&&(t.systemCommandIsInProgress=!1,t.createUndoCommand()),!0):!1},keyup:function(e){var t=this;return t.systemCommandIsInProgress&&t.changed()?(t.systemCommandIsInProgress=!1,t.createUndoCommand(e),!0):!1}}),_=n.extend({init:function(e){this.handlers=e,this.typingInProgress=!1},isCharacter:function(e){return e>=48&&90>=e||e>=96&&111>=e||e>=186&&192>=e||e>=219&&222>=e||229==e},toolFromShortcut:function(t,n){var i,a,r=String.fromCharCode(n.keyCode);for(i in t)if(a=e.extend({ctrl:!1,alt:!1,shift:!1},t[i].options),(a.key==r||a.key==n.keyCode)&&a.ctrl==n.ctrlKey&&a.alt==n.altKey&&a.shift==n.shiftKey)return i},isTypingKey:function(e){var t=e.keyCode;return this.isCharacter(t)&&!e.ctrlKey&&!e.altKey||32==t||13==t||8==t||46==t&&!e.shiftKey&&!e.ctrlKey&&!e.altKey},isModifierKey:function(e){var t=e.keyCode;return 17==t&&!e.shiftKey&&!e.altKey||16==t&&!e.ctrlKey&&!e.altKey||18==t&&!e.ctrlKey&&!e.shiftKey},isSystem:function(e){return 46==e.keyCode&&e.ctrlKey&&!e.altKey&&!e.shiftKey},startTyping:function(e){this.onEndTyping=e,this.typingInProgress=!0},stopTyping:function(){this.typingInProgress=!1,this.onEndTyping&&this.onEndTyping()},endTyping:function(t){var n=this;n.clearTimeout(),t?n.stopTyping():n.timeout=window.setTimeout(e.proxy(n.stopTyping,n),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(e,t){var n,i=this.handlers;for(n=0;i.length>n&&!i[n][t](e);n++);},keydown:function(e){this.notify(e,"keydown")},keyup:function(e){this.notify(e,"keyup")}}),y=n.extend({init:function(e){this.editor=e,this.cleaners=[new w,new x,new C]},htmlToFragment:function(e){var t=this.editor,n=t.document,i=o.create(n,"div"),a=n.createDocumentFragment();for(i.innerHTML=e;i.firstChild;)a.appendChild(i.firstChild);return a},isBlock:function(e){return/<(div|p|ul|ol|table|h[1-6])/i.test(e)},_contentModification:function(e,t){var n,i,a=this,r=a.editor;a._inProgress||(a._inProgress=!0,n=r.getRange(),i=new d(n),o.persistScrollTop(r.document),e.call(a,r,n),setTimeout(function(){var e,o;t.call(a,r,n),e=new d(r.getRange()),o=new p(i,e),o.editor=r,r.undoRedoStack.push(o),r._selectionChange(),a._inProgress=!1}))},oncut:function(){this._contentModification(e.noop,e.noop)},onpaste:function(t){this._contentModification(function(n,i){var a,r,s,l=o.create(n.document,"div",{className:"k-paste-container",innerHTML:""});n.body.appendChild(l),n.body.createTextRange?(t.preventDefault(),a=n.createRange(),a.selectNodeContents(l),n.selectRange(a),r=n.body.createTextRange(),r.moveToElementText(l),e(n.body).unbind("paste"),r.execCommand("Paste"),e(n.body).bind("paste",e.proxy(this.onpaste,this))):(s=n.createRange(),s.selectNodeContents(l),n.selectRange(s)),i.deleteContents()},function(t,n){var i,a="",r={html:""};t.selectRange(n),i=e(t.body).children(".k-paste-container"),i.each(function(){var e=this.lastChild;e&&o.is(e,"br")&&o.remove(e),a+=this.innerHTML}),i.remove(),a=a.replace(/\ufeff/g,""),r.html=a,t.trigger("paste",r),t.clipboard.paste(r.html,{clean:!0})})},splittableParent:function(e,t){var n,i;if(e)return o.closestEditableOfType(t,["p","ul","ol"])||t.parentNode;if(n=t.parentNode,i=t.ownerDocument.body,o.isInline(n))for(;n.parentNode!=i&&!o.isBlock(n.parentNode);)n=n.parentNode;return n},paste:function(t,n){var a,r,s,l,d,h,p,f,g,m,v,b=this.editor;for(n=u({clean:!1,split:!0},n),a=0,r=this.cleaners.length;r>a;a++)this.cleaners[a].applicable(t)&&(t=this.cleaners[a].clean(t));if(n.clean&&(t=t.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3"),t=t.replace(/<(a|span)[^>]*><\/\1>/gi,"")),t=t.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>"),s=this.isBlock(t),b.focus(),l=b.getRange(),l.deleteContents(),l.startContainer==b.document&&l.selectNodeContents(b.body),d=new c,h=d.addCaret(l),p=this.splittableParent(s,h),f=!1,g=p!=b.body&&!o.is(p,"td"),n.split&&g&&(s||o.isInline(p))&&(l.selectNode(h),i.RangeUtils.split(l,p,!0),f=!0),m=this.htmlToFragment(t),m.firstChild&&"k-paste-container"===m.firstChild.className){for(v=[],a=0,r=m.childNodes.length;r>a;a++)v.push(m.childNodes[a].innerHTML);m=this.htmlToFragment(v.join("<br />"))}if(e(m.childNodes).filter("table").addClass("k-table").end().find("table").addClass("k-table"),l.insertNode(m),p=this.splittableParent(s,h),f){for(;h.parentNode!=p;)o.unwrap(h.parentNode);o.unwrap(h.parentNode)}o.normalize(l.commonAncestorContainer),h.style.display="inline",o.restoreScrollTop(b.document),o.scrollTo(h),d.removeCaret(l),b.selectRange(l)}}),k=n.extend({clean:function(e){var t,n,i=this,a=i.replacements;for(t=0,n=a.length;n>t;t+=2)e=e.replace(a[t],a[t+1]);return e}}),w=k.extend({init:function(){this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(e){return/<script[^>]*>/i.test(e)}}),x=k.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/<o:p>&nbsp;<\/o:p>/gi,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/<\/o>/g,"",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(e,t){return t?e:" "}]},applicable:function(e){return/class="?Mso|style="[^"]*mso-/i.test(e)||/urn:schemas-microsoft-com:office/.test(e)},stripEmptyAnchors:function(e){return e.replace(/<a([^>]*)>\s*<\/a>/gi,function(e,t){return!t||t.indexOf("href")<0?"":e})},listType:function(e){var t;return/^(<span [^>]*texhtml[^>]*>)?<span [^>]*(Symbol|Wingdings)[^>]*>/i.test(e)&&(t=!0),e=e.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"\xa0"),!t&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(e)||t&&/^.\u00a0+/.test(e)?"ul":/^\s*\w+[\.\)]\u00a0{2,}/.test(e)?"ol":void 0
},lists:function(t){var n,i,a,r,s,l,d,c,u,h=e(o.blockElements.join(","),t),p=-1,f={ul:{},ol:{}},g=t;for(a=0;h.length>a;a++)if(r=h[a],s=this.listType(r.innerHTML),i=o.name(r),"td"!=i)if(s&&"p"==i){if(l=parseFloat(r.style.marginLeft||0),d=f[s][l],(l>p||!d)&&(d=o.create(document,s),g==t?o.insertBefore(d,r):g.appendChild(d),f[s][l]=d),n!=s)for(c in f)for(u in f[c])e.contains(d,f[c][u])&&delete f[c][u];o.remove(r.firstChild),g=o.create(document,"li",{innerHTML:r.innerHTML}),d.appendChild(g),o.remove(r),p=l,n=s}else r.innerHTML?(f={ul:{},ol:{}},g=t,p=-1):o.remove(r)},removeAttributes:function(e){for(var t=e.attributes,n=t.length;n--;)"colspan"!=o.name(t[n])&&e.removeAttributeNode(t[n])},createColGroup:function(n){var i=n.cells,a=e(n).closest("table"),r=a.children("colgroup");2>i.length||(r.length&&(i=r.children(),r[0].parentNode.removeChild(r[0])),r=e(e.map(i,function(e){var n=e.width;return n&&0!==parseInt(n,10)?t.format('<col style="width:{0}px;"/>',n):"<col />"}).join("")),r.is("colgroup")||(r=e("<colgroup/>").append(r)),r.prependTo(a))},convertHeaders:function(t){var n,i=t.cells,a=e.map(i,function(t){var n=e(t).children("p").children("strong")[0];return n&&"strong"==o.name(n)?n:void 0});if(a.length==i.length){for(n=0;a.length>n;n++)o.unwrap(a[n]);for(e(t).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(t),n=0;i.length>n;n++)o.changeTag(i[n],"th")}},removeParagraphs:function(t){var n,i,a,r,s;for(n=0;t.length>n;n++)for(this.removeAttributes(t[n]),r=e(t[n]),s=r.children("p"),i=0,a=s.length;a>i;i++)a-1>i&&o.insertAfter(o.create(document,"br"),s[i]),o.unwrap(s[i])},removeDefaultColors:function(e){for(var t=0;e.length>t;t++)/^\s*color:\s*[^;]*;?$/i.test(e[t].style.cssText)&&o.unwrap(e[t])},tables:function(t){var n,i,a,r,o,s=e(t).find("table"),l=this;for(r=0;s.length>r;r++){for(n=s[r].rows,a=i=n[0],o=1;n.length>o;o++)n[o].cells.length>a.cells.length&&(a=n[o]);l.createColGroup(a),l.convertHeaders(i),l.removeAttributes(s[r]),l.removeParagraphs(s.eq(r).find("td,th")),l.removeDefaultColors(s.eq(r).find("span"))}},clean:function(e){var t,n=this;return e=k.fn.clean.call(n,e),e=n.stripEmptyAnchors(e),t=o.create(document,"div",{innerHTML:e}),n.lists(t),n.tables(t),e=t.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/gi,"$1")}}),C=k.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(e){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(e)}});u(i,{Command:h,GenericCommand:p,InsertHtmlCommand:f,InsertHtmlTool:g,UndoRedoStack:m,TypingHandler:v,SystemHandler:b,Keyboard:_,Clipboard:y,Cleaner:k,MSWordFormatCleaner:x,WebkitFormatCleaner:C}),r("insertHtml",new g({template:new l({template:a.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=t.ui.editor,a=t.ui.Editor.fn.options.formats,r=i.EditorUtils,o=i.Tool,s=i.ToolTemplate,l=i.FormatTool,d=i.Dom,c=i.RangeUtils,u=e.extend,h=i.EditorUtils.registerTool,p=i.EditorUtils.registerFormat,f="k-marker",g=n.extend({init:function(e){this.format=e},numberOfSiblings:function(e){var t,n=0,i=0,a=0,r=e.parentNode;for(t=r.firstChild;t;t=t.nextSibling)t!=e&&(t.className==f?a++:3==t.nodeType?n++:i++);return a>1&&r.firstChild.className==f&&r.lastChild.className==f?0:i+n},findSuitable:function(e,t){return!t&&this.numberOfSiblings(e)>0?null:d.parentOfType(e,this.format[0].tags)},findFormat:function(e){var t,n,i,a,r,o=this.format,s=d.attrEquals;for(t=0,n=o.length;n>t;t++){if(i=e,a=o[t].tags,r=o[t].attr,i&&d.ofType(i,a)&&s(i,r))return i;for(;i;)if(i=d.parentOfType(i,a),i&&s(i,r))return i}return null},isFormatted:function(e){var t,n;for(t=0,n=e.length;n>t;t++)if(this.findFormat(e[t]))return!0;return!1}}),m=n.extend({init:function(e,t){var n=this;n.finder=new g(e),n.attributes=u({},e[0].attr,t),n.tag=e[0].tags[0]},wrap:function(e){return d.wrap(e,d.create(e.ownerDocument,this.tag,this.attributes))},activate:function(e,t){var n=this;n.finder.isFormatted(t)?(n.split(e),n.remove(t)):n.apply(t)},toggle:function(e){var t=c.textNodes(e);t.length>0&&this.activate(e,t)},apply:function(e){var t,n,i,a,r=this,o=[];for(t=0,n=e.length;n>t;t++)i=e[t],a=r.finder.findSuitable(i),a?d.attr(a,r.attributes):a=r.wrap(i),o.push(a);r.consolidate(o)},remove:function(e){var t,n,i,a=this;for(t=0,n=e.length;n>t;t++)i=a.finder.findFormat(e[t]),i&&(a.attributes&&a.attributes.style?(d.unstyle(i,a.attributes.style),i.style.cssText||i.attributes["class"]||d.unwrap(i)):d.unwrap(i))},split:function(e){var t,n,i=c.textNodes(e),a=i.length;if(a>0)for(t=0;a>t;t++)n=this.finder.findFormat(i[t]),n&&c.split(e,n,!0)},consolidate:function(e){for(var t,n;e.length>1;)if(t=e.pop(),n=e[e.length-1],t.previousSibling&&t.previousSibling.className==f&&n.appendChild(t.previousSibling),t.tagName==n.tagName&&t.previousSibling==n&&t.style.cssText==n.style.cssText){for(;t.firstChild;)n.appendChild(t.firstChild);d.remove(t)}}}),v=g.extend({init:function(e,t){var n=this;n.format=e,n.greedyProperty=t,g.fn.init.call(n,e)},getInlineCssValue:function(t){var n,i,a,r,o,s,l,c,u,h,p,f,g=t.attributes,m=e.trim;if(g)for(n=0,i=g.length;i>n;n++)if(a=g[n],r=a.nodeName,o=a.nodeValue,a.specified&&"style"==r)for(s=m(o||t.style.cssText).split(";"),c=0,u=s.length;u>c;c++)if(l=s[c],l.length){if(h=l.split(":"),p=m(h[0].toLowerCase()),f=m(h[1]),p!=this.greedyProperty)continue;return p.indexOf("color")>=0?d.toHex(f):f}},getFormatInner:function(t){var n,i,a,r=e(d.isDataNode(t)?t.parentNode:t),o=r.parentsUntil("[contentEditable]").addBack();for(n=0,i=o.length;i>n;n++)if(a="className"==this.greedyProperty?o[n].className:this.getInlineCssValue(o[n]))return a;return"inherit"},getFormat:function(e){var t,n,i=this.getFormatInner(e[0]);for(t=1,n=e.length;n>t;t++)if(i!=this.getFormatInner(e[t]))return"";return i},isFormatted:function(e){return""!==this.getFormat(e)}}),b=m.extend({init:function(e,n,i){m.fn.init.call(this,e,n),this.values=n,this.finder=new v(e,i),i&&(this.greedyProperty=t.toCamelCase(i))},activate:function(e,t){var n=this.greedyProperty,i="apply";this.split(e),n&&"inherit"==this.values.style[n]&&(i="remove"),this[i](t)}}),_=l.extend({init:function(e){l.fn.init.call(this,u(e,{finder:new g(e.format),formatter:function(){return new m(e.format)}}))}}),y=o.extend({update:function(e,t){var n=e.data(this.type);n.close(),n.value(this.finder.getFormat(t))}}),k=y.extend({init:function(e){var n=this;o.fn.init.call(n,e),n.type=t.support.browser.msie||t.support.touch?"kendoDropDownList":"kendoComboBox",n.format=[{tags:["span"]}],n.finder=new v(n.format,e.cssAttr)},command:function(e){var t=this.options,n=this.format,a={};return new i.FormatCommand(u(e,{formatter:function(){return a[t.domAttr]=e.value,new b(n,{style:a},t.cssAttr)}}))},initialize:function(e,t){var n,i=t.editor,a=this.options,r=a.name,s=[];a.defaultValue&&(s=[{text:i.options.messages[a.defaultValue[0].text],value:a.defaultValue[0].value}]),n=s.concat(a.items?a.items:i.options[r]),e[this.type]({dataTextField:"text",dataValueField:"value",dataSource:n,change:function(){o.exec(i,r,this.value())},highlightFirst:!1}),e.closest(".k-widget").removeClass("k-"+r).find("*").addBack().attr("unselectable","on"),e.data(this.type).value("inherit")}}),w=o.extend({init:function(e){o.fn.init.call(this,e),this.format=[{tags:["span"]}],this.finder=new v(this.format,e.cssAttr)},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(e){var t=this.options,n=this.format,a={};return new i.FormatCommand(u(e,{formatter:function(){return a[t.domAttr]=e.value,new b(n,{style:a},t.cssAttr)}}))},initialize:function(n,i){var a=i.editor,r=this.name,s=u({},w.fn.options,this.options),l=s.palette;n=this._widget=new t.ui.ColorPicker(n,{value:e.isArray(l)?l[0]:"#000",toolIcon:"k-"+s.name,palette:l,change:function(){var e=n.value();e&&o.exec(a,r,e),a.focus()},activate:function(e){e.preventDefault(),n.trigger("change")}}),n.wrapper.attr({title:i.title,unselectable:"on"}).find("*").attr("unselectable","on")}});u(i,{InlineFormatFinder:g,InlineFormatter:m,DelayedExecutionTool:y,GreedyInlineFormatFinder:v,GreedyInlineFormatter:b,InlineFormatTool:_,FontTool:k,ColorTool:w}),p("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),h("bold",new _({key:"B",ctrl:!0,format:a.bold,template:new s({template:r.buttonTemplate,title:"Bold"})})),p("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),h("italic",new _({key:"I",ctrl:!0,format:a.italic,template:new s({template:r.buttonTemplate,title:"Italic"})})),p("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),h("underline",new _({key:"U",ctrl:!0,format:a.underline,template:new s({template:r.buttonTemplate,title:"Underline"})})),p("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),h("strikethrough",new _({format:a.strikethrough,template:new s({template:r.buttonTemplate,title:"Strikethrough"})})),p("superscript",[{tags:["sup"]}]),h("superscript",new _({format:a.superscript,template:new s({template:r.buttonTemplate,title:"Superscript"})})),p("subscript",[{tags:["sub"]}]),h("subscript",new _({format:a.subscript,template:new s({template:r.buttonTemplate,title:"Subscript"})})),h("foreColor",new w({cssAttr:"color",domAttr:"color",name:"foreColor",template:new s({template:r.colorPickerTemplate,title:"Color"})})),h("backColor",new w({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new s({template:r.colorPickerTemplate,title:"Background Color"})})),h("fontName",new k({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new s({template:r.comboBoxTemplate,title:"Font Name"})})),h("fontSize",new k({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new s({template:r.comboBoxTemplate,title:"Font Size"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=e.extend,a=t.ui.editor,r=t.ui.Editor.fn.options.formats,o=a.Dom,s=a.Command,l=a.ToolTemplate,d=a.FormatTool,c=a.EditorUtils,u=c.registerTool,h=c.registerFormat,p=a.RangeUtils,f=n.extend({init:function(e){this.format=e},contains:function(e,t){var n,i,a;for(n=0,i=t.length;i>n;n++)if(a=t[n],!a||!o.isAncestorOrSelf(e,a))return!1;return!0},findSuitable:function(t){var n,i,a,r,s=this.format,l=[];for(n=0,i=t.length;i>n;n++){for(r=s.length-1;r>=0&&!(a=o.ofType(t[n],s[r].tags)?t[n]:o.parentOfType(t[n],s[r].tags));r--);if(!a||"true"===a.contentEditable)return[];e.inArray(a,l)<0&&l.push(a)}for(n=0,i=l.length;i>n;n++)if(this.contains(l[n],l))return[l[n]];return l},findFormat:function(e){var t,n,i,a,r,s=this.format;for(t=0,n=s.length;n>t;t++)for(i=e,a=s[t].tags,r=s[t].attr;i;){if(o.ofType(i,a)&&o.attrEquals(i,r))return i;i=i.parentNode}return null},getFormat:function(e){var t,n,i=this,a=function(e){return i.findFormat(o.isDataNode(e)?e.parentNode:e)},r=a(e[0]);if(!r)return"";for(t=1,n=e.length;n>t;t++)if(r!=a(e[t]))return"";return r.nodeName.toLowerCase()},isFormatted:function(e){for(var t=0,n=e.length;n>t;t++)if(!this.findFormat(e[t]))return!1;return!0}}),g=n.extend({init:function(e,t){this.format=e,this.values=t,this.finder=new f(e)},wrap:function(e,t,n){var i,a,r,s,l,d=1==n.length?o.blockParentOrBody(n[0]):o.commonAncestor.apply(null,n);for(o.isInline(d)&&(d=o.blockParentOrBody(d)),i=o.significantChildNodes(d),a=o.findNodeIndex(i[0]),r=o.create(d.ownerDocument,e,t),s=0;i.length>s;s++)l=i[s],o.isBlock(l)?(o.attr(l,t),r.childNodes.length&&(o.insertBefore(r,l),r=r.cloneNode(!1)),a=o.findNodeIndex(l)+1):r.appendChild(l);r.firstChild&&o.insertAt(d,r,a)},apply:function(t){function n(e){return i({},e&&e.attr,u)}var a,r,s,l,d,u=this.values,h=o.filter("img",t),p=c.formatByName("img",this.format),f=n(p);if(e.each(h,function(){o.attr(this,f)}),h.length!=t.length)if(r=o.filter("img",t,!0),s=this.finder.findSuitable(r),s.length)for(l=0,d=s.length;d>l;l++)a=c.formatByName(o.name(s[l]),this.format),o.attr(s[l],n(a));else a=this.format[0],this.wrap(a.tags[0],n(a),r)},remove:function(e){var t,n,i,a,r;for(t=0,n=e.length;n>t;t++)i=this.finder.findFormat(e[t]),i&&(r=o.name(i),"div"!=r||i.getAttribute("class")?(a=c.formatByName(r,this.format),a.attr.style&&o.unstyle(i,a.attr.style),a.attr.className&&o.removeClass(i,a.attr.className)):o.unwrap(i))},toggle:function(e){var t=this,n=p.nodes(e);t.finder.isFormatted(n)?t.remove(n):t.apply(n)}}),m=n.extend({init:function(e,t){var n=this;n.format=e,n.values=t,n.finder=new f(e)},apply:function(e){var t,n,i,r,s,l,d,c=this.format,u=o.blockParents(e),h=c[0].tags[0];if(u.length)for(t=0,n=u.length;n>t;t++)d=o.name(u[t]),"li"==d?(i=u[t].parentNode,r=new a.ListFormatter(i.nodeName.toLowerCase(),h),s=this.editor.createRange(),s.selectNode(u[t]),r.toggle(s)):h&&("td"==d||u[t].attributes.contentEditable)?new g(c,this.values).apply(u[t].childNodes):(l=o.changeTag(u[t],h),o.attr(l,c[0].attr));else new g(c,this.values).apply(e)},toggle:function(e){var t=p.textNodes(e);t.length||(e.selectNodeContents(e.commonAncestorContainer),t=p.textNodes(e),t.length||(t=o.significantChildNodes(e.commonAncestorContainer))),this.apply(t)}}),v=s.extend({init:function(e){e.formatter=e.formatter(),s.fn.init.call(this,e)}}),b=d.extend({init:function(e){d.fn.init.call(this,i(e,{finder:new f(e.format),formatter:function(){return new g(e.format)}}))}});i(a,{BlockFormatFinder:f,BlockFormatter:g,GreedyBlockFormatter:m,FormatCommand:v,BlockFormatTool:b}),h("justifyLeft",[{tags:o.blockElements,attr:{style:{textAlign:"left",listStylePosition:""}}},{tags:["img"],attr:{style:{"float":"left",display:"",marginLeft:"",marginRight:""}}}]),u("justifyLeft",new b({format:r.justifyLeft,template:new l({template:c.buttonTemplate,title:"Justify Left"})})),h("justifyCenter",[{tags:o.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:["ul","ol","li"],attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]),u("justifyCenter",new b({format:r.justifyCenter,template:new l({template:c.buttonTemplate,title:"Justify Center"})})),h("justifyRight",[{tags:o.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right",display:"",marginLeft:"",marginRight:""}}},{tags:["ul","ol","li"],attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]),u("justifyRight",new b({format:r.justifyRight,template:new l({template:c.buttonTemplate,title:"Justify Right"})})),h("justifyFull",[{tags:o.blockElements,attr:{style:{textAlign:"justify",listStylePosition:""}}}]),u("justifyFull",new b({format:r.justifyFull,template:new l({template:c.buttonTemplate,title:"Justify Full"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,i=t.ui.editor,a=i.Dom,r=i.Command,o=i.Tool,s=i.BlockFormatter,l=a.normalize,d=i.RangeUtils,c=i.EditorUtils.registerTool,u=r.extend({init:function(e){this.options=e,r.fn.init.call(this,e)},_insertMarker:function(e,t){var n,i=a.create(e,"a");return i.className="k-marker",t.insertNode(i),i.parentNode||(n=t.commonAncestorContainer,n.innerHTML="",n.appendChild(i)),l(i.parentNode),i},_moveFocus:function(e,t){if(a.is(t,"img"))e.setStartBefore(t);else{e.selectNodeContents(t);var n=d.textNodes(e)[0];if(n)e.selectNodeContents(n);else{for(;t.childNodes.length&&!a.is(t.firstChild,"br");)t=t.firstChild;e.selectNodeContents(t)}}},shouldTrim:function(e){var t="p,h1,h2,h3,h4,h5,h6".split(","),n=a.parentOfType(e.startContainer,t),i=a.parentOfType(e.endContainer,t);return n&&!i||!n&&i},_blankAfter:function(e){for(;e&&(a.isMarker(e)||""===a.stripBom(e.nodeValue));)e=e.nextSibling;return!e},exec:function(){var e,t,n,r,o,c,u,h,p=this.getRange(),f=d.documentFromRange(p),g=i.emptyElementContent,m=this.shouldTrim(p);p.deleteContents(),o=this._insertMarker(f,p),c=a.closestEditableOfType(o,["li"]),u=a.closestEditableOfType(o,"h1,h2,h3,h4,h5,h6".split(",")),c?a.emptyNode(c)&&(r=a.create(f,"p"),c.nextSibling&&(h=p.cloneRange(),h.selectNode(c),d.split(h,c.parentNode)),a.insertAfter(r,c.parentNode),a.remove(1==c.parentNode.childNodes.length?c.parentNode:c),r.innerHTML=g,n=r):u&&this._blankAfter(o)&&(r=a.create(f,"p"),a.insertAfter(r,u),r.innerHTML=g,a.remove(o),n=r),n||(c||u||new s([{tags:["p"]}]).apply([o]),p.selectNode(o),e=a.parentOfType(o,[c?"li":u?a.name(u):"p"]),d.split(p,e,m),t=e.previousSibling,a.is(t,"li")&&t.firstChild&&!a.is(t.firstChild,"br")&&(t=t.firstChild),n=e.nextSibling,a.is(n,"li")&&n.firstChild&&!a.is(n.firstChild,"br")&&(n=n.firstChild),a.remove(e),this.clean(t),this.clean(n,{links:!0}),l(t)),l(n),this._moveFocus(p,n),p.collapse(!0),a.scrollTo(n),d.selectRange(p)},clean:function(e,t){var n=e;if(e.firstChild&&a.is(e.firstChild,"br")&&a.remove(e.firstChild),a.isDataNode(e)&&!e.nodeValue&&(e=e.parentNode),e){for(;e.firstChild&&1==e.firstChild.nodeType;)e=e.firstChild;if(!a.isEmpty(e)&&/^\s*$/.test(e.innerHTML)&&(e.innerHTML=i.emptyElementContent),t&&t.links)for(;e!=n;){if(a.is(e,"a")){a.unwrap(e);break}e=e.parentNode}}}}),h=r.extend({init:function(e){this.options=e,r.fn.init.call(this,e)},exec:function(){var e,n=this.getRange(),i=a.create(d.documentFromRange(n),"br");n.deleteContents(),n.insertNode(i),l(i.parentNode),t.support.browser.msie||i.nextSibling&&!a.isWhitespace(i.nextSibling)||(e=i.cloneNode(!0),e.setAttribute("_moz_dirty",""),a.insertAfter(e,i)),n.setStartAfter(i),n.collapse(!0),a.scrollTo(i.nextSibling||i),d.selectRange(n)}});n(i,{ParagraphCommand:u,NewLineCommand:h}),c("insertLineBreak",new o({key:13,shift:!0,command:h})),c("insertParagraph",new o({key:13,command:u}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=e.extend,a=t.ui.editor,r=a.Dom,o=a.RangeUtils,s=a.EditorUtils,l=a.Command,d=a.ToolTemplate,c=a.FormatTool,u=a.BlockFormatFinder,h=o.textNodes,p=a.EditorUtils.registerTool,f=u.extend({init:function(e){this.tag=e;var t=this.tags=["ul"==e?"ol":"ul",e];u.fn.init.call(this,[{tags:t}])},isFormatted:function(e){var t,n,i=[];for(n=0;e.length>n;n++)(t=this.findFormat(e[n]))&&r.name(t)==this.tag&&i.push(t);if(1>i.length)return!1;if(i.length!=e.length)return!1;for(n=0;i.length>n&&i[n].parentNode==t.parentNode;n++)if(i[n]!=t)return!1;return!0},findSuitable:function(e){var t=r.parentOfType(e[0],this.tags);return t&&r.name(t)==this.tag?t:null}}),g=n.extend({init:function(e,t){var n=this;n.finder=new f(e),n.tag=e,n.unwrapTag=t},isList:function(e){var t=r.name(e);return"ul"==t||"ol"==t||"dl"==t},wrap:function(e,t){var n,i,a=r.create(e.ownerDocument,"li");for(n=0;t.length>n;n++)if(i=t[n],r.is(i,"li"))e.appendChild(i);else if(this.isList(i))for(;i.firstChild;)e.appendChild(i.firstChild);else if(r.is(i,"td")){for(;i.firstChild;)a.appendChild(i.firstChild);e.appendChild(a),i.appendChild(e),e=e.cloneNode(!1),a=a.cloneNode(!1)}else a.appendChild(i),r.isBlock(i)&&(e.appendChild(a),r.unwrap(i),a=a.cloneNode(!1));a.firstChild&&e.appendChild(a)},containsAny:function(e,t){for(var n=0;t.length>n;n++)if(r.isAncestorOrSelf(e,t[n]))return!0;return!1},suitable:function(e,t){if("k-marker"==e.className){var n=e.nextSibling;if(n&&r.isBlock(n))return!1;if(n=e.previousSibling,n&&r.isBlock(n))return!1}return this.containsAny(e,t)||r.isInline(e)||3==e.nodeType},split:function(t){var n,i,a,s,l,d,c=h(t);if(c.length)for(n=r.parentOfType(c[0],["li"]),i=r.parentOfType(c[c.length-1],["li"]),t.setStartBefore(n),t.setEndAfter(i),a=0,s=c.length;s>a;a++)l=this.finder.findFormat(c[a]),l&&(d=e(l).parents("ul,ol"),d[0]?o.split(t,d.last()[0],!0):o.split(t,l,!0))},merge:function(e,t){for(var n,i=t.previousSibling;i&&("k-marker"==i.className||3==i.nodeType&&r.isWhitespace(i));)i=i.previousSibling;if(i&&r.name(i)==e){for(;t.firstChild;)i.appendChild(t.firstChild);r.remove(t),t=i}for(n=t.nextSibling;n&&("k-marker"==n.className||3==n.nodeType&&r.isWhitespace(n));)n=n.nextSibling;if(n&&r.name(n)==e){for(;t.lastChild;)n.insertBefore(t.lastChild,n.firstChild);r.remove(t)}},breakable:function(e){return e!=e.ownerDocument.body&&!/table|tbody|tr|td/.test(r.name(e))&&!e.attributes.contentEditable},applyOnSection:function(t,n){function i(){u.push(this)}var a,o,s,l,d=this.tag,c=r.closestSplittableParent(n),u=[],h=this.finder.findSuitable(n);for(h||(h=new f("ul"==d?"ol":"ul").findSuitable(n)),/table|tbody/.test(r.name(c))?a=e.map(n,function(e){return r.parentOfType(e,["td"])}):(a=r.significantChildNodes(c),e.grep(a,r.isBlock).length&&(a=e.grep(a,e.proxy(function(e){return this.containsAny(e,n)},this))),a.length||(a=n)),o=0;a.length>o;o++)s=a[o],l=(!h||!r.isAncestorOrSelf(h,s))&&this.suitable(s,n),l&&(h&&this.isList(s)?(e.each(s.childNodes,i),r.remove(s)):u.push(s));u.length==a.length&&this.breakable(c)&&(u=[c]),h||(h=r.create(c.ownerDocument,d),r.insertBefore(h,u[0])),this.wrap(h,u),r.is(h,d)||r.changeTag(h,d),this.merge(d,h)},apply:function(e){var t,n,i,a=0,o=[];do i=r.closestEditable(e[a],["td","body"]),t&&i==t?n.push(e[a]):(t&&o.push({section:t,nodes:n}),n=[e[a]],t=i),a++;while(e.length>a);for(o.push({section:t,nodes:n}),a=0;o.length>a;a++)this.applyOnSection(o[a].section,o[a].nodes)},unwrap:function(t){var n,i,a,o,s=t.ownerDocument.createDocumentFragment(),l=this.unwrapTag;for(i=t.firstChild;i;i=i.nextSibling){for(a=r.create(t.ownerDocument,l||"p");i.firstChild;)o=i.firstChild,r.isBlock(o)?(a.firstChild&&(s.appendChild(a),a=r.create(t.ownerDocument,l||"p")),s.appendChild(o)):a.appendChild(o);a.firstChild&&s.appendChild(a)}n=e(t).parents("ul,ol"),n[0]?(r.insertAfter(s,n.last()[0]),n.last().remove()):r.insertAfter(s,t),r.remove(t)},remove:function(e){var t,n,i;for(n=0,i=e.length;i>n;n++)t=this.finder.findFormat(e[n]),t&&this.unwrap(t)},toggle:function(e){var t,n=this,i=h(e),a=e.commonAncestorContainer;i.length||(e.selectNodeContents(a),i=h(e),i.length||(t=a.ownerDocument.createTextNode(""),e.startContainer.appendChild(t),i=[t],e.selectNode(t.parentNode))),n.finder.isFormatted(i)?(n.split(e),n.remove(i)):n.apply(i)}}),m=l.extend({init:function(e){e.formatter=new g(e.tag),l.fn.init.call(this,e)}}),v=c.extend({init:function(e){this.options=e,c.fn.init.call(this,i(e,{finder:new f(e.tag)}))},command:function(e){return new m(i(e,{tag:this.options.tag}))}});i(a,{ListFormatFinder:f,ListFormatter:g,ListCommand:m,ListTool:v}),p("insertUnorderedList",new v({tag:"ul",template:new d({template:s.buttonTemplate,title:"Insert unordered list"})})),p("insertOrderedList",new v({tag:"ol",template:new d({template:s.buttonTemplate,title:"Insert ordered list"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=e.extend,a=e.proxy,r=t.ui.editor,o=r.Dom,s=r.RangeUtils,l=r.EditorUtils,d=r.Command,c=r.Tool,u=r.ToolTemplate,h=r.InlineFormatter,p=r.InlineFormatFinder,f=s.textNodes,g=r.EditorUtils.registerTool,m=n.extend({findSuitable:function(e){return o.parentOfType(e,["a"])}}),v=n.extend({init:function(){this.finder=new m},apply:function(e,t){var n,i,a,r,l=f(e);t.innerHTML?(n=s.getMarkers(e),i=s.documentFromRange(e),e.deleteContents(),r=o.create(i,"a",t),e.insertNode(r),"a"==o.name(r.parentNode)&&o.insertAfter(r,r.parentNode),n.length>1&&(o.insertAfter(n[n.length-1],r),o.insertAfter(n[1],r),o[l.length>0?"insertBefore":"insertAfter"](n[0],r))):(a=new h([{tags:["a"]}],t),a.finder=this.finder,a.apply(l))}}),b=d.extend({init:function(e){e.formatter={toggle:function(e){new h([{tags:["a"]}]).remove(f(e))}},this.options=e,d.fn.init.call(this,e)}}),_=d.extend({init:function(e){var t=this;t.options=e,d.fn.init.call(t,e),t.formatter=new v,e.url?this.exec=function(){this.formatter.apply(e.range,{href:e.url,innerHTML:e.text||e.url,target:e.target})}:(t.attributes=null,t.async=!0)},_dialogTemplate:function(){return t.template("<div class=\"k-editor-dialog k-popup-edit-form k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'></div><div class='k-edit-label k-editor-link-text-row'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field k-editor-link-text-row'><input type='text' class='k-input k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button\">#: messages.dialogCancel #</button></div></div>")({messages:this.editor.options.messages})},exec:function(){var t,n,i,r,s=this.getRange().collapsed,l=this.editor.options.messages;this._initialText="",this._range=this.lockRange(!0),t=f(this._range),n=t.length?this.formatter.finder.findSuitable(t[0]):null,i=t.length&&"img"==o.name(t[0]),r=this.createDialog(this._dialogTemplate(),{title:l.createLink,close:a(this._close,this),visible:!1}),r.find(".k-dialog-insert").click(a(this._apply,this)).end().find(".k-dialog-close").click(a(this._close,this)).end().find(".k-edit-field input").keydown(a(this._keydown,this)).end().find("#k-editor-link-url").val(this.linkUrl(n)).end().find("#k-editor-link-text").val(this.linkText(t)).end().find("#k-editor-link-title").val(n?n.title:"").end().find("#k-editor-link-target").attr("checked",n?"_blank"==n.target:!1).end().find(".k-editor-link-text-row").toggle(!i),t.length>0&&!s&&(this._initialText=e("#k-editor-link-text",r).val()),this._dialog=r.data("kendoWindow").center().open(),e("#k-editor-link-url",r).focus().select()},_keydown:function(e){var n=t.keys;e.keyCode==n.ENTER?this._apply(e):e.keyCode==n.ESC&&this._close(e)},_apply:function(t){var n,i,a,r=this._dialog.element,s=e("#k-editor-link-url",r).val(),l=e("#k-editor-link-text",r);s&&"http://"!=s&&(s.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(s)&&(s="mailto:"+s),this.attributes={href:s},n=e("#k-editor-link-title",r).val(),n&&(this.attributes.title=n),l.is(":visible")&&(i=l.val(),i||this._initialText?i&&i!==this._initialText&&(this.attributes.innerHTML=o.stripBom(i)):this.attributes.innerHTML=s),a=e("#k-editor-link-target",r).is(":checked"),this.attributes.target=a?"_blank":null,this.formatter.apply(this._range,this.attributes)),this._close(t),this.change&&this.change()},_close:function(e){e.preventDefault(),this._dialog.destroy(),o.windowFromDocument(s.documentFromRange(this._range)).focus(),this.releaseRange(this._range)},linkUrl:function(e){return e?e.getAttribute("href",2):"http://"},linkText:function(e){var t="";return 1==e.length?t=e[0].nodeValue:e.length&&(t=e[0].nodeValue+e[1].nodeValue),o.stripBom(t||"")},redo:function(){var e=this.lockRange(!0);this.formatter.apply(e,this.attributes),this.releaseRange(e)}}),y=c.extend({init:function(t){this.options=t,this.finder=new p([{tags:["a"]}]),c.fn.init.call(this,e.extend(t,{command:b}))},initialize:function(e,t){c.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(e,t){e.toggleClass("k-state-disabled",!this.finder.isFormatted(t)).removeClass("k-state-hover")}});i(t.ui.editor,{LinkFormatFinder:m,LinkFormatter:v,UnlinkCommand:b,LinkCommand:_,UnlinkTool:y}),g("createLink",new c({key:"K",ctrl:!0,command:_,template:new u({template:l.buttonTemplate,title:"Create Link"})})),g("unlink",new y({key:"K",ctrl:!0,shift:!0,template:new u({template:l.buttonTemplate,title:"Remove Link"})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=e.extend,a=n.ui.editor,r=a.EditorUtils,o=a.Dom,s=r.registerTool,l=a.ToolTemplate,d=a.RangeUtils,c=a.Command,u=n.keys,h="#k-editor-image-url",p="#k-editor-image-title",f="#k-editor-image-width",g="#k-editor-image-height",m=c.extend({init:function(e){var t=this;c.fn.init.call(t,e),t.async=!0,t.attributes={}},insertImage:function(e,t){var n,i=this.attributes,a=d.documentFromRange(t);if(i.src&&"http://"!=i.src){if(n=function(){setTimeout(function(){i.width||e.removeAttribute("width"),i.height||e.removeAttribute("height"),e.removeAttribute("complete")})},!e)return e=o.create(a,"img",i),e.onload=e.onerror=function(){n()},t.deleteContents(),t.insertNode(e),e.nextSibling||o.insertAfter(a.createTextNode(""),e),n(),t.setStartAfter(e),t.setEndAfter(e),d.selectRange(t),!0;o.attr(e,i),n()}return!1},_dialogTemplate:function(e){return n.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"></div><div class=\'k-edit-label\'><label for="k-editor-image-width">#: messages.imageWidth #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-width"></div><div class=\'k-edit-label\'><label for="k-editor-image-height">#: messages.imageHeight #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-height"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();e.insertImage(d.image(t),t)||e.releaseRange(t)},exec:function(){function e(e){var t=s.element,n=parseInt(t.find(f).val(),10),i=parseInt(t.find(g).val(),10);l.attributes={src:t.find(h).val().replace(/ /g,"%20"),alt:t.find(p).val()},l.attributes.width=null,l.attributes.height=null,!isNaN(n)&&n>0&&(l.attributes.width=n),!isNaN(i)&&i>0&&(l.attributes.height=i),m=l.insertImage(v,c),a(e),l.change&&l.change()}function a(e){e.preventDefault(),s.destroy(),o.windowFromDocument(d.documentFromRange(c)).focus(),m||l.releaseRange(c)}function r(t){t.keyCode==u.ENTER?e(t):t.keyCode==u.ESC&&a(t)}var s,l=this,c=l.lockRange(),m=!1,v=d.image(c),b=v&&v.getAttribute("width")||"",_=v&&v.getAttribute("height")||"",y=l.editor.options,k=y.messages,w=y.imageBrowser,x=!!(n.ui.ImageBrowser&&w&&w.transport&&w.transport.read!==t);s=this.createDialog(l._dialogTemplate(x),{title:k.insertImage,close:a,visible:!1,resizable:x}).toggleClass("k-imagebrowser-dialog",x).find(".k-dialog-insert").click(e).end().find(".k-dialog-close").click(a).end().find(".k-edit-field input").keydown(r).end().find(h).val(v?v.getAttribute("src",2):"http://").end().find(p).val(v?v.alt:"").end().find(f).val(b).end().find(g).val(_).end().data("kendoWindow"),x&&new n.ui.ImageBrowser(s.element.find(".k-imagebrowser"),i({},w,{change:function(){s.element.find(h).val(this.value())},apply:e})),s.center().open(),s.element.find(h).focus().select()}});n.ui.editor.ImageCommand=m,s("insertImage",new a.Tool({command:m,template:new l({template:r.buttonTemplate,title:"Insert Image"})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui.DropDownList,a=n.ui.editor.Dom,r=i.extend({init:function(e,t){var a=this;i.fn.init.call(a,e,t),a.value(a.options.title),n.support.mobileOS.ios&&a._initSelectOverlay(),a.bind("open",function(){if(a.options.autoSize){var e,t=a.list;t.css({whiteSpace:"nowrap",width:"auto"}),e=t.width(),e?e+=20:e=a._listWidth,t.css("width",e+n.support.scrollbar()),a._listWidth=e}})},options:{name:"SelectBox"},_initSelectOverlay:function(){var t=e(this.element),n=e("<select class='k-select-overlay' />"),i=t.closest(".k-widget"),a=this;n.on("change",function(){a.value(this.value),a.trigger("change")}),this.bind("dataBound",function(){var e,t,i=a.value(),r=this.dataSource.view(),o="";for(t=0;r.length>t;t++)e=r[t],o+="<option value='"+e.value+"'",e.value==i&&(o+=" selected"),o+=">"+e.text+"</option>";n.html(o)}),n.insertAfter(i)},value:function(e){var n=this,a=i.fn.value.call(n,e);return e===t?a:(e!==i.fn.value.call(n)&&(n.text(n.options.title),n._current&&n._current.removeClass("k-state-selected"),n.current(null),n._oldIndex=n.selectedIndex=-1),t)},decorate:function(t){var n,i,r,o,s=this,l=s.dataSource,d=l.data();for(t&&s.list.css("background-color",a.getEffectiveBackground(e(t))),n=0;d.length>n;n++)i=d[n].tag||"span",r=d[n].className,o=a.inlineStyle(t,i,{className:r}),o=o.replace(/"/g,"'"),d[n].style=o+";display:inline-block";
l.trigger("change")}});n.ui.plugin(r),n.ui.editor.SelectBox=r}(window.kendo.jQuery),function(e,t){function n(n,i){var a="rtl"==e(n).css("direction"),r=a?"Right":"Left",o="td"!=s.name(n)?"margin"+r:"padding"+r;return i===t?n.style[o]||0:(i>0?n.style[o]=i+"px":(n.style[o]="",n.style.cssText||n.removeAttribute("style")),t)}var i=window.kendo,a=i.Class,r=e.extend,o=i.ui.editor,s=o.Dom,l=o.EditorUtils,d=l.registerTool,c=o.Command,u=o.Tool,h=o.ToolTemplate,p=o.RangeUtils,f=s.blockElements,g=o.BlockFormatFinder,m=o.BlockFormatter,v=a.extend({init:function(){this.finder=new g([{tags:s.blockElements}])},apply:function(t){var i,a,r,o,l,d,c,u,h,p,f=this.finder.findSuitable(t),g=[];if(f.length){for(i=0,a=f.length;a>i;i++)s.is(f[i],"li")?e(f[i]).index()?e.inArray(f[i].parentNode,g)<0&&g.push(f[i]):g.push(f[i].parentNode):g.push(f[i]);for(;g.length;)if(r=g.shift(),s.is(r,"li"))if(o=r.parentNode,l=e(r).prev("li"),d=l.find("ul,ol").last(),c=e(r).children("ul,ol")[0],c&&l[0])d[0]?(d.append(r),d.append(e(c).children()),s.remove(c)):(l.append(c),c.insertBefore(r,c.firstChild));else for(c=l.children("ul,ol")[0],c||(c=s.create(r.ownerDocument,s.name(o)),l.append(c));r&&r.parentNode==o;)c.appendChild(r),r=g.shift();else for(u=parseInt(n(r),10)+30,n(r,u),h=0;g.length>h;h++)e.contains(r,g[h])&&g.splice(h,1)}else p=new m([{tags:["p"]}],{style:{marginLeft:30}}),p.apply(t)},remove:function(t){var i,a,r,o,s,l,d,c,u=this.finder.findSuitable(t);for(a=0,r=u.length;r>a;a++){if(d=e(u[a]),d.is("li")){if(o=d.parent(),s=o.parent(),s.is("li,ul,ol")&&!n(o[0])){if(i&&e.contains(i,s[0]))continue;l=d.nextAll("li"),l.length&&e(o[0].cloneNode(!1)).appendTo(d).append(l),s.is("li")?d.insertAfter(s):d.appendTo(s),o.children("li").length||o.remove();continue}if(i==o[0])continue;i=o[0]}else i=u[a];c=parseInt(n(i),10)-30,n(i,c)}}}),b=c.extend({init:function(e){e.formatter={toggle:function(e){(new v).apply(p.nodes(e))}},c.fn.init.call(this,e)}}),_=c.extend({init:function(e){e.formatter={toggle:function(e){(new v).remove(p.nodes(e))}},c.fn.init.call(this,e)}}),y=u.extend({init:function(e){u.fn.init.call(this,e),this.finder=new g([{tags:f}])},initialize:function(e,t){u.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(i,a){var r,o,l,d,c=this.finder.findSuitable(a);for(l=0,d=c.length;d>l;l++)if(r=n(c[l]),r||(o=e(c[l]).parents("ul,ol").length,r=s.is(c[l],"li")&&(o>1||n(c[l].parentNode))||s.ofType(c[l],["ul","ol"])&&o>0),r)return i.removeClass("k-state-disabled"),t;i.addClass("k-state-disabled").removeClass("k-state-hover")}});r(o,{IndentFormatter:v,IndentCommand:b,OutdentCommand:_,OutdentTool:y}),d("indent",new u({command:b,template:new h({template:l.buttonTemplate,title:"Indent"})})),d("outdent",new y({command:_,template:new h({template:l.buttonTemplate,title:"Outdent"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,i=t.ui.editor,a=i.EditorUtils,r=i.Command,o=i.Tool,s=i.ToolTemplate,l=r.extend({init:function(e){var t=this;t.options=e,r.fn.init.call(t,e),t.attributes=null,t.async=!0},exec:function(){function n(e){r.value(s.find(c).val()),i(e),a.change&&a.change(),r.trigger("change")}function i(e){e.preventDefault(),s.data("kendoWindow").destroy(),r.focus()}var a=this,r=a.editor,o=r.options.messages,s=e(t.template(l.template)(o)).appendTo(document.body),d=l.indent(r.value()),c=".k-editor-textarea";this.createDialog(s,{title:o.viewHtml,close:i,visible:!1}).find(c).val(d).end().find(".k-dialog-update").click(n).end().find(".k-dialog-close").click(i).end().data("kendoWindow").center().open(),s.find(c).focus()}});n(l,{template:"<div class='k-editor-dialog k-popup-edit-form k-edit-form-container k-viewhtml-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-edit-buttons k-state-default'><button class='k-dialog-update k-button'>#: dialogUpdate #</button><button class='k-dialog-close k-button'>#: dialogCancel #</button></div></div>",indent:function(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}),t.ui.editor.ViewHtmlCommand=l,i.EditorUtils.registerTool("viewHtml",new o({command:l,template:new s({template:a.buttonTemplate,title:"View HTML"})}))}(window.kendo.jQuery),function(e){function t(t,n,i){return c.extend({init:function(e){c.fn.init.call(this,e),this.finder=i},command:function(t){var i=t.value;return e.isPlainObject(i)?i[n]=i.value:(t.value={},t.value[n]=i),c.fn.command.call(this,t)},initialize:function(e,t){var i,a=window.console,r=this.options.items;for(i=0;r.length>i;i++)r[i][n]=r[i].value;a&&a.warn("The `"+this.options.name+"` tool has been deprecated in favor of the `formatting` tool. See http://docs.telerik.com/kendo-ui/getting-started/changes-and-backward-compatibility for more information"),c.fn.initialize.call(this,e,t)}})}var n=window.kendo,i=n.ui.editor,a=i.Tool,r=i.ToolTemplate,o=i.DelayedExecutionTool,s=i.Dom,l=i.EditorUtils.dropDownListTemplate,d=i.EditorUtils.registerTool,c=o.extend({init:function(e){var t=this;a.fn.init.call(t,n.deepExtend({},t.options,e)),t.type="kendoSelectBox",t.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:90},toFormattingItem:function(e){var t,n=e.value;return n?e.tag||e.className?e:(t=n.indexOf("."),0===t?e.className=n.substring(1):-1==t?e.tag=n:(e.tag=n.substring(0,t),e.className=n.substring(t+1)),e):e},command:function(t){var n=t.value;return n=this.toFormattingItem(n),new i.FormatCommand({range:t.range,formatter:function(){var t,a=(n.tag||n.context||"span").split(","),r=[{tags:a,attr:{className:n.className||""}}];return t=e.inArray(a[0],s.inlineElements)>=0?new i.GreedyInlineFormatter(r):new i.GreedyBlockFormatter(r)}})},initialize:function(e,t){var i=t.editor,r=this.options,o=r.name,s=this;e.width(r.width),e.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:r.items||i.options[o],title:i.options.messages[o],autoSize:!0,change:function(){a.exec(i,o,this.dataItem().toJSON())},dataBound:function(){var e,t=this.dataSource.data();for(e=0;t.length>e;e++)t[e]=s.toFormattingItem(t[e])},highlightFirst:!1,template:n.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')}),e.addClass("k-decorated").closest(".k-widget").removeClass("k-"+o).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(t,n){var i,a,r,o,s,l,d;for(i=0;t.length>i;i++)if(a=t[i],r=a.tag||a.context||"",o=a.className?"."+a.className:"",s=r+o,l=e(n[0]).closest(s)[0]){if(1==n.length)return a.value;for(d=1;n.length>d&&e(n[d]).closest(s)[0];d++)if(d==n.length-1)return a.value}return""},update:function(t,n){var i,a,r,l,d,c=e(t).data(this.type);if(c){for(i=c.dataSource,a=i.data(),d=s.commonAncestor.apply(null,n),r=0;a.length>r;r++)l=a[r].context,a[r].visible=!l||!!e(d).closest(l).length;i.filter([{field:"visible",operator:"eq",value:!0}]),o.fn.update.call(this,t,n),c.value(this.getFormattingValue(i.view(),n)),c.wrapper.toggleClass("k-state-disabled",!i.view().length)}}}),u=t("style","className",new i.GreedyInlineFormatFinder([{tags:["span"]}],"className")),h=t("formatBlock","tag",new i.BlockFormatFinder([{tags:s.blockElements}]));e.extend(i,{FormattingTool:c,StyleTool:u,FormatBlockTool:h}),d("formatting",new c({template:new r({template:l,title:"Format"})})),d("style",new u({template:new r({template:l,title:"Styles"})})),d("formatBlock",new h({template:new r({template:l})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.ui,i=n.editor,a=n.Widget,r=e.extend,o=e.proxy,s=t.keys,l=".kendoEditor",d="a.k-tool:not(.k-state-disabled),.k-widget.k-colorpicker,.k-selectbox,.k-dropdown,.k-combobox .k-input",c=a.extend({init:function(e,t){var n=this;t=r({},t,{name:"EditorToolbar"}),a.fn.init.call(n,e,t),t.popup&&n._initPopup()},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml"]},_initPopup:function(){this.window=e(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-button-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-move' /></button>").kendoWindow({title:!1,resizable:!1,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:!1,autoFocus:!1,actions:[],dragend:function(){this._moved=!0}}).on("mousedown",function(t){e(t.target).is(".k-icon")||t.preventDefault()}).data("kendoWindow")},items:function(){return this.element.children().find("> *, select")},focused:function(){return this.element.find(".k-state-focused").length>0},toolById:function(e){var t,n=this.tools;for(t in n)if(t.toLowerCase()==e)return n[t]},toolGroupFor:function(t){var n,i=this.groups;if(this.isCustomTool(t))return"custom";for(n in i)if(e.inArray(t,i[n])>=0)return n},bindTo:function(t){var n=this,i=n.window;n._editor&&n._editor.unbind("select",o(n._update,n)),n._editor=t,n.tools=n.expandTools(t.options.tools),n.render(),n.element.find(".k-combobox .k-input").keydown(function(t){var n=e(this).closest(".k-combobox").data("kendoComboBox"),i=t.keyCode;i==s.RIGHT||i==s.LEFT?n.close():i==s.DOWN&&(n.dropDown.isOpened()||(t.stopImmediatePropagation(),n.open()))}),n._attachEvents(),n.items().each(function(){var i,a=n._toolName(this),r=n.tools[a],o=r&&r.options,s=t.options.messages,l=o&&o.tooltip||s[a],d=e(this);r&&r.initialize&&(("fontSize"==a||"fontName"==a)&&(i=s[a+"Inherit"],d.find("input").val(i).end().find("span.k-input").text(i).end()),r.initialize(d,{title:n._appendShortcutSequence(l,r),editor:n._editor}),d.closest(".k-widget",n.element).addClass("k-editor-widget"),d.closest(".k-colorpicker",n.element).next(".k-colorpicker").addClass("k-editor-widget"))}),t.bind("select",o(n._update,n)),n._updateContext(),i&&i.wrapper.css({top:"",left:"",width:""})},show:function(){var e,t,n=this,i=n.window,a=n.options.editor;i&&(e=i.wrapper,t=a.element,e.is(":visible")&&n.window.options.visible||(e[0].style.width||e.width(t.outerWidth()-parseInt(e.css("border-left-width"),10)-parseInt(e.css("border-right-width"),10)),i._moved||(e.css("top",parseInt(t.offset().top,10)-e.outerHeight()-parseInt(n.window.element.css("padding-bottom"),10)),e.css("left",parseInt(t.offset().left,10))),i.open()))},hide:function(){this.window&&this.window.close()},focus:function(){var e="tabIndex",t=this.element,n=this._editor.element.attr(e);t.attr(e,n||0).focus().find(d).first().focus(),n||0===n||t.removeAttr(e)},_appendShortcutSequence:function(e,t){if(!t.key)return e;var n=e+" (";return t.ctrl&&(n+="Ctrl + "),t.shift&&(n+="Shift + "),t.alt&&(n+="Alt + "),n+=t.key+")"},_nativeTools:["insertLineBreak","insertParagraph","redo","undo"],tools:{},isCustomTool:function(e){return!(e in t.ui.Editor.defaultTools)},expandTools:function(n){var a,o,s,l,d=this._nativeTools,c=t.deepExtend({},t.ui.Editor.defaultTools),u={};for(o=0;n.length>o;o++)a=n[o],l=a.name,e.isPlainObject(a)?l&&c[l]?(u[l]=r({},c[l]),r(u[l].options,a)):(s=r({cssClass:"k-i-custom",type:"button",title:""},a),s.name||(s.name="custom"),s.cssClass="k-"+("custom"==s.name?"i-custom":s.name),s.template||"button"!=s.type||(s.template=i.EditorUtils.buttonTemplate,s.title=s.title||s.tooltip),u[l]={options:s}):c[a]&&(u[a]=c[a]);for(o=0;d.length>o;o++)u[d[o]]||(u[d[o]]=c[d[o]]);return u},render:function(){function n(n){var i;return n.getHtml?i=n.getHtml():(e.isFunction(n)||(n=t.template(n)),i=n(r)),e.trim(i)}function i(){h.children().length&&h.appendTo(v)}function a(){h=e("<li class='k-tool-group' role='presentation' />")}var r,s,l,d,c,u,h,p,f=this,g=f.tools,m=f._editor.element,v=f.element.empty(),b=f._editor.options.tools,_=t.support.browser;for(v.empty(),a(),p=0;b.length>p;p++)d=b[p].name||b[p],r=g[d]&&g[d].options,!r&&e.isPlainObject(d)&&(r=d),s=r&&r.template,"break"==d&&(i(),e("<li class='k-row-break' />").appendTo(f.element),a()),s&&(u=f.toolGroupFor(d),c!=u&&(i(),a(),c=u),s=n(s),l=e(s).appendTo(h),"custom"==u&&(i(),a()),r.exec&&l.hasClass("k-tool")&&l.click(o(r.exec,m[0])));i(),e(f.element).children(":has(> .k-tool)").addClass("k-button-group"),f.options.popup&&_.msie&&9>_.version&&f.window.wrapper.find("*").attr("unselectable","on"),this.updateGroups()},updateGroups:function(){e(this.element).children().each(function(){e(this).children().filter(function(){return"none"!==this.style.display}).first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},decorateFrom:function(t){this.items().filter(".k-decorated").each(function(){var n=e(this).data("kendoSelectBox");n&&n.decorate(t)})},destroy:function(){a.fn.destroy.call(this);var e,t=this.tools;for(e in t)t[e].destroy&&t[e].destroy();this.window&&this.window.destroy()},_attachEvents:function(){var t=this,n="[role=button].k-tool",i=n+":not(.k-state-disabled)",a=n+".k-state-disabled";t.element.off(l).on("mouseenter"+l,i,function(){e(this).addClass("k-state-hover")}).on("mouseleave"+l,i,function(){e(this).removeClass("k-state-hover")}).on("mousedown"+l,n,function(e){e.preventDefault()}).on("keydown"+l,d,function(n){function i(e,n){var i=t.element.find(d),a=i.index(r)+e;return n&&(a=Math.max(0,Math.min(i.length-1,a))),i[a]}var a,r=this,o=n.keyCode;o==s.RIGHT||o==s.LEFT?e(r).hasClass(".k-dropdown")||(a=i(o==s.RIGHT?1:-1,!0)):o==s.ESC?a=t._editor:o!=s.TAB||n.ctrlKey||n.altKey||(n.shiftKey?a=i(-1):(a=i(1),a||(a=t._editor))),a&&(n.preventDefault(),a.focus())}).on("click"+l,i,function(n){var i=e(this);n.preventDefault(),n.stopPropagation(),i.removeClass("k-state-hover"),i.is("[data-popup]")||t._editor.exec(t._toolName(this))}).on("click"+l,a,function(e){e.preventDefault()})},_toolName:function(t){var n,i;return t?(n=t.className,/k-tool\b/i.test(n)&&(n=t.firstChild.className),i=e.grep(n.split(" "),function(e){return!/^k-(widget|tool|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(e)}),i[0]?i[0].substring(i[0].lastIndexOf("-")+1):"custom"):void 0},_update:function(){var n=this,i=n._editor,a=i.getRange(),r=t.ui.editor.RangeUtils.textNodes(a);r.length||(r=[a.startContainer]),n.items().each(function(){var t=n.tools[n._toolName(this)];t&&t.update&&t.update(e(this),r)}),this._updateContext()},_updateContext:function(){this.element.children().children().each(function(){var t=e(this);t.css("display",t.hasClass("k-state-disabled")?"none":"")}),this.updateGroups()}});e.extend(i,{Toolbar:c})}(window.jQuery),function(e){var t=window.kendo,n=e.extend,i=e.proxy,a=t.ui.editor,r=a.Dom,o=a.EditorUtils,s=a.Command,l=".kendoEditor",d="k-state-active",c="k-state-selected",u=a.Tool,h=a.ToolTemplate,p=a.InsertHtmlCommand,f=a.BlockFormatFinder,g=a.EditorUtils.registerTool,m="<td>"+a.emptyElementContent+"</td>",v=new f([{tags:["table"]}]),b=p.extend({_tableHtml:function(e,t){return e=e||1,t=t||1,"<table class='k-table' data-last>"+Array(e+1).join("<tr>"+Array(t+1).join(m)+"</tr>")+"</table>"},postProcess:function(t,n){var i=e("table[data-last]",t.document).removeAttr("data-last");n.selectNodeContents(i.find("td")[0]),t.selectRange(n)},exec:function(){var e=this.options;e.html=this._tableHtml(e.rows,e.columns),e.postProcess=this.postProcess,p.fn.exec.call(this)}}),_=u.extend({initialize:function(t,n){u.fn.initialize.call(this,t,n);var a=e(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:t,copyAnchorStyles:!1,open:i(this._open,this),activate:i(this._activate,this),close:i(this._close,this)}).data("kendoPopup");t.click(i(this._toggle,this)).keydown(i(this._keydown,this)),this._editor=n.editor,this._popup=a},popup:function(){return this._popup},_activate:e.noop,_open:function(){this._popup.options.anchor.addClass(d)},_close:function(){this._popup.options.anchor.removeClass(d)},_keydown:function(e){var n=t.keys,i=e.keyCode;i==n.DOWN&&e.altKey?this._popup.open():i==n.ESC&&this._popup.close()},_toggle:function(t){var n=e(t.target).closest(".k-tool");n.hasClass("k-state-disabled")||this.popup().toggle()},update:function(e){this.popup().close(),e.removeClass("k-state-hover")},destroy:function(){this._popup.destroy()}}),y=_.extend({init:function(t){this.cols=8,this.rows=6,_.fn.init.call(this,e.extend(t,{command:b,popupTemplate:"<div class='k-ct-popup'>"+Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-state-disabled' />")+"<div class='k-status'>Cancel</div></div>"}))},_activate:function(){function n(t){var n=e(window);return{row:Math.floor((t.clientY+n.scrollTop()-u.top)/a)+1,col:Math.floor((t.clientX+n.scrollLeft()-u.left)/i)+1}}var i,a,r=this,o=r._popup.element,s=o.find(".k-ct-cell"),d=s.eq(0),c=s.eq(s.length-1),u=t.getOffset(d),h=t.getOffset(c),p=r.cols,f=r.rows;h.left+=c[0].offsetWidth,h.top+=c[0].offsetHeight,i=(h.left-u.left)/p,a=(h.top-u.top)/f,o.on("mousemove"+l,function(e){r._setTableSize(n(e))}).on("mouseleave"+l,function(){r._setTableSize()}).on("mouseup"+l,function(e){r._exec(n(e))})},_valid:function(e){return e&&e.row>0&&e.col>0&&this.rows>=e.row&&this.cols>=e.col},_exec:function(e){this._valid(e)&&(this._editor.exec("createTable",{rows:e.row,columns:e.col}),this._popup.close())},_setTableSize:function(n){var i=this._popup.element,a=i.find(".k-status"),r=i.find(".k-ct-cell"),o=this.cols;this._valid(n)?(a.text(t.format("Create a {0} x {1} table",n.row,n.col)),r.each(function(t){e(this).toggleClass(c,n.col>t%o&&n.row>t/o)})):(a.text("Cancel"),r.removeClass(c))},_keydown:function(e){var n,i,a,r,o,s,l,d;_.fn._keydown.call(this,e),n=t.keys,i=e.keyCode,a=this._popup.element.find(".k-ct-cell"),r=Math.max(a.filter(".k-state-selected").last().index(),0),o=Math.floor(r/this.cols),s=r%this.cols,l=!1,i!=n.DOWN||e.altKey?i==n.UP?(l=!0,o--):i==n.RIGHT?(l=!0,s++):i==n.LEFT&&(l=!0,s--):(l=!0,o++),d={row:Math.max(1,Math.min(this.rows,o+1)),col:Math.max(1,Math.min(this.cols,s+1))},i==n.ENTER?this._exec(d):this._setTableSize(d),l&&(e.preventDefault(),e.stopImmediatePropagation())},_open:function(){_.fn._open.call(this),this.popup().element.find(".k-ct-cell").removeClass(c)},_close:function(){_.fn._close.call(this),this.popup().element.off(l)},update:function(e,t){var n;_.fn.update.call(this,e),n=v.isFormatted(t),e.toggleClass("k-state-disabled",n)}}),k=s.extend({exec:function(){for(var e,t,n,i,o=this.lockRange(!0),s=o.endContainer;"td"!=r.name(s);)s=s.parentNode;for(t=s.parentNode,e=t.children.length,n=t.cloneNode(!0),i=0;t.cells.length>i;i++)n.cells[i].innerHTML=a.emptyElementContent;"before"==this.options.position?r.insertBefore(n,t):r.insertAfter(n,t),this.releaseRange(o)}}),w=s.extend({exec:function(){var e,t,n,i,o=this.lockRange(!0),s=r.closest(o.endContainer,"td"),l=r.closest(s,"table"),d=l.rows,c=this.options.position;for(e=r.findNodeIndex(s),t=0;d.length>t;t++)n=d[t].cells[e],i=n.cloneNode(),i.innerHTML=a.emptyElementContent,"before"==c?r.insertBefore(i,n):r.insertAfter(i,n);this.releaseRange(o)}}),x=s.extend({exec:function(){var e,t=this.lockRange(),n=r.closest(t.endContainer,"tr"),i=r.closest(n,"table"),a=i.rows.length;1==a?(e=r.next(i)||r.prev(i),r.remove(i)):(r.removeTextSiblings(n),e=r.next(n)||r.prev(n),e=e.cells[0],r.remove(n)),e&&(t.setStart(e,0),t.collapse(!0),this.editor.selectRange(t))}}),C=s.extend({exec:function(){var e,t,n=this.lockRange(),i=r.closest(n.endContainer,"td"),a=r.closest(i,"table"),o=a.rows,s=r.findNodeIndex(i,!0),l=o[0].cells.length;if(1==l)e=r.next(a)||r.prev(a),r.remove(a);else for(r.removeTextSiblings(i),e=r.next(i)||r.prev(i),t=0;o.length>t;t++)r.remove(o[t].cells[s]);e&&(n.setStart(e,0),n.collapse(!0),this.editor.selectRange(n))}}),T=u.extend({command:function(e){return e=n(e,this.options),"delete"==e.action?"row"==e.type?new x(e):new C(e):"row"==e.type?new k(e):new w(e)},initialize:function(e,t){u.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(e,t){var n=!v.isFormatted(t);e.toggleClass("k-state-disabled",n)}});n(t.ui.editor,{PopupTool:_,TableCommand:b,InsertTableTool:y,TableModificationTool:T,InsertRowCommand:k,InsertColumnCommand:w,DeleteRowCommand:x,DeleteColumnCommand:C}),g("createTable",new y({template:new h({template:o.buttonTemplate,popup:!0,title:"Create table"})})),g("addColumnLeft",new T({type:"column",position:"before",template:new h({template:o.buttonTemplate,title:"Add column on the left"})})),g("addColumnRight",new T({type:"column",template:new h({template:o.buttonTemplate,title:"Add column on the right"})})),g("addRowAbove",new T({type:"row",position:"before",template:new h({template:o.buttonTemplate,title:"Add row above"})})),g("addRowBelow",new T({type:"row",template:new h({template:o.buttonTemplate,title:"Add row below"})})),g("deleteRow",new T({type:"row",action:"delete",template:new h({template:o.buttonTemplate,title:"Delete row"})})),g("deleteColumn",new T({type:"column",action:"delete",template:new h({template:o.buttonTemplate,title:"Delete column"})}))}(window.kendo.jQuery),window.kendo}(),function(e,t){var n=window.kendo,i=n.caret,a=n.keys,r=n.ui,o=r.Widget,s=".kendoMaskedTextBox",l=e.proxy,d=(n.support.propertyChangeEvent?"propertychange":"input")+s,c="k-state-disabled",u="disabled",h="readonly",p="change",f=o.extend({init:function(t,a){var r,l,d=this;o.fn.init.call(d,t,a),d._rules=e.extend({},d.rules,d.options.rules),t=d.element,r=t[0],d.wrapper=t,d._tokenize(),d._reset(),d.element.addClass("k-textbox").attr("autocomplete","off").on("focus"+s,function(){d._oldValue=r.value,t.val()?d._timeoutId=setTimeout(function(){t.select()}):(r.value=d._old=d._emptyMask,i(t,0))}).on("blur"+s,function(){clearTimeout(d._timeoutId),t.val()===d._emptyMask&&(r.value=d._old=""),d._change()}),l=t.is("[disabled]"),l?d.enable(!1):d.readonly(t.is("[readonly]")),d.value(d.options.value||t.val()),n.notify(d)},options:{name:"MaskedTextBox",promptChar:"_",culture:"",rules:{},value:"",mask:""},events:[p],rules:{0:/\d/,9:/\d|\s/,"#":/\d|\s|\+|\-/,L:/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,C:/./,A:/[a-zA-Z0-9]/,a:/[a-zA-Z0-9]|\s/},setOptions:function(t){var n=this;o.fn.setOptions.call(n,t),n._rules=e.extend({},n.rules,n.options.rules),n._tokenize(),this._unbindInput(),this._bindInput(),n.value(n.element.val())},destroy:function(){var e=this;e.element.off(s),e._form&&e._form.off("reset",e._resetHandler),o.fn.destroy.call(e)},value:function(e){var i=this.element,a=this._emptyMask;return e===t?this.element.val():a?(e=this._unmask(e+""),i.val(e?a:""),this._mask(0,this._maskLength,e),n._activeElement()!==i&&i.val()===a&&i.val(""),t):(i.val(e),t)},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},_bindInput:function(){var e=this;e._maskLength&&e.element.on("keydown"+s,l(e._keydown,e)).on("keypress"+s,l(e._keypress,e)).on("paste"+s,l(e._paste,e)).on(d,l(e._propertyChange,e))},_unbindInput:function(){this.element.off("keydown"+s).off("keypress"+s).off("paste"+s).off(d)},_editable:function(e){var t=this,n=t.element,i=e.disable,a=e.readonly;t._unbindInput(),a||i?n.attr(u,i).attr(h,a).toggleClass(c,i):(n.removeAttr(u).removeAttr(h).removeClass(c),t._bindInput())},_change:function(){var e=this,t=e.value();t!==e._oldValue&&(e._oldValue=t,e.trigger(p),e.element.trigger(p))},_propertyChange:function(){var e,t,n=this,a=n.element[0],r=a.value;r===n._old||n._pasting||(t=i(a)[0],e=n._unmask(r.substring(t),t),a.value=n._old=r.substring(0,t)+n._emptyMask.substring(t),n._mask(t,t,e),i(a,t))},_paste:function(e){var t=this,n=e.target,a=i(n),r=a[0],o=a[1],s=t._unmask(n.value.substring(o),o);t._pasting=!0,setTimeout(function(){var e=n.value,a=e.substring(r,i(n)[0]);n.value=t._old=e.substring(0,r)+t._emptyMask.substring(r),t._mask(r,r,a),r=i(n)[0],t._mask(r,r,s),i(n,r),t._pasting=!1})},_reset:function(){var t=this,n=t.element,i=n.attr("form"),a=i?e("#"+i):n.closest("form");a[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(n[0].value)})},t._form=a.on("reset",t._resetHandler))},_keydown:function(e){var n,r=e.keyCode,o=this.element[0],s=i(o),l=s[0],d=s[1],c=r===a.BACKSPACE;c||r===a.DELETE?(l===d&&(c?l-=1:d+=1,n=this._find(l,c)),n!==t&&n!==l?(c&&(n+=1),i(o,n)):l>-1&&this._mask(l,d,"",c),e.preventDefault()):r===a.ENTER&&(this._change(),e.preventDefault())},_keypress:function(e){if(0!==e.which){var t=i(this.element);this._mask(t[0],t[1],String.fromCharCode(e.which)),e.preventDefault()}},_find:function(e,t){var n=this.element.val()||this._emptyMask,i=1;for(t===!0&&(i=-1);e>-1||this._maskLength>=e;){if(n.charAt(e)!==this.tokens[e])return e;e+=i}return-1},_mask:function(e,a,r,o){var s,l,d,c,u=this.element[0],h=u.value||this._emptyMask,p=this.options.promptChar,f=0;for(e=this._find(e,o),e>a&&(a=e),l=this._unmask(h.substring(a),a),r=this._unmask(r,e),s=r.length,r&&(l=l.replace(RegExp("^_{0,"+s+"}"),"")),r+=l,h=h.split(""),d=r.charAt(f);this._maskLength>e;)h[e]=d||p,d=r.charAt(++f),c===t&&f>s&&(c=e),e=this._find(e+1);u.value=this._old=h.join(""),n._activeElement()===u&&(c===t&&(c=this._maskLength),i(u,c))},_unmask:function(t,n){var i,a,r,o,s,l,d,c;if(!t)return"";for(t=(t+"").split(""),r=0,o=n||0,s=this.options.promptChar,l=t.length,d=this.tokens.length,c="";d>o&&(i=t[r],a=this.tokens[o],i===a||i===s?(c+=i===s?s:"",r+=1,o+=1):"string"!=typeof a?((a.test&&a.test(i)||e.isFunction(a)&&a(i))&&(c+=i,o+=1),r+=1):o+=1,!(r>=l)););return c},_tokenize:function(){for(var e,t,i,a,r=[],o=0,s=this.options.mask||"",l=s.split(""),d=l.length,c=0,u="",h=this.options.promptChar,p=n.getCulture(this.options.culture).numberFormat,f=this._rules;d>c;c++)if(e=l[c],t=f[e])r[o]=t,u+=h,o+=1;else for("."===e||","===e?e=p[e]:"$"===e?e=p.currency.symbol:"\\"===e&&(c+=1,e=l[c]),e=e.split(""),i=0,a=e.length;a>i;i++)r[o]=e[i],u+=e[i],o+=1;this.tokens=r,this._emptyMask=u,this._maskLength=u.length}});r.plugin(f)}(window.kendo.jQuery),function(e,t){function n(t){t=e(t),t.children(v).children(".k-icon").remove(),t.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var t=e(this),n=t.parent();t.append("<span class='k-icon "+(n.hasClass(H)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function i(t){t=e(t),t.filter(".k-first:not(:first-child)").removeClass(x),t.filter(".k-last:not(:last-child)").removeClass(g),t.filter(":first-child").addClass(x),t.filter(":last-child").addClass(g)}var a=window.kendo,r=a.ui,o=a.keys,s=e.extend,l=e.each,d=a.template,c=r.Widget,u=/^(ul|a|div)$/i,h=".kendoPanelBar",p="img",f="href",g="k-last",m="k-link",v="."+m,b="error",_=".k-item",y=".k-group",k=y+":visible",w="k-image",x="k-first",C="expand",T="select",S="k-content",D="activate",E="collapse",F="mouseenter",A="mouseleave",M="contentLoad",H="k-state-active",z="> .k-panel",I="> .k-content",R="k-state-focused",N="k-state-disabled",P="k-state-selected",O="."+P,L="k-state-highlight",B=_+":not(.k-state-disabled)",j=B+" > .k-link",W=_+".k-state-disabled > .k-link",V="> li > "+O+", .k-panel > li > "+O,q="k-state-default",$="aria-disabled",U="aria-expanded",G="aria-hidden",Q="aria-selected",Y=":visible",K=":empty",X="single",J={content:d("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:d("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:d("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:d("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:d("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:d("<span class='#= arrowClass(item) #'></span>"),sprite:d("<span class='k-sprite #= spriteCssClass #'></span>"),empty:d("")},Z={aria:function(e){var t="";return(e.items||e.content||e.contentUrl)&&(t+=U+"='"+(e.expanded?"true":"false")+"' "),e.enabled===!1&&(t+=$+"='true'"),t},wrapperCssClass:function(e,t){var n="k-item",i=t.index;return n+=t.enabled===!1?" "+N:t.expanded===!0?" "+H:" k-state-default",0===i&&(n+=" k-first"),i==e.length-1&&(n+=" k-last"),t.cssClass&&(n+=" "+t.cssClass),n},textClass:function(e,t){var n=m;return t.firstLevel&&(n+=" k-header"),n},textAttributes:function(e){return e.url?" href='"+e.url+"'":""},arrowClass:function(e){var t="k-icon";return t+=e.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand"},text:function(e){return e.encoded===!1?e.text:a.htmlEncode(e.text)},tag:function(e){return e.url||e.contentUrl?"a":"span"},groupAttributes:function(e){return e.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(e){return e.item.expanded!==!0?" style='display:none'":""},content:function(e){return e.content?e.content:e.contentUrl?"":"&nbsp;"},contentUrl:function(e){return e.contentUrl?'href="'+e.contentUrl+'"':""}},et=c.extend({init:function(t,n){var i,r=this;c.fn.init.call(r,t,n),t=r.wrapper=r.element.addClass("k-widget k-reset k-header k-panelbar"),n=r.options,t[0].id&&(r._itemId=t[0].id+"_pb_active"),r._tabindex(),r._initData(n),r._updateClasses(),r._animations(n),t.on("click"+h,j,function(t){r._click(e(t.currentTarget))&&t.preventDefault()}).on(F+h+" "+A+h,j,r._toggleHover).on("click"+h,W,!1).on("keydown"+h,e.proxy(r._keydown,r)).on("focus"+h,function(){var e=r.select();r._current(e[0]?e:r._first())}).on("blur"+h,function(){r._current(null)}).attr("role","menu"),i=t.find("li."+H+" > ."+S),i[0]&&r.expand(i.parent(),!1),a.notify(r)},events:[C,E,T,D,b,M],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},destroy:function(){c.fn.destroy.call(this),this.element.off(h),a.destroy(this.element)},_initData:function(e){var t=this;e.dataSource&&(t.element.empty(),t.append(e.dataSource,t.element))},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=s(!0,t,e.animation),"dataSource"in e&&this._initData(e),c.fn.setOptions.call(this,e)},expand:function(t,n){var i=this,a={};return n=n!==!1,t=this.element.find(t),t.each(function(r,o){o=e(o);var s=o.find(z).add(o.find(I));if(!o.hasClass(N)&&s.length>0){if(i.options.expandMode==X&&i._collapseAllExpanded(o))return i;t.find("."+L).removeClass(L),o.addClass(L),n||(a=i.options.animation,i.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),i._triggerEvent(C,o)||i._toggleItem(o,!1),n||(i.options.animation=a)}}),i},collapse:function(t,n){var i=this,a={};return n=n!==!1,t=i.element.find(t),t.each(function(t,r){r=e(r);var o=r.find(z).add(r.find(I));!r.hasClass(N)&&o.is(Y)&&(r.removeClass(L),n||(a=i.options.animation,i.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),i._triggerEvent(E,r)||i._toggleItem(r,!0),n||(i.options.animation=a))}),i},_toggleDisabled:function(e,t){e=this.element.find(e),e.toggleClass(q,t).toggleClass(N,!t).attr($,!t)},select:function(n){var i=this;return n===t?i.element.find(V).parent():(i.element.find(n).each(function(){var n=e(this),a=n.children(v);return n.hasClass(N)?i:(i._triggerEvent(T,n)||i._updateSelected(a),t)}),i)},enable:function(e,t){return this._toggleDisabled(e,t!==!1),this},disable:function(e){return this._toggleDisabled(e,!1),this},append:function(e,t){t=this.element.find(t);var a=this._insert(e,t,t.length?t.find(z):null);return l(a.items,function(){a.group.append(this),i(this)}),n(t),i(a.group.find(".k-first, .k-last")),a.group.height("auto"),this},insertBefore:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return l(n.items,function(){t.before(this),i(this)}),i(t),n.group.height("auto"),this},insertAfter:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return l(n.items,function(){t.after(this),i(this)}),i(t),n.group.height("auto"),this},remove:function(e){e=this.element.find(e);var t=this,a=e.parentsUntil(t.element,_),r=e.parent("ul");return e.remove(),!r||r.hasClass("k-panelbar")||r.children(_).length||r.remove(),a.length&&(a=a.eq(0),n(a),i(a)),t},reload:function(t){var n=this;t=n.element.find(t),t.each(function(){var t=e(this);n._ajaxRequest(t,t.children("."+S),!t.is(Y))
})},_first:function(){return this.element.children(B).first()},_last:function(){var e=this.element.children(B).last(),t=e.children(k);return t[0]?t.children(B).last():e},_current:function(e){var n=this,i=n._focused,a=n._itemId;return e===t?i:(n.element.removeAttr("aria-activedescendant"),i&&(i[0].id===a&&i.removeAttr("id"),i.children(v).removeClass(R)),e&&(a=e[0].id||a,e.attr("id",a).children(v).addClass(R),n.element.attr("aria-activedescendant",a)),n._focused=e,t)},_keydown:function(e){var t=this,n=e.keyCode,i=t._current();e.target==e.currentTarget&&(n==o.DOWN||n==o.RIGHT?(t._current(t._nextItem(i)),e.preventDefault()):n==o.UP||n==o.LEFT?(t._current(t._prevItem(i)),e.preventDefault()):n==o.ENTER||n==o.SPACEBAR?(t._click(i.children(v)),e.preventDefault()):n==o.HOME?(t._current(t._first()),e.preventDefault()):n==o.END&&(t._current(t._last()),e.preventDefault()))},_nextItem:function(e){if(!e)return this._first();var t=e.children(k),n=e.next();return t[0]&&(n=t.children("."+x)),n[0]||(n=e.parent(k).parent(_).next()),n[0]&&n.is(":visible")||(n=this._first()),n.hasClass(N)&&(n=this._nextItem(n)),n},_prevItem:function(e){if(!e)return this._last();var t,n=e.prev();if(n[0])for(t=n;t[0];)t=t.children(k).children("."+g),t[0]&&(n=t);else n=e.parent(k).parent(_),n[0]||(n=this._last());return n.hasClass(N)&&(n=this._prevItem(n)),n},_insert:function(t,n,i){var a,r,o=this,l=e.isPlainObject(t),d=n&&n[0];return d||(i=o.element),r={firstLevel:i.hasClass("k-panelbar"),expanded:i.parent().hasClass(H),length:i.children().length},d&&!i.length&&(i=e(et.renderGroup({group:r})).appendTo(n)),l||e.isArray(t)?(a=e.map(l?[t]:t,function(t,n){return e("string"==typeof t?t:et.renderItem({group:r,item:s(t,{index:n})}))}),d&&n.attr(U,!1)):(a="string"==typeof t&&"<"!=t[0]?o.element.find(t):e(t),o._updateItemsClasses(a)),{items:a,group:i}},_toggleHover:function(t){var n=e(t.currentTarget);n.parents("li."+N).length||n.toggleClass("k-state-hover",t.type==F)},_updateClasses:function(){var t,a,r=this;t=r.element.find("li > ul").not(function(){return e(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group"),t.parent().attr(U,!1).not("."+H).children("ul").attr(G,!0).hide(),a=r.element.add(t).children(),r._updateItemsClasses(a),n(a),i(a)},_updateItemsClasses:function(e){for(var t=e.length,n=0;t>n;n++)this._updateItemClasses(e[n],n)},_updateItemClasses:function(t,n){var i,r,o=this._selected,s=this.options.contentUrls,l=s&&s[n],d=this.element[0];t=e(t).addClass("k-item").attr("role","menuitem"),a.support.browser.msie&&t.css("list-style-position","inside").css("list-style-position",""),t.children(p).addClass(w),r=t.children("a").addClass(m),r[0]&&(r.attr("href",l),r.children(p).addClass(w)),t.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default"),t.filter("li[disabled]").addClass("k-state-disabled").attr($,!0).removeAttr("disabled"),t.children("div").addClass(S).attr("role","region").attr(G,!0).hide().parent().attr(U,!1),r=t.children(O),r[0]&&(o&&o.removeAttr(Q).children(O).removeClass(P),r.addClass(P),this._selected=t.attr(Q,!0)),t.children(v)[0]||(i="<span class='"+m+"'/>",s&&s[n]&&t[0].parentNode==d&&(i='<a class="k-link k-header" href="'+s[n]+'"/>'),t.contents().filter(function(){return!(this.nodeName.match(u)||3==this.nodeType&&!e.trim(this.nodeValue))}).wrapAll(i)),t.parent(".k-panelbar")[0]&&t.children(v).addClass("k-header")},_click:function(e){var t,n,i,a,r,o,s,l=this,d=l.element;if(!e.parents("li."+N).length&&e.closest(".k-widget")[0]==d[0]){if(r=e.closest(v),o=r.closest(_),l._updateSelected(r),n=o.find(z).add(o.find(I)),i=r.attr(f),a=i&&("#"==i.charAt(i.length-1)||-1!=i.indexOf("#"+l.element[0].id+"-")),t=!(!a&&!n.length),n.data("animating"))return t;if(l._triggerEvent(T,o)&&(t=!0),t!==!1)return l.options.expandMode==X&&l._collapseAllExpanded(o)?t:(n.length&&(s=n.is(Y),l._triggerEvent(s?E:C,o)||(t=l._toggleItem(o,s))),t)}},_toggleItem:function(e,n){var i,a,r=this,o=e.find(z),s=e.find(v),l=s.attr(f);return o.length?(this._toggleGroup(o,n),i=!0):(a=e.children("."+S),a.length&&(i=!0,a.is(K)&&l!==t?r._ajaxRequest(e,a,n):r._toggleGroup(a,n))),i},_toggleGroup:function(e,t){var n=this,i=n.options.animation,a=i.expand,r=s({},i.collapse),o=r&&"effects"in r;e.is(Y)==t&&(e.parent().attr(U,!t).attr(G,t).toggleClass(q,t).toggleClass(H,!t).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!t).toggleClass("k-panelbar-collapse",!t).toggleClass("k-i-arrow-s",t).toggleClass("k-panelbar-expand",t),a=t?s(o?r:s({reverse:!0},a),{hide:!0}):s({complete:function(e){n._triggerEvent(D,e.closest(_))}},a),e.kendoStop(!0,!0).kendoAnimate(a))},_collapseAllExpanded:function(n){var i,a,r=this,o=!1;return n.children(v).hasClass("k-header")?(a=n.find(z).add(n.find(I)),a.is(Y)&&(o=!0),a.is(Y)||0===a.length||(i=e(r.element).children(),i.find(z).add(i.find(I)).filter(function(){return e(this).is(Y)}).each(function(t,n){n=e(n),o=r._triggerEvent(E,n.closest(_)),o||r._toggleGroup(n,!0)})),o):t},_ajaxRequest:function(t,n,i){var a=this,r=t.find(".k-panelbar-collapse, .k-panelbar-expand"),o=t.find(v),s=setTimeout(function(){r.addClass("k-loading")},100),l={},d=o.attr(f);e.ajax({type:"GET",cache:!1,url:d,dataType:"html",data:l,error:function(e,t){r.removeClass("k-loading"),a.trigger(b,{xhr:e,status:t})&&this.complete()},complete:function(){clearTimeout(s),r.removeClass("k-loading")},success:function(e){try{n.html(e)}catch(r){var o=window.console;o&&o.error&&o.error(r.name+": "+r.message+" in "+d),this.error(this.xhr,"error")}a._toggleGroup(n,i),a.trigger(M,{item:t[0],contentElement:n[0]})}})},_triggerEvent:function(e,t){var n=this;return n.trigger(e,{item:t[0]})},_updateSelected:function(e){var t=this,n=t.element,i=e.parent(_),a=t._selected;a&&a.removeAttr(Q),t._selected=i.attr(Q,!0),n.find(V).removeClass(P),n.find("> ."+L+", .k-panel > ."+L).removeClass(L),e.addClass(P),e.parentsUntil(n,_).filter(":has(.k-header)").addClass(L),t._current(i)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}})}});s(et,{renderItem:function(e){e=s({panelBar:{},group:{}},e);var t=J.empty,n=e.item;return J.item(s(e,{image:n.imageUrl?J.image:t,sprite:n.spriteCssClass?J.sprite:t,itemWrapper:J.itemWrapper,renderContent:et.renderContent,arrow:n.items||n.content||n.contentUrl?J.arrow:t,subGroup:et.renderGroup},Z))},renderGroup:function(e){return J.group(s({renderItems:function(e){for(var t="",n=0,i=e.items,a=i?i.length:0,r=s({length:a},e.group);a>n;n++)t+=et.renderItem(s(e,{group:r,item:s({index:n},i[n])}));return t}},e,Z))},renderContent:function(e){return J.content(s(e,Z))}}),a.ui.plugin(et)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui,a=i.Widget,r="horizontal",o="vertical",s=0,l=100,d=0,c=5,u="k-progressbar",h="k-progressbar-reverse",p="k-progressbar-indeterminate",f="k-complete",g="k-state-selected",m="k-progress-status",v="k-state-selected",b="k-state-default",_="k-state-disabled",y={VALUE:"value",PERCENT:"percent",CHUNK:"chunk"},k="change",w="complete",x="boolean",C=Math,T=e.extend,S=e.proxy,D=100,E=400,F=3,A={progressStatus:"<span class='k-progress-status-wrap'><span class='k-progress-status'></span></span>"},M=a.extend({init:function(e,t){var n=this;a.fn.init.call(this,e,t),t=n.options,n._progressProperty=t.orientation===r?"width":"height",n._fields(),t.value=n._validateValue(t.value),n._validateType(t.type),n._wrapper(),n._progressAnimation(),t.value!==t.min&&t.value!==!1&&n._updateProgress()},setOptions:function(e){var t=this;a.fn.setOptions.call(t,e),e.hasOwnProperty("reverse")&&t.wrapper.toggleClass("k-progressbar-reverse",e.reverse),e.hasOwnProperty("enable")&&t.enable(e.enable),t._progressAnimation(),t._validateValue(),t._updateProgress()},events:[k,w],options:{name:"ProgressBar",orientation:r,reverse:!1,min:s,max:l,value:d,enable:!0,type:y.VALUE,chunkCount:c,showStatus:!0,animation:{}},_fields:function(){var t=this;t._isStarted=!1,t.progressWrapper=t.progressStatus=e()},_validateType:function(i){var a=!1;if(e.each(y,function(e,n){return n===i?(a=!0,!1):t}),!a)throw Error(n.format("Invalid ProgressBar type '{0}'",i))},_wrapper:function(){var e,t=this,n=t.wrapper=t.element,i=t.options,a=i.orientation;n.addClass("k-widget "+u),n.addClass(u+"-"+(a===r?r:o)),i.enable===!1&&n.addClass(_),i.reverse&&n.addClass(h),i.value===!1&&n.addClass(p),i.type===y.CHUNK?t._addChunkProgressWrapper():i.showStatus&&(t.progressStatus=t.wrapper.prepend(A.progressStatus).find("."+m),e=i.value!==!1?i.value:i.min,t.progressStatus.text(i.type===y.VALUE?e:t._calculatePercentage(e)+"%"))},value:function(e){return this._value(e)},_value:function(e){var n,i=this,a=i.options;return e===t?a.value:(typeof e!==x?(e=i._roundValue(e),isNaN(e)||(n=i._validateValue(e),n!==a.value&&(i.wrapper.removeClass(p),a.value=n,i._isStarted=!0,i._updateProgress()))):e||(i.wrapper.addClass(p),a.value=!1),t)},_roundValue:function(e){e=parseFloat(e);var t=C.pow(10,F);return C.floor(e*t)/t},_validateValue:function(e){var t=this,n=t.options;if(e!==!1){if(n.min>=e||e===!0)return n.min;if(e>=n.max)return n.max}else if(e===!1)return!1;return isNaN(t._roundValue(e))?n.min:e},_updateProgress:function(){var e=this,t=e.options,n=e._calculatePercentage();t.type===y.CHUNK?(e._updateChunks(n),e._onProgressUpdateAlways(t.value)):e._updateProgressWrapper(n)},_updateChunks:function(e){var t,n=this,i=n.options,a=i.chunkCount,s=parseInt(D/a*100,10)/100,l=parseInt(100*e,10)/100,d=C.floor(l/s);t=n.wrapper.find(i.orientation===r&&!i.reverse||i.orientation===o&&i.reverse?"li.k-item:lt("+d+")":"li.k-item:gt(-"+(d+1)+")"),n.wrapper.find("."+v).removeClass(v).addClass(b),t.removeClass(b).addClass(v)},_updateProgressWrapper:function(e){var t=this,n=t.options,i=t.wrapper.find("."+g),a=t._isStarted?t._animation.duration:0,r={};0===i.length&&t._addRegularProgressWrapper(),r[t._progressProperty]=e+"%",t.progressWrapper.animate(r,{duration:a,start:S(t._onProgressAnimateStart,t),progress:S(t._onProgressAnimate,t),complete:S(t._onProgressAnimateComplete,t,n.value),always:S(t._onProgressUpdateAlways,t,n.value)})},_onProgressAnimateStart:function(){this.progressWrapper.show()},_onProgressAnimate:function(e){var t,n=this,i=n.options,a=parseFloat(e.elem.style[n._progressProperty],10);i.showStatus&&(t=1e4/parseFloat(n.progressWrapper[0].style[n._progressProperty]),n.progressWrapper.find(".k-progress-status-wrap").css(n._progressProperty,t+"%")),i.type!==y.CHUNK&&98>=a&&n.progressWrapper.removeClass(f)},_onProgressAnimateComplete:function(e){var t=this,n=t.options,i=parseFloat(t.progressWrapper[0].style[t._progressProperty]);n.type!==y.CHUNK&&i>98&&t.progressWrapper.addClass(f),n.showStatus&&t.progressStatus.text(n.type===y.VALUE?e:C.floor(t._calculatePercentage(e))+"%"),e===n.min&&t.progressWrapper.hide()},_onProgressUpdateAlways:function(e){var t=this,n=t.options;t._isStarted&&t.trigger(k,{value:e}),e===n.max&&t._isStarted&&t.trigger(w,{value:n.max})},enable:function(e){var n=this,i=n.options;i.enable=t===e?!0:e,n.wrapper.toggleClass(_,!i.enable)},destroy:function(){var e=this;a.fn.destroy.call(e)},_addChunkProgressWrapper:function(){var e,t=this,n=t.options,i=t.wrapper,a=D/n.chunkCount,r="";for(1>=n.chunkCount&&(n.chunkCount=c),r+="<ul class='k-reset'>",e=n.chunkCount-1;e>=0;e--)r+="<li class='k-item k-state-default'></li>";r+="</ul>",i.append(r).find(".k-item").css(t._progressProperty,a+"%").first().addClass("k-first").end().last().addClass("k-last"),t._normalizeChunkSize()},_normalizeChunkSize:function(){var e=this,t=e.options,n=e.wrapper.find(".k-item:last"),i=parseFloat(n[0].style[e._progressProperty]),a=D-t.chunkCount*i;a>0&&n.css(e._progressProperty,i+a+"%")},_addRegularProgressWrapper:function(){var t=this;t.progressWrapper=e("<div class='"+g+"'></div>").appendTo(t.wrapper),t.options.showStatus&&(t.progressWrapper.append(A.progressStatus),t.progressStatus=t.wrapper.find("."+m))},_calculateChunkSize:function(){var e=this,t=e.options.chunkCount,n=e.wrapper.find("ul.k-reset");return(parseInt(n.css(e._progressProperty),10)-(t-1))/t},_calculatePercentage:function(e){var n=this,i=n.options,a=e!==t?e:i.value,r=i.min,o=i.max;return n._onePercent=C.abs((o-r)/100),C.abs((a-r)/n._onePercent)},_progressAnimation:function(){var e=this,t=e.options,n=t.animation;e._animation=n===!1?{duration:0}:T({duration:E},t.animation)}});n.ui.plugin(M)}(window.kendo.jQuery),function(e,t){function n(t){t.children(g).addClass(x),t.children("a").addClass(b).children(g).addClass(x),t.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(z),t.filter("li[disabled]").addClass(H).removeAttr("disabled"),t.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(I+" "+P),t.attr("role","tab"),t.filter("."+I).attr("aria-selected",!0),t.each(function(){var t=e(this);t.children("."+b).length||t.contents().filter(function(){return!(this.nodeName.match(p)||3==this.nodeType&&!d(this.nodeValue))}).wrapAll("<a class='"+b+"'/>")})}function i(e){var t=e.children(".k-item");t.filter(".k-first:not(:first-child)").removeClass(C),t.filter(".k-last:not(:last-child)").removeClass(_),t.filter(":first-child").addClass(C),t.filter(":last-child").addClass(_)}var a=window.kendo,r=a.ui,o=a.keys,s=e.map,l=e.each,d=e.trim,c=e.extend,u=a.template,h=r.Widget,p=/^(a|div)$/i,f=".kendoTabStrip",g="img",m="href",v="prev",b="k-link",_="k-last",y="click",k="error",w=":empty",x="k-image",C="k-first",T="select",S="activate",D="k-content",E="contentUrl",F="mouseenter",A="mouseleave",M="contentLoad",H="k-state-disabled",z="k-state-default",I="k-state-active",R="k-state-focused",N="k-state-hover",P="k-tab-on-top",O=".k-item:not(."+H+")",L=".k-tabstrip-items > "+O+":not(."+I+")",B={content:u("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:u("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:u("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:u("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:u("<span class='k-sprite #= spriteCssClass #'></span>"),empty:u("")},j={wrapperCssClass:function(e,t){var n="k-item",i=t.index;return n+=t.enabled===!1?" k-state-disabled":" k-state-default",0===i&&(n+=" k-first"),i==e.length-1&&(n+=" k-last"),n},textAttributes:function(e){return e.url?" href='"+e.url+"'":""},text:function(e){return e.encoded===!1?e.text:a.htmlEncode(e.text)},tag:function(e){return e.url?"a":"span"},contentAttributes:function(e){return e.active!==!0?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(e){return e.content?e.content:e.contentUrl?"":"&nbsp;"},contentUrl:function(e){return e.contentUrl?a.attr("content-url")+'="'+e.contentUrl+'"':""}},W=h.extend({init:function(t,n){var i,r,o=this;h.fn.init.call(o,t,n),o._animations(o.options),o.wrapper=o.element.is("ul")?o.element.wrapAll("<div />").parent():o.element,n=o.options,o._isRtl=a.support.isRtl(o.wrapper),o._tabindex(),o._updateClasses(),o._dataSource(),n.dataSource&&o.dataSource.fetch(),o.options.contentUrls&&o.wrapper.find(".k-tabstrip-items > .k-item").each(function(t,n){e(n).find(">."+b).data(E,o.options.contentUrls[t])}),o.wrapper.on(F+f+" "+A+f,L,o._toggleHover).on("keydown"+f,e.proxy(o._keydown,o)).on("focus"+f,e.proxy(o._active,o)).on("blur"+f,function(){o._current(null)}),o.wrapper.children(".k-tabstrip-items").on(y+f,".k-state-disabled .k-link",!1).on(y+f," > "+O,function(t){o.wrapper[0]!==document.activeElement&&o.wrapper.focus(),o._click(e(t.currentTarget))&&t.preventDefault()}),i=o.tabGroup.children("li."+I),r=o.contentHolder(i.index()),i[0]&&r.length>0&&0===r[0].childNodes.length&&o.activateTab(i.eq(0)),o.element.attr("role","tablist"),o.element[0].id&&(o._ariaId=o.element[0].id+"_ts_active"),a.notify(o)},_active:function(){var e=this.tabGroup.children().filter("."+I);e=e[0]?e:this._endItem("first"),e[0]&&this._current(e)},_endItem:function(e){return this.tabGroup.children(O)[e]()},_item:function(e,t){var n;return n=t===v?"last":"first",e?(e=e[t](),e[0]||(e=this._endItem(n)),e.hasClass(H)&&(e=this._item(e,t)),e):this._endItem(n)},_current:function(e){var n=this,i=n._focused,a=n._ariaId;return e===t?i:(i&&(i[0].id===a&&i.removeAttr("id"),i.removeClass(R)),e&&(e.hasClass(I)||e.addClass(R),n.element.removeAttr("aria-activedescendant"),a=e[0].id||a,a&&(e.attr("id",a),n.element.attr("aria-activedescendant",a))),n._focused=e,t)},_keydown:function(e){var n,i=this,a=e.keyCode,r=i._current(),s=i._isRtl;if(e.target==e.currentTarget){if(a==o.DOWN||a==o.RIGHT)n=s?v:"next";else if(a==o.UP||a==o.LEFT)n=s?"next":v;else if(a==o.ENTER||a==o.SPACEBAR)i._click(r),e.preventDefault();else{if(a==o.HOME)return i._click(i._endItem("first")),e.preventDefault(),t;if(a==o.END)return i._click(i._endItem("last")),e.preventDefault(),t}n&&(i._click(i._item(r,n)),e.preventDefault())}},_dataSource:function(){var t=this;t.dataSource&&t._refreshHandler?t.dataSource.unbind("change",t._refreshHandler):t._refreshHandler=e.proxy(t.refresh,t),t.dataSource=a.data.DataSource.create(t.options.dataSource).bind("change",t._refreshHandler)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),e.fetch()},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={open:{effects:{}},close:{effects:{}}})},refresh:function(e){var t,n,i,r,o=this,s=o.options,l=a.getter(s.dataTextField),d=a.getter(s.dataContentField),c=a.getter(s.dataContentUrlField),u=a.getter(s.dataImageUrlField),h=a.getter(s.dataUrlField),p=a.getter(s.dataSpriteCssClass),f=[],g=o.dataSource.view();for(e=e||{},i=e.action,i&&(g=e.items),t=0,r=g.length;r>t;t++)n={text:l(g[t])},s.dataContentField&&(n.content=d(g[t])),s.dataContentUrlField&&(n.contentUrl=c(g[t])),s.dataUrlField&&(n.url=h(g[t])),s.dataImageUrlField&&(n.imageUrl=u(g[t])),s.dataSpriteCssClass&&(n.spriteCssClass=p(g[t])),f[t]=n;if("add"==e.action)e.index<o.tabGroup.children().length?o.insertBefore(f,o.tabGroup.children().eq(e.index)):o.append(f);else if("remove"==e.action)for(t=0;g.length>t;t++)o.remove(e.index);else"itemchange"==e.action?(t=o.dataSource.view().indexOf(g[0]),e.field===s.dataTextField&&o.tabGroup.children().eq(t).find(".k-link").text(g[0].get(e.field))):(o.trigger("dataBinding"),o.remove("li"),o.append(f),o.trigger("dataBound"))},value:function(n){var i=this;return n===t?i.select().text():(n!=i.value()&&i.tabGroup.children().each(function(){e.trim(e(this).text())==n&&i.select(this)}),t)},items:function(){return this.tabGroup[0].children},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=c(!0,t,e.animation),h.fn.setOptions.call(this,e)},events:[T,S,k,M,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:!1},destroy:function(){var e=this;h.fn.destroy.call(e),e._refreshHandler&&e.dataSource.unbind("change",e._refreshHandler),e.wrapper.off(f),e.wrapper.children(".k-tabstrip-items").off(f),a.destroy(e.wrapper)},select:function(t){var n=this;return 0===arguments.length?n.tabGroup.children("li."+I):(isNaN(t)||(t=n.tabGroup.children().get(t)),t=n.tabGroup.find(t),e(t).each(function(t,i){i=e(i),i.hasClass(I)||n.trigger(T,{item:i[0],contentElement:n.contentHolder(i.index())[0]})||n.activateTab(i)}),n)},enable:function(e,t){return this._toggleDisabled(e,t!==!1),this},disable:function(e){return this._toggleDisabled(e,!1),this},reload:function(t){t=this.tabGroup.find(t);var n=this;return t.each(function(){var t=e(this),i=t.find("."+b).data(E),a=n.contentHolder(t.index());i&&n.ajaxRequest(t,a,null,i)}),n},append:function(e){var t=this,n=t._create(e);return l(n.tabs,function(e){t.tabGroup.append(this),t.wrapper.append(n.contents[e])}),i(t.tabGroup),t._updateContentElements(),t},insertBefore:function(t,n){n=this.tabGroup.find(n);var a=this,r=a._create(t),o=e(a.contentElement(n.index()));return l(r.tabs,function(e){n.before(this),o.before(r.contents[e])}),i(a.tabGroup),a._updateContentElements(),a},insertAfter:function(t,n){n=this.tabGroup.find(n);var a=this,r=a._create(t),o=e(a.contentElement(n.index()));return l(r.tabs,function(e){n.after(this),o.after(r.contents[e])}),i(a.tabGroup),a._updateContentElements(),a},remove:function(t){var n=this,i=typeof t,a=e();return"string"===i?t=n.tabGroup.find(t):"number"===i&&(t=n.tabGroup.children().eq(t)),t.each(function(){a.push(n.contentElement(e(this).index()))}),t.remove(),a.remove(),n._updateContentElements(),n},_create:function(i){var a,r,o,l=e.isPlainObject(i),d=this;return l||e.isArray(i)?(i=e.isArray(i)?i:[i],a=s(i,function(t,n){return e(W.renderItem({group:d.tabGroup,item:c(t,{index:n})}))}),r=s(i,function(n,i){return n.content||n.contentUrl?e(W.renderContent({item:c(n,{index:i})})):t})):(a="string"==typeof i&&"<"!=i[0]?d.element.find(i):e(i),r=e(),a.each(function(){if(o=e("<div class='"+D+"'/>"),/k-tabstrip-items/.test(this.parentNode.className)){var t=parseInt(this.getAttribute("aria-controls").replace(/^.*-/,""),10)-1;o=e(d.contentElement(t))}r=r.add(o)}),n(a)),{tabs:a,contents:r}},_toggleDisabled:function(t,n){t=this.tabGroup.find(t),t.each(function(){e(this).toggleClass(z,n).toggleClass(H,!n)})},_updateClasses:function(){var a,r,o,s=this;s.wrapper.addClass("k-widget k-header k-tabstrip"),s.tabGroup=s.wrapper.children("ul").addClass("k-tabstrip-items k-reset"),s.tabGroup[0]||(s.tabGroup=e("<ul class='k-tabstrip-items k-reset'/>").appendTo(s.wrapper)),a=s.tabGroup.find("li").addClass("k-item"),a.length&&(r=a.filter("."+I).index(),o=r>=0?r:t,s.tabGroup.contents().filter(function(){return 3==this.nodeType&&!d(this.nodeValue)}).remove()),r>=0&&a.eq(r).addClass(P),s.contentElements=s.wrapper.children("div"),s.contentElements.addClass(D).eq(o).addClass(I).css({display:"block"}),a.length&&(n(a),i(s.tabGroup),s._updateContentElements())},_updateContentElements:function(){var t=this,n=t.options.contentUrls||[],i=t.tabGroup.find(".k-item"),r=(t.element.attr("id")||a.guid())+"-",o=t.wrapper.children("div");o.length&&i.length>o.length?(o.each(function(e){var t=parseInt(this.id.replace(r,""),10),n=i.filter("[aria-controls="+r+t+"]"),a=r+(e+1);n.data("aria",a),this.setAttribute("id",a)}),i.each(function(){var t=e(this);this.setAttribute("aria-controls",t.data("aria")),t.removeData("aria")})):i.each(function(i){var a=o.eq(i),s=r+(i+1);this.setAttribute("aria-controls",s),!a.length&&n[i]?e("<div class='"+D+"'/>").appendTo(t.wrapper).attr("id",s):(a.attr("id",s),e(this).children(".k-loading")[0]||n[i]||e("<span class='k-loading k-complete'/>").prependTo(this)),a.attr("role","tabpanel"),a.filter(":not(."+I+")").attr("aria-hidden",!0).attr("aria-expanded",!1),a.filter("."+I).attr("aria-expanded",!0)}),t.contentElements=t.contentAnimators=t.wrapper.children("div"),a.kineticScrollNeeded&&a.mobile.ui.Scroller&&(a.touchScroller(t.contentElements),t.contentElements=t.contentElements.children(".km-scroll-container"))},_toggleHover:function(t){e(t.currentTarget).toggleClass(N,t.type==F)},_click:function(e){var t,n,i=this,a=e.find("."+b),r=a.attr(m),o=i.options.collapsible,s=i.contentHolder(e.index());if(e.closest(".k-widget")[0]==i.wrapper[0]){if(e.is("."+H+(o?"":",."+I)))return!0;if(n=a.data(E)||r&&("#"==r.charAt(r.length-1)||-1!=r.indexOf("#"+i.element[0].id+"-")),t=!r||n,i.tabGroup.children("[data-animating]").length)return t;if(i.trigger(T,{item:e[0],contentElement:s[0]}))return!0;if(t!==!1)return o&&e.is("."+I)?(i.deactivateTab(e),!0):(i.activateTab(e)&&(t=!0),t)}},deactivateTab:function(e){var t=this,n=t.options.animation,i=n.open,r=c({},n.close),o=r&&"effects"in r;e=t.tabGroup.find(e),r=c(o?r:c({reverse:!0},i),{hide:!0}),a.size(i.effects)?(e.kendoAddClass(z,{duration:i.duration}),e.kendoRemoveClass(I,{duration:i.duration})):(e.addClass(z),e.removeClass(I)),e.removeAttr("aria-selected"),t.contentAnimators.filter("."+I).kendoStop(!0,!0).kendoAnimate(r).removeClass(I).attr("aria-hidden",!0)},activateTab:function(e){var t,n,i,r,o,s,l,d,u,h,p,f,g,m,v;return e=this.tabGroup.find(e),t=this,n=t.options.animation,i=n.open,r=c({},n.close),o=r&&"effects"in r,s=e.parent().children(),l=s.filter("."+I),d=s.index(e),r=c(o?r:c({reverse:!0},i),{hide:!0}),a.size(i.effects)?(l.kendoRemoveClass(I,{duration:r.duration}),e.kendoRemoveClass(N,{duration:r.duration})):(l.removeClass(I),e.removeClass(N)),u=t.contentAnimators,t.inRequest&&(t.xhr.abort(),t.inRequest=!1),0===u.length?(l.removeClass(P),e.addClass(P).css("z-index"),e.addClass(I),t._current(e),t.trigger("change"),!1):(h=u.filter("."+I),p=t.contentHolder(d),f=p.closest(".k-content"),0===p.length?(h.removeClass(I).attr("aria-hidden",!0).kendoStop(!0,!0).kendoAnimate(r),!1):(e.attr("data-animating",!0),g=(e.children("."+b).data(E)||!1)&&p.is(w),m=function(){l.removeClass(P),e.addClass(P).css("z-index"),a.size(i.effects)?(l.kendoAddClass(z,{duration:i.duration}),e.kendoAddClass(I,{duration:i.duration})):(l.addClass(z),e.addClass(I)),l.removeAttr("aria-selected"),e.attr("aria-selected",!0),t._current(e),f.addClass(I).removeAttr("aria-hidden").kendoStop(!0,!0).attr("aria-expanded",!0).kendoAnimate(c({init:function(){t.trigger(S,{item:e[0],contentElement:p[0]})}},i,{complete:function(){e.removeAttr("data-animating")}}))},v=function(){g?(e.removeAttr("data-animating"),t.ajaxRequest(e,p,function(){e.attr("data-animating",!0),m(),t.trigger("change")})):(m(),t.trigger("change"))},h.removeClass(I),h.attr("aria-hidden",!0),h.attr("aria-expanded",!1),h.length?h.kendoStop(!0,!0).kendoAnimate(c({complete:v},r)):v(),!0))},contentElement:function(e){var n,i,r,o;if(isNaN(e-0))return t;if(n=this.contentElements&&this.contentElements[0]&&!a.kineticScrollNeeded?this.contentElements:this.contentAnimators,e=n&&0>e?n.length+e:e,i=RegExp("-"+(e+1)+"$"),n)for(r=0,o=n.length;o>r;r++)if(i.test(n.eq(r).closest(".k-content")[0].id))return n[r];return t},contentHolder:function(t){var n=e(this.contentElement(t)),i=n.children(".km-scroll-container");return a.support.touch&&i[0]?i:n},ajaxRequest:function(t,n,i,r){var o,s,l,d,c,u,h,p,f;t=this.tabGroup.find(t),o=this,s=e.ajaxSettings.xhr,l=t.find("."+b),d={},c=t.width()/2,u=!1,h=t.find(".k-loading").removeClass("k-complete"),h[0]||(h=e("<span class='k-loading'/>").prependTo(t)),p=2*c-h.width(),f=function(){h.animate({marginLeft:(parseInt(h.css("marginLeft"),10)||0)<c?p:0},500,f)},a.support.browser.msie&&10>a.support.browser.version&&setTimeout(f,40),r=r||l.data(E)||l.attr(m),o.inRequest=!0,o.xhr=e.ajax({type:"GET",cache:!1,url:r,dataType:"html",data:d,xhr:function(){var t=this,n=s(),i=t.progressUpload?"progressUpload":t.progress?"progress":!1;return n&&e.each([n,n.upload],function(){this.addEventListener&&this.addEventListener("progress",function(e){i&&t[i](e)},!1)}),t.noProgress=!(window.XMLHttpRequest&&"upload"in new XMLHttpRequest),n},progress:function(e){if(e.lengthComputable){var t=parseInt(e.loaded/e.total*100,10)+"%";h.stop(!0).addClass("k-progress").css({width:t,marginLeft:0})}},error:function(e,t){o.trigger("error",{xhr:e,status:t})&&this.complete()},stopProgress:function(){clearInterval(u),h.stop(!0).addClass("k-progress")[0].style.cssText=""},complete:function(e){o.inRequest=!1,this.noProgress?setTimeout(this.stopProgress,500):this.stopProgress(),"abort"==e.statusText&&h.remove()},success:function(e){var a,s,l;h.addClass("k-complete");try{a=this,s=10,a.noProgress&&(h.width(s+"%"),u=setInterval(function(){a.progress({lengthComputable:!0,loaded:Math.min(s,100),total:100}),s+=10},40)),n.html(e)}catch(d){l=window.console,l&&l.error&&l.error(d.name+": "+d.message+" in "+r),this.error(this.xhr,"error")}i&&i.call(o,n),o.trigger(M,{item:t[0],contentElement:n[0]})}})}});c(W,{renderItem:function(e){e=c({tabStrip:{},group:{}},e);var t=B.empty,n=e.item;return B.item(c(e,{image:n.imageUrl?B.image:t,sprite:n.spriteCssClass?B.sprite:t,itemWrapper:B.itemWrapper},j))},renderContent:function(e){return B.content(c(e,j))}}),a.ui.plugin(W)}(window.kendo.jQuery),function(e,t){function n(e,t,n){var i,a=e.getTimezoneOffset();e.setTime(e.getTime()+t),n||(i=e.getTimezoneOffset()-a,e.setTime(e.getTime()+i*z))}function i(){var e=new G,t=new G(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),n=new G(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0);return-1*(t.getTimezoneOffset()-n.getTimezoneOffset())}function a(e){return 60*e.getHours()*z+e.getMinutes()*z+1e3*e.getSeconds()+e.getMilliseconds()}function r(e,t,n){var i,r=a(t),o=a(n);return e&&r!=o?(i=a(e),r>i&&(i+=I),r>o&&(o+=I),i>=r&&o>=i):!0}function o(e){var t=e.parseFormats;e.format=f(e.format||c.getCulture(e.culture).calendars.standard.patterns.t),t=q(t)?t:[t],t.splice(0,0,e.format),e.parseFormats=t}function s(e){e.preventDefault()}var l,d,c=window.kendo,u=c.keys,h=c.parseDate,p=c._activeElement,f=c._extractFormat,g=c.support,m=g.browser,v=c.ui,b=v.Widget,_="open",y="close",k="change",w=".kendoTimePicker",x="click"+w,C="k-state-default",T="disabled",S="readonly",D="li",E="<span/>",F="k-state-focused",A="k-state-hover",M="mouseenter"+w+" mouseleave"+w,H="mousedown"+w,z=6e4,I=864e5,R="k-state-selected",N="k-state-disabled",P="aria-selected",O="aria-expanded",L="aria-hidden",B="aria-disabled",j="aria-readonly",W="aria-activedescendant",V="id",q=e.isArray,$=e.extend,U=e.proxy,G=Date,Q=new G;Q=new G(Q.getFullYear(),Q.getMonth(),Q.getDate(),0,0,0),l=function(t){var n=this,i=t.id;n.options=t,n.ul=e('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:g.kineticScrollNeeded?"":"auto"}).on(x,D,U(n._click,n)).on("mouseenter"+w,D,function(){e(this).addClass(A)}).on("mouseleave"+w,D,function(){e(this).removeClass(A)}),n.list=e("<div class='k-list-container'/>").append(n.ul).on(H,s),i&&(n._timeViewID=i+"_timeview",n._optionID=i+"_option_selected",n.ul.attr(V,n._timeViewID)),n._popup(),n.template=c.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})},l.prototype={current:function(n){var i=this,a=i.options.active;return n===t?i._current:(i._current&&i._current.removeClass(R).removeAttr(P).removeAttr(V),n&&(n=e(n).addClass(R).attr(V,i._optionID).attr(P,!0),i.scroll(n[0])),i._current=n,a&&a(n),t)},close:function(){this.popup.close()},destroy:function(){var e=this;e.ul.off(w),e.list.off(w),e._touchScroller&&e._touchScroller.destroy(),e.popup.destroy()},open:function(){var e=this;e.ul[0].firstChild||e.bind(),e.popup.open(),e._current&&e.scroll(e._current[0])},dataBind:function(e){for(var t,n=this,i=n.options,a=i.format,o=c.toString,s=n.template,l=e.length,d=0,u="";l>d;d++)t=e[d],r(t,i.min,i.max)&&(u+=s(o(t,a,i.culture)));n._html(u,l)},refresh:function(){var e,t,r,o=this,s=o.options,l=s.format,d=i(),u=0>d,h=s.min,p=s.max,f=a(h),g=a(p),m=s.interval*z,v=c.toString,b=o.template,_=new G(+h),y=_.getDate(),k=0,w="";for(r=u?(I+d*z)/m:I/m,f!=g&&(f>g&&(g+=I),r=(g-f)/m+1),t=parseInt(r,10);r>k;k++)k&&n(_,m,u),g&&t==k&&(e=a(_),y<_.getDate()&&(e+=I),e>g&&(_=new G(+p))),w+=b(v(_,l,s.culture));o._html(w,r)},bind:function(){var e=this,t=e.options.dates;t&&t[0]?e.dataBind(t):e.refresh()},_html:function(e,t){var n=this;n.ul[0].innerHTML=e,n._height(t),n.current(null),n.select(n._value)},scroll:function(e){if(e){var t,n=this.ul[0],i=e.offsetTop,a=e.offsetHeight,r=n.scrollTop,o=n.clientHeight,s=i+a,l=this._touchScroller;l?(t=this.list.height(),i>t&&(i=i-t+a),l.scrollTo(0,-i)):n.scrollTop=r>i?i:s>r+o?s-o:r}},select:function(t){var n=this,i=n.options,a=n._current;t instanceof Date&&(t=c.toString(t,i.format,i.culture)),"string"==typeof t&&(a&&a.text()===t?t=a:(t=e.grep(n.ul[0].childNodes,function(e){return(e.textContent||e.innerText)==t}),t=t[0]?t:null)),n.current(t)},setOptions:function(e){var t=this.options;e.min=h(e.min),e.max=h(e.max),this.options=$(t,e,{active:t.active,change:t.change,close:t.close,open:t.open}),this.bind()},toggle:function(){var e=this;e.popup.visible()?e.close():e.open()},value:function(e){var t=this;t._value=e,t.ul[0].firstChild&&t.select(e)},_click:function(t){var n=this,i=e(t.currentTarget);t.isDefaultPrevented()||(n.select(i),n.options.change(i.text(),!0),n.close())},_height:function(e){if(e){var t=this,n=t.list,i=n.parent(".k-animation-container"),a=t.options.height;n.add(i).show().height(t.ul[0].scrollHeight>a?a:"auto").hide()}},_parse:function(e){var t=this,n=t.options,i=t._value||Q;return e instanceof G?e:(e=h(e,n.parseFormats,n.culture),e&&(e=new G(i.getFullYear(),i.getMonth(),i.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())),e)},_adjustListWidth:function(){var e,t,n=this.list,i=n[0].style.width,a=this.options.anchor;(n.data("width")||!i)&&(e=window.getComputedStyle?window.getComputedStyle(a[0],null):0,t=e?parseFloat(e.width):a.outerWidth(),e&&(m.mozilla||m.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),i=t-(n.outerWidth()-n.width()),n.css({fontFamily:a.css("font-family"),width:i}).data("width",i))
},_popup:function(){var e=this,t=e.list,n=e.options,i=n.anchor;e.popup=new v.Popup(t,$(n.popup,{anchor:i,open:n.open,close:n.close,animation:n.animation,isRtl:g.isRtl(n.anchor)})),e._touchScroller=c.touchScroller(e.popup.element)},move:function(e){var n=this,i=e.keyCode,a=n.ul[0],r=n._current,o=i===u.DOWN;if(i===u.UP||o){if(e.altKey)return n.toggle(o),t;r=o?r?r[0].nextSibling:a.firstChild:r?r[0].previousSibling:a.lastChild,r&&n.select(r),n.options.change(n._current.text()),e.preventDefault()}else(i===u.ENTER||i===u.TAB||i===u.ESC)&&(e.preventDefault(),r&&n.options.change(r.text(),!0),n.close())}},l.getMilliseconds=a,c.TimeView=l,d=b.extend({init:function(e,t){var n,i,a,r=this;b.fn.init.call(r,e,t),e=r.element,t=r.options,t.min=h(e.attr("min"))||h(t.min),t.max=h(e.attr("max"))||h(t.max),o(t),r._wrapper(),r.timeView=i=new l($({},t,{id:e.attr(V),anchor:r.wrapper,format:t.format,change:function(t,n){n?r._change(t):e.val(t)},open:function(t){r.timeView._adjustListWidth(),r.trigger(_)?t.preventDefault():(e.attr(O,!0),n.attr(L,!1))},close:function(t){r.trigger(y)?t.preventDefault():(e.attr(O,!1),n.attr(L,!0))},active:function(t){e.removeAttr(W),t&&e.attr(W,i._optionID)}})),n=i.ul,r._icon(),r._reset();try{e[0].setAttribute("type","text")}catch(s){e[0].type="text"}e.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":i._timeViewID}),a=e.is("[disabled]"),a?r.enable(!1):r.readonly(e.is("[readonly]")),r._old=r._update(t.value||r.element.val()),r._oldText=e.val(),c.notify(r)},options:{name:"TimePicker",min:Q,max:Q,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[_,y,k],setOptions:function(e){var t=this,n=t._value;b.fn.setOptions.call(t,e),e=t.options,o(e),t.timeView.setOptions(e),n&&t.element.val(c.toString(n,e.format,e.culture))},dataBind:function(e){q(e)&&this.timeView.dataBind(e)},_editable:function(e){var t=this,n=e.disable,i=e.readonly,a=t._arrow.off(w),r=t.element.off(w),o=t._inputWrapper.off(w);i||n?(o.addClass(n?N:C).removeClass(n?C:N),r.attr(T,n).attr(S,i).attr(B,n).attr(j,i)):(o.addClass(C).removeClass(N).on(M,t._toggleHover),r.removeAttr(T).removeAttr(S).attr(B,!1).attr(j,!1).on("keydown"+w,U(t._keydown,t)).on("blur"+w,U(t._blur,t)).on("focus"+w,function(){t._inputWrapper.addClass(F)}),a.on(x,U(t._click,t)).on(H,s))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;b.fn.destroy.call(e),e.timeView.destroy(),e.element.off(w),e._arrow.off(w),e._inputWrapper.off(w),e._form&&e._form.off("reset",e._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},value:function(e){var n=this;return e===t?n._value:(n._old=n._update(e),null===n._old&&n.element.val(""),n._oldText=n.element.val(),t)},_blur:function(){var e=this,t=e.element.val();e.close(),t!==e._oldText&&e._change(t),e._inputWrapper.removeClass(F)},_click:function(){var e=this,t=e.element;e.timeView.toggle(),g.touch||t[0]===p()||t.focus()},_change:function(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t.trigger(k),t.element.trigger(k))},_icon:function(){var t,n=this,i=n.element;t=i.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(i)),n._arrow=t.attr({role:"button","aria-controls":n.timeView._timeViewID})},_keydown:function(e){var t=this,n=e.keyCode,i=t.timeView,a=t.element.val();i.popup.visible()||e.altKey?i.move(e):n===u.ENTER&&a!==t._oldText&&t._change(a)},_option:function(e,n){var i=this,a=i.options;return n===t?a[e]:(n=i.timeView._parse(n),n&&(n=new G(+n),a[e]=n,i.timeView.options[e]=n,i.timeView.bind()),t)},_toggleHover:function(t){e(t.currentTarget).toggleClass(A,"mouseenter"===t.type)},_update:function(e){var t=this,n=t.options,i=t.timeView,a=i._parse(e);return r(a,n.min,n.max)||(a=null),t._value=a,t.element.val(a?c.toString(a,n.format,n.culture):e),i.value(a),a},_wrapper:function(){var t,n=this,i=n.element;t=i.parents(".k-timepicker"),t[0]||(t=i.wrap(E).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(E).parent()),t[0].style.cssText=i[0].style.cssText,n.wrapper=t.addClass("k-widget k-timepicker k-header").addClass(i[0].className),i.css({width:"100%",height:i[0].style.height}),n._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,n=t.element,i=n.attr("form"),a=i?e("#"+i):n.closest("form");a[0]&&(t._resetHandler=function(){t.value(n[0].defaultValue)},t._form=a.on("reset",t._resetHandler))}}),v.plugin(d)}(window.kendo.jQuery),function(e,t){function n(e){var t=new Date(2100,0,1);return t.setMinutes(-e),t}function i(e){e.preventDefault()}function a(t){var n,i=r.getCulture(t.culture).calendars.standard.patterns;t.format=d(t.format||i.g),t.timeFormat=n=d(t.timeFormat||i.t),r.DateView.normalize(t),-1===e.inArray(n,t.parseFormats)&&t.parseFormats.splice(1,0,n)}var r=window.kendo,o=r.TimeView,s=r.parseDate,l=r._activeElement,d=r._extractFormat,c=r.calendar,u=c.isInRange,h=c.restrictValue,p=c.isEqualDatePart,f=o.getMilliseconds,g=r.ui,m=g.Widget,v="open",b="close",_="change",y=".kendoDateTimePicker",k="click"+y,w="disabled",x="readonly",C="k-state-default",T="k-state-focused",S="k-state-hover",D="k-state-disabled",E="mouseenter"+y+" mouseleave"+y,F="mousedown"+y,A="month",M="<span/>",H="aria-activedescendant",z="aria-expanded",I="aria-hidden",R="aria-owns",N="aria-disabled",P="aria-readonly",O=Date,L=new O(1900,0,1),B=new O(2099,11,31),j={view:"date"},W={view:"time"},V=e.extend,q=m.extend({init:function(e,t){var n,i=this;m.fn.init.call(i,e,t),e=i.element,t=i.options,t.min=s(e.attr("min"))||s(t.min),t.max=s(e.attr("max"))||s(t.max),a(t),i._wrapper(),i._views(),i._icons(),i._reset(),i._template();try{e[0].setAttribute("type","text")}catch(o){e[0].type="text"}e.addClass("k-input").attr({role:"combobox","aria-expanded":!1}),i._midnight=f(t.min)+f(t.max)===0,n=e.is("[disabled]"),n?i.enable(!1):i.readonly(e.is("[readonly]")),i._old=i._update(t.value||i.element.val()),i._oldText=e.val(),r.notify(i)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new O(L),max:new O(B),interval:30,height:200,footer:"",start:A,depth:A,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#'},events:[v,b,_],setOptions:function(e){var t,n,i,o=this,l=o._value;m.fn.setOptions.call(o,e),e=o.options,e.min=t=s(e.min),e.max=n=s(e.max),a(e),i=e.value||o._value||o.dateView._current,t&&!p(t,i)&&(t=new O(L)),n&&!p(n,i)&&(n=new O(B)),o.dateView.setOptions(e),o.timeView.setOptions(V({},e,{format:e.timeFormat,min:t,max:n})),l&&(o.element.val(r.toString(l,e.format,e.culture)),o._updateARIA(l))},_editable:function(t){var n=this,a=n.element.off(y),o=n._dateIcon.off(y),s=n._timeIcon.off(y),d=n._inputWrapper.off(y),c=t.readonly,u=t.disable;c||u?(d.addClass(u?D:C).removeClass(u?C:D),a.attr(w,u).attr(x,c).attr(N,u).attr(P,c)):(d.addClass(C).removeClass(D).on(E,n._toggleHover),a.removeAttr(w).removeAttr(x).attr(N,!1).attr(P,!1).on("keydown"+y,e.proxy(n._keydown,n)).on("focus"+y,function(){n._inputWrapper.addClass(T)}).on("blur"+y,function(){n._inputWrapper.removeClass(T),a.val()!==n._oldText&&n._change(a.val()),n.close("date"),n.close("time")}),o.on(F,i).on(k,function(){n.toggle("date"),r.support.touch||a[0]===l()||a.focus()}),s.on(F,i).on(k,function(){n.toggle("time"),r.support.touch||a[0]===l()||a.focus()}))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;m.fn.destroy.call(e),e.dateView.destroy(),e.timeView.destroy(),e.element.off(y),e._dateIcon.off(y),e._timeIcon.off(y),e._inputWrapper.off(y),e._form&&e._form.off("reset",e._resetHandler)},close:function(e){"time"!==e&&(e="date"),this[e+"View"].close()},open:function(e){"time"!==e&&(e="date"),this[e+"View"].open()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},toggle:function(e){var t="timeView";"time"!==e?e="date":t="dateView",this[e+"View"].toggle(),this[t].close()},value:function(e){var n=this;return e===t?n._value:(n._old=n._update(e),null===n._old&&n.element.val(""),n._oldText=n.element.val(),t)},_change:function(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t.trigger(_),t.element.trigger(_))},_option:function(e,i){var a,r,o=this,l=o.options,d=o.timeView,c=d.options,u=o._value||o._old;if(i===t)return l[e];if(i=s(i,l.parseFormats,l.culture)){if(l.min.getTime()===l.max.getTime()&&(c.dates=[]),l[e]=new O(i.getTime()),o.dateView[e](i),o._midnight=f(l.min)+f(l.max)===0,u&&(a=p(l.min,u),r=p(l.max,u)),a||r){if(c[e]=i,a&&!r&&(c.max=n(l.interval)),r){if(o._midnight)return d.dataBind([B]),t;a||(c.min=L)}}else c.max=B,c.min=L;d.bind()}},_toggleHover:function(t){e(t.currentTarget).toggleClass(S,"mouseenter"===t.type)},_update:function(t){var i,a,o,l,d,c=this,f=c.options,g=f.min,m=f.max,v=f.dates,b=c.timeView,_=c._value,y=s(t,f.parseFormats,f.culture),k=null===y&&null===_||y instanceof Date&&_ instanceof Date;return+y===+_&&k?(d=r.toString(y,f.format,f.culture),d!==t&&c.element.val(null===y?t:d),y):(null!==y&&p(y,g)?y=h(y,g,m):u(y,g,m)||(y=null),c._value=y,b.value(y),c.dateView.value(y),y&&(o=c._old,a=b.options,v[0]&&(v=e.grep(v,function(e){return p(y,e)}),v[0]&&(b.dataBind(v),l=!0)),l||(p(y,g)&&(a.min=g,a.max=n(f.interval),i=!0),p(y,m)&&(c._midnight?(b.dataBind([B]),l=!0):(a.max=m,i||(a.min=L),i=!0))),!l&&(!o&&i||o&&!p(o,y))&&(i||(a.max=B,a.min=L),b.bind())),c.element.val(y?r.toString(y,f.format,f.culture):t),c._updateARIA(y),y)},_keydown:function(e){var t=this,n=t.dateView,i=t.timeView,a=t.element.val(),o=n.popup.visible();e.altKey&&e.keyCode===r.keys.DOWN?t.toggle(o?"time":"date"):o?(n.move(e),t._updateARIA(n._current)):i.popup.visible()?i.move(e):e.keyCode===r.keys.ENTER&&a!==t._oldText&&t._change(a)},_views:function(){var e,t,n,i,a,l,d=this,c=d.element,h=d.options,p=c.attr("id");d.dateView=e=new r.DateView(V({},h,{id:p,anchor:d.wrapper,change:function(){var t,n=e.calendar.value(),i=+n,a=+h.min,r=+h.max;(i===a||i===r)&&(t=new O(+d._value),t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),u(t,a,r)&&(n=t)),d._change(n),d.close("date")},close:function(e){d.trigger(b,j)?e.preventDefault():(c.attr(z,!1),n.attr(I,!0),t.popup.visible()||c.removeAttr(R))},open:function(t){d.trigger(v,j)?t.preventDefault():(d.element.val()!==d._oldText&&(l=s(c.val(),h.parseFormats,h.culture),d.dateView[l?"current":"value"](l)),n.attr(I,!1),c.attr(z,!0).attr(R,e._dateViewID),d._updateARIA(l))}})),n=e.div,a=h.min.getTime(),d.timeView=t=new o({id:p,value:h.value,anchor:d.wrapper,animation:h.animation,format:h.timeFormat,culture:h.culture,height:h.height,interval:h.interval,min:new O(L),max:new O(B),dates:a===h.max.getTime()?[new Date(a)]:[],parseFormats:h.parseFormats,change:function(n,i){n=t._parse(n),h.min>n?(n=new O(+h.min),t.options.min=n):n>h.max&&(n=new O(+h.max),t.options.max=n),i?(d._timeSelected=!0,d._change(n)):(c.val(r.toString(n,h.format,h.culture)),e.value(n),d._updateARIA(n))},close:function(t){d.trigger(b,W)?t.preventDefault():(i.attr(I,!0),c.attr(z,!1),e.popup.visible()||c.removeAttr(R))},open:function(e){t._adjustListWidth(),d.trigger(v,W)?e.preventDefault():(i.attr(I,!1),c.attr(z,!0).attr(R,t._timeViewID),t.options.active(t.current()))},active:function(e){c.removeAttr(H),e&&c.attr(H,t._optionID)}}),i=t.ul},_icons:function(){var t,n=this,i=n.element;t=i.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(i)),t=t.children(),n._dateIcon=t.eq(0).attr({role:"button","aria-controls":n.dateView._dateViewID}),n._timeIcon=t.eq(1).attr({role:"button","aria-controls":n.timeView._timeViewID})},_wrapper:function(){var t,n=this,i=n.element;t=i.parents(".k-datetimepicker"),t[0]||(t=i.wrap(M).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(M).parent()),t[0].style.cssText=i[0].style.cssText,i.css({width:"100%",height:i[0].style.height}),n.wrapper=t.addClass("k-widget k-datetimepicker k-header").addClass(i[0].className),n._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,n=t.element,i=n.attr("form"),a=i?e("#"+i):n.closest("form");a[0]&&(t._resetHandler=function(){t.value(n[0].defaultValue)},t._form=a.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=r.template(this.options.ARIATemplate)},_updateARIA:function(e){var t,n=this,i=n.dateView.calendar;n.element.removeAttr(H),i&&(t=i._cell,t.attr("aria-label",n._ariaTemplate({current:e||i.current()})),n.element.attr(H,t.attr("id")))}});g.plugin(q)}(window.kendo.jQuery),function(e,t){function n(e){return function(t){var n=t.children(".k-animation-container");return n.length||(n=t),n.children(e)}}function i(e){return f.template(e,{useWithBlock:!1})}function a(e){return e.children("div").find(".k-checkbox:first :checkbox")}function r(e){return function(t,n){n=n.closest(q);var i,a=n.parent();return a.parent().is("li")&&(i=a.parent()),this._dataSourceMove(t,a,i,function(t,i){return this._insert(t.data(),i,n.index()+e)})}}function o(t,n){for(var i;t&&"ul"!=t.nodeName.toLowerCase();)i=t,t=t.nextSibling,3==i.nodeType&&(i.nodeValue=e.trim(i.nodeValue)),p.test(i.className)?n.insertBefore(i,n.firstChild):n.appendChild(i)}function s(t){var n=t.children("div"),i=t.children("ul"),a=n.children(".k-icon"),r=t.children(":checkbox"),s=n.children(".k-in");t.hasClass("k-treeview")||(n.length||(n=e("<div />").prependTo(t)),!a.length&&i.length?a=e("<span class='k-icon' />").prependTo(n):i.length&&i.children().length||(a.remove(),i.remove()),r.length&&e("<span class='k-checkbox' />").appendTo(n).append(r),s.length||(s=t.children("a").eq(0).addClass("k-in"),s.length||(s=e("<span class='k-in' />")),s.appendTo(n),n.length&&o(n[0].nextSibling,s[0])))}function l(e){var t=this;t.treeview=e,t.hovered=e.element,t._draggable=new g.Draggable(e.element,{filter:"div:not(.k-state-disabled) .k-in",hint:function(t){return e.templates.dragClue({item:e.dataItem(t),treeview:e.options})},cursorOffset:{left:10,top:f.support.touch||f.support.msPointers||f.support.pointers?-40/f.support.zoomLevel():10},dragstart:w(t.dragstart,t),dragcancel:w(t.dragcancel,t),drag:w(t.drag,t),dragend:w(t.dragend,t)})}var d,c,u,h,p,f=window.kendo,g=f.ui,m=f.data,v=e.extend,b=f.template,_=e.isArray,y=g.Widget,k=m.HierarchicalDataSource,w=e.proxy,x=f.keys,C=".kendoTreeView",T="select",S="navigate",D="expand",E="change",F="error",A="checked",M="indeterminate",H="collapse",z="dragstart",I="drag",R="drop",N="dragend",P="dataBound",O="click",L="visibility",B="undefined",j="k-state-hover",W="k-treeview",V=":visible",q=".k-item",$="string",U="aria-selected",G="aria-disabled",Q={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},Y=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&typeof e.nodeName===$};c=n(".k-group"),u=n(".k-group,.k-content"),h=function(e){return e.children("div").children(".k-icon")},p=/k-sprite/,d=y.extend({init:function(e,t){var n,i,a=this,r=!1,o=t&&!!t.dataSource;_(t)&&(n=!0,t={dataSource:t}),t&&typeof t.loadOnDemand==B&&_(t.dataSource)&&(t.loadOnDemand=!1),y.prototype.init.call(a,e,t),e=a.element,t=a.options,i=e.is("ul")&&e||e.hasClass(W)&&e.children("ul"),r=!o&&i.length,r&&(t.dataSource.list=i),a._animation(),a._accessors(),a._templates(),e.hasClass(W)?(a.wrapper=e,a.root=e.children("ul").eq(0)):(a._wrapper(),i&&(a.root=e,a._group(a.wrapper))),a._tabindex(),a.wrapper.filter("[role=tree]").length||a.wrapper.attr("role","tree"),a._dataSource(r),a._attachEvents(),a._dragging(),r?a._syncHtmlAndDataSource():t.autoBind&&(a._progress(!0),a.dataSource.fetch()),t.checkboxes&&t.checkboxes.checkChildren&&a.updateIndeterminate(),a.element[0].id&&(a._ariaId=f.format("{0}_tv_active",a.element[0].id))},_attachEvents:function(){var t=this,n=".k-in:not(.k-state-selected,.k-state-disabled)",i="mouseenter";t.wrapper.on(i+C,".k-in.k-state-selected",function(e){e.preventDefault()}).on(i+C,n,function(){e(this).addClass(j)}).on("mouseleave"+C,n,function(){e(this).removeClass(j)}).on(O+C,n,w(t._click,t)).on("dblclick"+C,".k-in:not(.k-state-disabled)",w(t._toggleButtonClick,t)).on(O+C,".k-plus,.k-minus",w(t._toggleButtonClick,t)).on("keydown"+C,w(t._keydown,t)).on("focus"+C,w(t._focus,t)).on("blur"+C,w(t._blur,t)).on("mousedown"+C,".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",w(t._mousedown,t)).on("change"+C,".k-checkbox :checkbox",w(t._checkboxChange,t)).on("click"+C,".k-checkbox :checkbox",w(t._checkboxClick,t)).on("click"+C,".k-request-retry",w(t._retryRequest,t)).on("click"+C,function(n){e(n.target).is(":kendoFocusable")||t.focus()})},_checkboxClick:function(t){var n=e(t.target);n.data(M)&&(n.data(M,!1).prop(M,!1).prop(A,!0),this._checkboxChange(t))},_syncHtmlAndDataSource:function(e,t){var n,i,r,o,s,l,d,c;for(e=e||this.root,t=t||this.dataSource,n=t.view(),i=f.attr("uid"),r=f.attr("expanded"),o=this.options.checkboxes,s=e.children("li"),l=0;s.length>l;l++)c=n[l],d=s.eq(l),d.attr("role","treeitem").attr(i,c.uid),c.expanded="true"===d.attr(r),o&&(c.checked=a(d).prop(A)),this._syncHtmlAndDataSource(d.children("ul"),c.children)},_animation:function(){var e=this.options,t=e.animation;t===!1?t={expand:{effects:{}},collapse:{hide:!0,effects:{}}}:t.collapse&&"effects"in t.collapse||(t.collapse=v({reverse:!0},t.expand)),v(t.collapse,{hide:!0}),e.animation=t},_dragging:function(){var e=this.options.dragAndDrop,t=this.dragging;e&&!t?this.dragging=new l(this):!e&&t&&(t.destroy(),this.dragging=null)},_templates:function(){var e=this,t=e.options,n=w(e._fieldAccessor,e);t.template&&typeof t.template==$?t.template=b(t.template):t.template||(t.template=i("# var text = "+n("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")),e._checkboxes(),e.templates={wrapperCssClass:function(e,t){var n="k-item",i=t.index;return e.firstLevel&&0===i&&(n+=" k-first"),i==e.length-1&&(n+=" k-last"),n},cssClass:function(e,t){var n="",i=t.index,a=e.length-1;return e.firstLevel&&0===i&&(n+="k-top "),n+=0===i&&i!=a?"k-top":i==a?"k-bot":"k-mid"},textClass:function(e){var t="k-in";return e.enabled===!1&&(t+=" k-state-disabled"),e.selected===!0&&(t+=" k-state-selected"),t},toggleButtonClass:function(e){var t="k-icon";return t+=e.expanded!==!0?" k-plus":" k-minus",e.enabled===!1&&(t+="-disabled"),t},groupAttributes:function(e){return e.expanded!==!0?" style='display:none'":""},groupCssClass:function(e){var t="k-group";return e.firstLevel&&(t+=" k-treeview-lines"),t},dragClue:i("<div class='k-header k-drag-clue'><span class='k-icon k-drag-status' />#= data.treeview.template(data) #</div>"),group:i("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) # role='group'>#= data.renderItems(data) #</ul>"),itemContent:i("# var imageUrl = "+n("imageUrl")+"(data.item); ## var spriteCssClass = "+n("spriteCssClass")+"(data.item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #' /># } ##= data.treeview.template(data) #"),itemElement:i("# var item = data.item, r = data.r; ## var url = "+n("url")+"(item); #<div class='#= r.cssClass(data.group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #' role='presentation' /># } ## if (data.treeview.checkboxes) { #<span class='k-checkbox' role='presentation'>#= data.treeview.checkboxes.template(data) #</span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag#  class='#= r.textClass(item) #'#= textAttr #>#= r.itemContent(data) #</#=tag#></div>"),item:i("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' "+f.attr("uid")+"='#= item.uid #'#=item.selected ? \"aria-selected='true'\" : ''##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= r.itemElement(data) #</li>"),loading:i("<div class='k-icon k-loading' /> #: data.messages.loading #"),retry:i("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #</button>")}},items:function(){return this.element.find(".k-item")},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.dataSource.fetch()},_bindDataSource:function(){this._refreshHandler=w(this.refresh,this),this._errorHandler=w(this._error,this),this.dataSource.bind(E,this._refreshHandler),this.dataSource.bind(F,this._errorHandler)},_unbindDataSource:function(){var e=this.dataSource;e&&(e.unbind(E,this._refreshHandler),e.unbind(F,this._errorHandler))},_dataSource:function(e){function t(e){for(var n=0;e.length>n;n++)e[n]._initChildren(),e[n].children.fetch(),t(e[n].children.view())}var n=this,i=n.options,a=i.dataSource;a=_(a)?{data:a}:a,n._unbindDataSource(),a.fields||(a.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),n.dataSource=a=k.create(a),e&&(a.fetch(),t(a.view())),n._bindDataSource()},events:[z,I,R,N,P,D,H,T,E,S],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},dragAndDrop:!1,checkboxes:!1,autoBind:!0,loadOnDemand:!0,template:"",dataTextField:null},_accessors:function(){var e,t,n,i=this,a=i.options,r=i.element;for(e in Q)t=a[Q[e]],n=r.attr(f.attr(e+"-field")),!t&&n&&(t=n),t||(t=e),_(t)||(t=[t]),a[Q[e]]=t},_fieldAccessor:function(t){var n=this.options[Q[t]],i=n.length,a="(function(item) {";return 0===i?a+="return item['"+t+"'];":(a+="var levels = ["+e.map(n,function(e){return"function(d){ return "+f.expr(e)+"}"}).join(",")+"];",a+="return levels[Math.min(item.level(), "+i+"-1)](item)"),a+="})"},setOptions:function(e){y.fn.setOptions.call(this,e),this._animation(),this._dragging(),this._templates()},_trigger:function(e,t){return this.trigger(e,{node:t.closest(q)[0]})},_setChecked:function(t,n){if(t&&e.isFunction(t.view))for(var i=0,a=t.view();a.length>i;i++)a[i][A]=n,a[i].children&&this._setChecked(a[i].children,n)},_setIndeterminate:function(e){var t,n,i,r=c(e),o=!0;if(r.length&&(t=a(r.children()),n=t.length)){if(n>1){for(i=1;n>i;i++)if(t[i].checked!=t[i-1].checked||t[i].indeterminate||t[i-1].indeterminate){o=!1;break}}else o=!t[0].indeterminate;return a(e).data(M,!o).prop(M,!o).prop(A,o&&t[0].checked)}},updateIndeterminate:function(e){var t,n,i;if(e=e||this.wrapper,t=c(e).children(),t.length){for(n=0;t.length>n;n++)this.updateIndeterminate(t.eq(n));i=this._setIndeterminate(e),i&&i.prop(A)&&(this.dataItem(e).checked=!0)}},_bubbleIndeterminate:function(e){if(e.length){var t,n=this.parent(e);n.length&&(this._setIndeterminate(n),t=n.children("div").find(".k-checkbox :checkbox"),t.prop(M)===!1?this.dataItem(n).set(A,t.prop(A)):this.dataItem(n).checked=!1,this._bubbleIndeterminate(n))}},_checkboxChange:function(t){var n=e(t.target),i=n.prop(A),a=n.closest(q);this.dataItem(a).set(A,i)},_toggleButtonClick:function(t){this.toggle(e(t.target).closest(q))},_mousedown:function(t){var n=e(t.currentTarget).closest(q);this._clickTarget=n,this.current(n)},_focusable:function(e){return e&&e.length&&e.is(":visible")&&!e.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var t=this.select(),n=this._clickTarget;f.support.touch||(n&&n.length&&(t=n),this._focusable(t)||(t=this.current()),this._focusable(t)||(t=this._nextVisible(e())),this.current(t))},focus:function(){var e,t=this.wrapper,n=t[0],i=[],a=[],r=document.documentElement;do n=n.parentNode,n.scrollHeight>n.clientHeight&&(i.push(n),a.push(n.scrollTop));while(n!=r);for(t.focus(),e=0;i.length>e;e++)i[e].scrollTop=a[e]},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(e){return!e.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(t){var n,i,a=/\bk-treeview\b/,r=/\bk-item\b/;typeof t==$&&(t=this.element.find(t)),Y(t)||(t=t[0]),i=r.test(t.className);do t=t.parentNode,r.test(t.className)&&(i?n=t:i=!0);while(!a.test(t.className)&&!n);return e(n)},_nextVisible:function(e){function t(e){for(;e.length&&!e.next().length;)e=i.parent(e);return e.next().length?e.next():e}var n,i=this,a=i._expanded(e);return e.length&&e.is(":visible")?a?(n=c(e).children().first(),n.length||(n=t(e))):n=t(e):n=i.root.children().eq(0),i._enabled(n)||(n=i._nextVisible(n)),n},_previousVisible:function(e){var t,n,i=this;if(!e.length||e.prev().length)for(n=e.length?e.prev():i.root.children().last();i._expanded(n)&&(t=c(n).children().last(),t.length);)n=t;else n=i.parent(e)||e;return i._enabled(n)||(n=i._previousVisible(n)),n},_keydown:function(n){var i,a=this,r=n.keyCode,o=a.current(),s=a._expanded(o),l=o.find(".k-checkbox:first :checkbox"),d=f.support.isRtl(a.element);n.target==n.currentTarget&&(!d&&r==x.RIGHT||d&&r==x.LEFT?s?i=a._nextVisible(o):a.expand(o):!d&&r==x.LEFT||d&&r==x.RIGHT?s?a.collapse(o):(i=a.parent(o),a._enabled(i)||(i=t)):r==x.DOWN?i=a._nextVisible(o):r==x.UP?i=a._previousVisible(o):r==x.HOME?i=a._nextVisible(e()):r==x.END?i=a._previousVisible(e()):r==x.ENTER?o.find(".k-in:first").hasClass("k-state-selected")||a._trigger(T,o)||a.select(o):r==x.SPACEBAR&&l.length&&(l.prop(A,!l.prop(A)).data(M,!1).prop(M,!1),a._checkboxChange({target:l}),i=o),i&&(n.preventDefault(),o[0]!=i[0]&&(a._trigger(S,i),a.current(i))))},_click:function(t){var n,i=this,a=e(t.currentTarget),r=u(a.closest(q)),o=a.attr("href");n=o?"#"==o||o.indexOf("#"+this.element.id+"-")>=0:r.length&&!r.children().length,n&&t.preventDefault(),a.hasClass(".k-state-selected")||i._trigger(T,a)||i.select(a)},_wrapper:function(){var e,t,n=this,i=n.element,a="k-widget k-treeview";i.is("ul")?(e=i.wrap("<div />").parent(),t=i):(e=i,t=e.children("ul").eq(0)),n.wrapper=e.addClass(a),n.root=t},_group:function(e){var t=this,n=e.hasClass(W),i={firstLevel:n,expanded:n||t._expanded(e)},a=e.children("ul");a.addClass(t.templates.groupCssClass(i)).css("display",i.expanded?"":"none"),t._nodes(a,i)},_nodes:function(t,n){var i,a=this,r=t.children("li");n=v({length:r.length},n),r.each(function(t,r){r=e(r),i={index:t,expanded:a._expanded(r)},s(r),a._updateNodeClasses(r,n,i),a._group(r)})},_checkboxes:function(){var e,t=this.options,n=t.checkboxes;(n||t.checkboxTemplate)&&(t.checkboxTemplate?e=t.checkboxTemplate:(e="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #",n.name&&(e+=" name='"+n.name+"'"),e+=" />"),n=v({template:e},t.checkboxes),typeof n.template==$&&(n.template=b(n.template)),t.checkboxes=n)},_updateNodeClasses:function(e,t,n){var i=e.children("div"),a=e.children("ul"),r=this.templates;e.hasClass("k-treeview")||(n=n||{},n.expanded=typeof n.expanded!=B?n.expanded:this._expanded(e),n.index=typeof n.index!=B?n.index:e.index(),n.enabled=typeof n.enabled!=B?n.enabled:!i.children(".k-in").hasClass("k-state-disabled"),t=t||{},t.firstLevel=typeof t.firstLevel!=B?t.firstLevel:e.parent().parent().hasClass(W),t.length=typeof t.length!=B?t.length:e.parent().children().length,e.removeClass("k-first k-last").addClass(r.wrapperCssClass(t,n)),i.removeClass("k-top k-mid k-bot").addClass(r.cssClass(t,n)),i.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(r.textClass(n)),(a.length||"true"==e.attr("data-hasChildren"))&&(i.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(r.toggleButtonClass(n)),a.addClass("k-group")))},_processNodes:function(t,n){var i=this;i.element.find(t).each(function(t,a){n.call(i,t,e(a).closest(q))})},dataItem:function(t){var n=e(t).closest(q).attr(f.attr("uid")),i=this.dataSource;return i&&i.getByUid(n)},_insertNode:function(t,n,i,a,r){var o,l,d,u,h=this,p=c(i),f=p.children().length+1,g={firstLevel:i.hasClass(W),expanded:!r,length:f},m="",v=function(e,t){e.appendTo(t)};for(d=0;t.length>d;d++)u=t[d],u.index=n+d,m+=h._renderItem({group:g,item:u});if(l=e(m),l.length){for(p.length||(p=e(h._renderGroup({group:g})).appendTo(i)),a(l,p),i.hasClass("k-item")&&(s(i),h._updateNodeClasses(i)),h._updateNodeClasses(l.prev().first()),h._updateNodeClasses(l.next().last()),d=0;t.length>d;d++)u=t[d],u.hasChildren&&(o=u.children.data(),o.length&&h._insertNode(o,u.index,l.eq(d),v,!h._expanded(l.eq(d))));return l}},_updateNode:function(t,n){function i(){p=!0}function a(e,t){e.find(".k-checkbox :checkbox").prop(A,t).data(M,!1).prop(M,!1)}var r,o,s,l,d,c=this,h={treeview:c.options,item:s},p=!1;if("selected"==t)s=n[0],o=c.findByUid(s.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",s[t]).end(),s[t]?(c.current(o),o.attr(U,!0)):o.attr(U,!1);else for(e.inArray(t,c.options.dataTextField)>=0?p=!0:(h.item=n[0],h.item.bind("get",i),c.templates.itemContent(h),h.item.unbind("set",i)),r=0;n.length>r;r++)h.item=s=n[r],("spriteCssClass"==t||"imageUrl"==t||p)&&c.findByUid(s.uid).find(">div>.k-in").html(c.templates.itemContent(h)),t==A?(o=c.findByUid(s.uid),l=s[t],a(o.children("div"),l),c.options.checkboxes.checkChildren&&(a(o.children(".k-group"),l),c._setChecked(s.children,l),c._bubbleIndeterminate(o))):"expanded"==t?c._toggle(c.findByUid(s.uid),s,s[t]):"enabled"==t&&(o=c.findByUid(s.uid),o.find(".k-checkbox :checkbox").prop("disabled",!s[t]),d=!u(o).is(V),o.removeAttr(G),s[t]||(s.selected&&s.set("selected",!1),s.expanded&&s.set("expanded",!1),d=!0,o.removeAttr(U).attr(G,!0)),c._updateNodeClasses(o,{},{enabled:s[t],expanded:!d}))},_appendItems:function(e,t,n){var i=c(n),a=i.children(),r=!this._expanded(n);typeof e==B&&(e=a.length),this._insertNode(t,e,n,function(t,n){e>=a.length?t.appendTo(n):t.insertBefore(a.eq(e))},r),this._expanded(n)&&(this._updateNodeClasses(n),c(n).css("display","block"))},refresh:function(n){var i,a,r,o=this,l=o.wrapper,d=n.node,u=n.action,h=n.items,p=o.options,f=p.loadOnDemand,g=p.checkboxes&&p.checkboxes.checkChildren;if(n.field){if(!h[0].level)return;return o._updateNode(n.field,h)}if(d&&(l=o.findByUid(d.uid),o._progress(l,!1)),g&&"remove"!=u&&d&&d.checked)for(i=0;h.length>i;i++)h[i].checked=!0;for("add"==u?this._appendItems(n.index,h,l):"remove"==u?o._remove(o.findByUid(h[0].uid),!1):d?(c(l).empty(),h.length?(this._appendItems(n.index,h,l),f&&g&&this._bubbleIndeterminate(c(l).children().last())):s(l)):(a=o._renderGroup({items:h,group:{firstLevel:!0,expanded:!0}}),o.root.length?(r=e(a),o.root.attr("class",r.attr("class")).attr("role",r.attr("role")).html(r.html())):o.root=o.wrapper.html(a).children("ul")),i=0;h.length>i;i++)(!f||h[i].expanded)&&h[i].load();o.trigger(P,{node:d?l:t})},_error:function(e){var t=e.node&&this.findByUid(e.node.uid),n=this.templates.retry({messages:this.options.messages});t?(this._progress(t,!1),this._expanded(t,!1),h(t).addClass("k-i-refresh"),e.node.loaded(!1)):(this._progress(!1),this.element.html(n))},_retryRequest:function(e){e.preventDefault(),this.dataSource.fetch()},expand:function(e){this._processNodes(e,function(e,t){this.toggle(t,!0)})},collapse:function(e){this._processNodes(e,function(e,t){this.toggle(t,!1)})},enable:function(e,t){t=2==arguments.length?!!t:!0,this._processNodes(e,function(e,n){this.dataItem(n).set("enabled",t)})},current:function(n){var i=this,a=i._current,r=i.element,o=i._ariaId;return arguments.length>0&&n&&n.length?(a&&(a[0].id===o&&a.removeAttr("id"),a.find(".k-in:first").removeClass("k-state-focused")),a=i._current=e(n,r).closest(q),a.find(".k-in:first").addClass("k-state-focused"),o=a[0].id||o,o&&(i.wrapper.removeAttr("aria-activedescendant"),a.attr("id",o),i.wrapper.attr("aria-activedescendant",o)),t):(a||(a=i._nextVisible(e())),a)},select:function(n){var i=this,a=i.element;return arguments.length?(n=e(n,a).closest(q),a.find(".k-state-selected").each(function(){var e=i.dataItem(this);e.set("selected",!1),delete e.selected}),n.length&&i.dataItem(n).set("selected",!0),i.trigger(E),t):a.find(".k-state-selected").closest(q)},_toggle:function(e,t,n){var i,a=this,r=a.options,o=u(e),s=n?"expand":"collapse",l=r.animation[s];if(!o.data("animating")&&!a._trigger(s,e))if(a._expanded(e,n),i=t&&t.loaded(),i&&o.children().length>0){if(a._updateNodeClasses(e,{},{expanded:n}),o.css("display")==(n?"block":"none"))return;n||o.css("height",o.height()).css("height"),o.kendoStop(!0,!0).kendoAnimate(v({reset:!0},l,{complete:function(){n&&o.css("height","")}}))}else n&&(r.loadOnDemand&&a._progress(e,!0),o.remove(),t.load())
},toggle:function(t,n){t=e(t),h(t).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")&&(1==arguments.length&&(n=!this._expanded(t)),this._expanded(t,n))},destroy:function(){var e=this;y.fn.destroy.call(e),e.wrapper.off(C),e._unbindDataSource(),e.dragging&&e.dragging.destroy(),f.destroy(e.element),e.root=e.wrapper=e.element=null},_expanded:function(e,n){var i=f.attr("expanded"),a=this.dataItem(e);return 1==arguments.length?"true"===e.attr(i)||a&&a.expanded:(u(e).data("animating")||(a&&(a.set("expanded",n),n=a.expanded),n?(e.attr(i,"true"),e.attr("aria-expanded","true")):(e.removeAttr(i),e.attr("aria-expanded","false"))),t)},_progress:function(e,t){var n=this.element,i=this.templates.loading({messages:this.options.messages});1==arguments.length?(t=e,t?n.html(i):n.empty()):h(e).toggleClass("k-loading",t).removeClass("k-i-refresh")},text:function(e,n){var i=this.dataItem(e),a=this.options[Q.text],r=i.level(),o=a.length,s=a[Math.min(r,o-1)];return n?(i.set(s,n),t):i[s]},_objectOrSelf:function(t){return e(t).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(e,t,n,i){var a,r=this._objectOrSelf(n||t),o=r.dataSource;return n&&n[0]!=r.element[0]&&(a=r.dataItem(n),a.loaded()||(r._progress(n,!0),a.load()),n!=this.root&&(o=a.children,o&&o instanceof k||(a._initChildren(),a.loaded(!0),o=a.children))),e=this._toObservableData(e),i.call(this,o,e)},_toObservableData:function(t){var n,i,a=t;return(t instanceof window.jQuery||Y(t))&&(n=this._objectOrSelf(t).dataSource,i=e(t).attr(f.attr("uid")),a=n.getByUid(i),a&&(a=n.remove(a))),a},_insert:function(e,t,n){t instanceof f.data.ObservableArray?t=t.toJSON():_(t)||(t=[t]);var i=e.parent();return i&&i._initChildren&&(i.hasChildren=!0,i._initChildren()),e.splice.apply(e,[n,0].concat(t)),this.findByUid(e[n].uid)},insertAfter:r(1),insertBefore:r(0),append:function(t,n,i){var a=this,r=a.root;return i=i||e.noop,n&&(r=c(n)),a._dataSourceMove(t,r,n,function(e,t){function r(){n&&a._expanded(n,!0);var i=e.data(),r=Math.max(i.length,0);return a._insert(i,t,r)}var o;return e.data()?(o=r(),i(o),o):(e.one(E,function(){i(r())}),null)})},_remove:function(t,n){var i,a,r,o=this;return t=e(t,o.element),i=t.parent().parent(),a=t.prev(),r=t.next(),t[n?"detach":"remove"](),i.hasClass("k-item")&&(s(i),o._updateNodeClasses(i)),o._updateNodeClasses(a),o._updateNodeClasses(r),t},remove:function(e){var t=this.dataItem(e);t&&this.dataSource.remove(t)},detach:function(e){return this._remove(e,!0)},findByText:function(t){return e(this.element).find(".k-in").filter(function(n,i){return e(i).text()==t}).closest(q)},findByUid:function(e){return this.element.find(".k-item["+f.attr("uid")+"="+e+"]")},expandPath:function(n,i){var a=this.dataSource,r=a.get(n[0]);for(i=i||e.noop;n.length>0&&(r.expanded||r.loaded());)r.set("expanded",!0),n.shift(),r=a.get(n[0]);return n.length?(a.bind("change",function(e){var t=e.node&&e.node.id;t&&t===n[0]&&(n.shift(),n.length?a.get(n[0]).set("expanded",!0):i())}),r.set("expanded",!0),t):i()},_renderItem:function(e){return e.group||(e.group={}),e.treeview=this.options,e.r=this.templates,this.templates.item(e)},_renderGroup:function(e){var t=this;return e.renderItems=function(e){var n="",i=0,a=e.items,r=a?a.length:0,o=e.group;for(o.length=r;r>i;i++)e.group=o,e.item=a[i],e.item.index=i,n+=t._renderItem(e);return n},e.r=t.templates,t.templates.group(e)}}),l.prototype={_removeTouchHover:function(){var e=this;f.support.touch&&e.hovered&&(e.hovered.find("."+j).removeClass(j),e.hovered=!1)},_hintStatus:function(n){var i=this._draggable.hint.find(".k-drag-status")[0];return n?(i.className="k-icon k-drag-status "+n,t):e.trim(i.className.replace(/k-(icon|drag-status)/g,""))},dragstart:function(t){var n=this,i=n.treeview,a=n.sourceNode=t.currentTarget.closest(q);i.trigger(z,{sourceNode:a[0]})&&t.preventDefault(),n.dropHint=e("<div class='k-drop-hint' />").css(L,"hidden").appendTo(i.element)},drag:function(t){var n,i,a,r,o,s,l,d,c,u,h=this,p=h.treeview,g=h.sourceNode,m=h.dropTarget=e(f.eventTarget(t)),v=m.closest(".k-treeview");v.length?e.contains(g[0],m[0])?n="k-denied":(n="k-insert-middle",i=m.closest(".k-top,.k-mid,.k-bot"),i.length?(r=i.outerHeight(),o=f.getOffset(i).top,s=m.closest(".k-in"),l=r/(s.length>0?4:2),d=o+l>t.y.location,c=t.y.location>o+r-l,h._removeTouchHover(),u=s.length&&!d&&!c,h.hovered=u?v:!1,h.dropHint.css(L,u?"hidden":"visible"),s.toggleClass(j,u),u?n="k-add":(a=i.position(),a.top+=d?0:r,h.dropHint.css(a)[d?"prependTo":"appendTo"](m.closest(q).children("div:first")),d&&i.hasClass("k-top")&&(n="k-insert-top"),c&&i.hasClass("k-bot")&&(n="k-insert-bottom"))):m[0]!=h.dropHint[0]&&(n=v[0]!=p.element[0]?"k-add":"k-denied")):(n="k-denied",h._removeTouchHover()),p.trigger(I,{sourceNode:g[0],dropTarget:m[0],pageY:t.y.location,pageX:t.x.location,statusClass:n.substring(2),setStatusClass:function(e){n=e}}),0!==n.indexOf("k-insert")&&h.dropHint.css(L,"hidden"),h._hintStatus(n)},dragcancel:function(){this.dropHint.remove()},dragend:function(){function e(e){o.trigger(N,{sourceNode:e&&e[0],destinationNode:n[0],dropPosition:s})}var n,i,a,r=this,o=r.treeview,s="over",l=r.sourceNode,d=r.dropHint,c=r.dropTarget;return"visible"==d.css(L)?(s=d.prevAll(".k-in").length>0?"after":"before",n=d.closest(q)):c&&(n=c.closest(q),n.length||(n=c.closest(".k-treeview"))),i={sourceNode:l[0],destinationNode:n[0],valid:"k-denied"!=r._hintStatus(),setValid:function(e){this.valid=e},dropTarget:c[0],dropPosition:s},a=o.trigger(R,i),d.remove(),r._removeTouchHover(),!i.valid||a?(r._draggable.dropped=i.valid,t):(r._draggable.dropped=!0,"over"==s?o.append(l,n,e):("before"==s?l=o.insertBefore(l,n):"after"==s&&(l=o.insertAfter(l,n)),e(l)),t)},destroy:function(){this._draggable.destroy()}},g.plugin(d)}(window.kendo.jQuery),function(e,t){function n(e){return m.test(e)}function i(e){return g.test(e)||/^\d+$/.test(e)}function a(e){return!n(e)&&!i(e)}function r(e,n){return function(i,a){var r,o=this.element.find(i).data(E);return 1==arguments.length?o[e]:(o[e]=a,n&&(r=this.element.data("kendo"+this.options.name),r.resize(!0)),t)}}function o(e){var t=this,n=e.orientation;t.owner=e,t._element=e.element,t.orientation=n,h(t,n===C?l:s),t._resizable=new d.ui.Resizable(e.element,{orientation:n,handle:".k-splitbar-draggable-"+n+"[data-marker="+e._marker+"]",hint:p(t._createHint,t),start:p(t._start,t),max:p(t._max,t),min:p(t._min,t),invalidClass:"k-restricted-size-"+n,resizeend:p(t._stop,t)})}var s,l,d=window.kendo,c=d.ui,u=d.keys,h=e.extend,p=e.proxy,f=c.Widget,g=/^\d+(\.\d+)?px$/i,m=/^\d+(\.\d+)?%$/i,v=".kendoSplitter",b="expand",_="collapse",y="contentLoad",k="error",w="resize",x="layoutChange",C="horizontal",T="vertical",S="mouseenter",D="click",E="pane",F="mouseleave",A="k-state-focused",M="k-"+E,H="."+M,z=f.extend({init:function(e,t){var n,i=this;f.fn.init.call(i,e,t),i.wrapper=i.element,n=i.options.orientation.toLowerCase()!=T,i.orientation=n?C:T,i._dimension=n?"width":"height",i._keys={decrease:n?u.LEFT:u.UP,increase:n?u.RIGHT:u.DOWN},i._resizeStep=10,i._marker=d.guid().substring(0,8),i._resizeHandler=function(){i.resize()},i._initPanes(),i.resizing=new o(i),i.element.triggerHandler("init"+v)},events:[b,_,y,k,w,x],_attachEvents:function(){var t=this,n=t.options.orientation;t.element.children(".k-splitbar-draggable-"+n).on("keydown"+v,e.proxy(t._keydown,t)).on("mousedown"+v,function(e){e.currentTarget.focus()}).on("focus"+v,function(t){e(t.currentTarget).addClass(A)}).on("blur"+v,function(n){e(n.currentTarget).removeClass(A),t.resizing&&t.resizing.end()}).on(S+v,function(){e(this).addClass("k-splitbar-"+t.orientation+"-hover")}).on(F+v,function(){e(this).removeClass("k-splitbar-"+t.orientation+"-hover")}).on("mousedown"+v,function(){t._panes().append("<div class='k-splitter-overlay k-overlay' />")}).on("mouseup"+v,function(){t._panes().children(".k-splitter-overlay").remove()}).end().children(".k-splitbar").on("dblclick"+v,p(t._togglePane,t)).children(".k-collapse-next, .k-collapse-prev").on(D+v,t._arrowClick(_)).end().children(".k-expand-next, .k-expand-prev").on(D+v,t._arrowClick(b)).end().end(),e(window).on("resize",t._resizeHandler)},_detachEvents:function(){var t=this;t.element.children(".k-splitbar-draggable-"+t.orientation).off(v).end().children(".k-splitbar").off("dblclick"+v).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(v),e(window).off("resize",t._resizeHandler)},options:{name:"Splitter",orientation:C,panes:[]},destroy:function(){var e=this;f.fn.destroy.call(e),e._detachEvents(),e.resizing&&e.resizing.destroy(),d.destroy(e.element)},_keydown:function(t){var n,i=this,a=t.keyCode,r=i.resizing,o=e(t.currentTarget),s=i._keys,l=a===s.increase,d=a===s.decrease;l||d?(t.ctrlKey?(n=o[d?"next":"prev"](),r&&r.isResizing()&&r.end(),n[i._dimension]()?i._triggerAction(_,o[d?"prev":"next"]()):i._triggerAction(b,n)):r&&r.move((d?-1:1)*i._resizeStep,o),t.preventDefault()):a===u.ENTER&&r&&(r.end(),t.preventDefault())},_initPanes:function(){var e=this,t=e.options.panes||[];e.element.addClass("k-widget").addClass("k-splitter").children(":not(script)").each(function(n,i){var a=t&&t[n];e._initPane(i,a)}).end(),e.resize()},_initPane:function(t,n){t=e(t).attr("role","group").addClass(M),t.data(E,n?n:{}).toggleClass("k-scrollable",n?n.scrollable!==!1:!0),this.ajaxRequest(t)},ajaxRequest:function(e,t,n){var i,a=this;e=a.element.find(e),i=e.data(E),t=t||i.contentUrl,t&&(e.append("<span class='k-icon k-loading k-pane-loading' />"),d.isLocalUrl(t)?jQuery.ajax({url:t,data:n||{},type:"GET",dataType:"html",success:function(t){e.html(t),a.trigger(y,{pane:e[0]})},error:function(t,n){a.trigger(k,{pane:e[0],status:n,xhr:t})}}):e.removeClass("k-scrollable").html("<iframe src='"+t+"' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>"))},_triggerAction:function(e,t){this.trigger(e,{pane:t[0]})||this[e](t[0])},_togglePane:function(t){var n,i=this,a=e(t.target);a.closest(".k-splitter")[0]==i.element[0]&&(n=a.children(".k-icon:not(.k-resize-handle)"),1===n.length&&(n.is(".k-collapse-prev")?i._triggerAction(_,a.prev()):n.is(".k-collapse-next")?i._triggerAction(_,a.next()):n.is(".k-expand-prev")?i._triggerAction(b,a.prev()):n.is(".k-expand-next")&&i._triggerAction(b,a.next())))},_arrowClick:function(t){var n=this;return function(i){var a,r=e(i.target);r.closest(".k-splitter")[0]==n.element[0]&&(a=r.is(".k-"+t+"-prev")?r.parent().prev():r.parent().next(),n._triggerAction(t,a))}},_updateSplitBar:function(e,t,n){var i=function(e,t){return t?"<div class='k-icon "+e+"' />":""},a=this.orientation,r=t.resizable!==!1&&n.resizable!==!1,o=t.collapsible,s=t.collapsed,l=n.collapsible,d=n.collapsed;e.addClass("k-splitbar k-state-default k-splitbar-"+a).attr("role","separator").attr("aria-expanded",!(s||d)).removeClass("k-splitbar-"+a+"-hover").toggleClass("k-splitbar-draggable-"+a,r&&!s&&!d).toggleClass("k-splitbar-static-"+a,!r&&!o&&!l).html(i("k-collapse-prev",o&&!s&&!d)+i("k-expand-prev",o&&s&&!d)+i("k-resize-handle",r)+i("k-collapse-next",l&&!d&&!s)+i("k-expand-next",l&&d&&!s))},_updateSplitBars:function(){var t=this;this.element.children(".k-splitbar").each(function(){var n=e(this),i=n.prevAll(H).first().data(E),a=n.nextAll(H).first().data(E);a&&t._updateSplitBar(n,i,a)})},_removeSplitBars:function(){this.element.children(".k-splitbar").remove()},_panes:function(){return this.element.children(H)},_resize:function(){var i,r,o,s,l,c,u,h,p,f,g=this,m=g.element,v=m.children(H),b=g.orientation==C,_=m.children(".k-splitbar"),y=_.length,k=b?"width":"height",w=m[k]();0===y?(y=v.length-1,v.slice(0,y).after("<div tabindex='0' class='k-splitbar' data-marker='"+g._marker+"' />"),g._updateSplitBars(),_=m.children(".k-splitbar")):g._updateSplitBars(),_.each(function(){w-=this[b?"offsetWidth":"offsetHeight"]}),i=0,r=0,o=e(),v.css({position:"absolute",top:0})[k](function(){var s,l=e(this).data(E)||{};if(l.collapsed)s=0,e(this).css("overflow","hidden");else{if(a(l.size))return o=o.add(this),t;s=parseInt(l.size,10),n(l.size)&&(s=Math.floor(s*w/100))}return r++,i+=s,s}),w-=i,s=o.length,l=Math.floor(w/s),o.slice(0,s-1).css(k,l).end().eq(s-1).css(k,w-(s-1)*l),c=0,u=b?"height":"width",h=b?"left":"top",p=b?"offsetWidth":"offsetHeight",0===s&&(f=v.filter(function(){return!(e(this).data(E)||{}).collapsed}).last(),f[k](w+f[0][p])),m.children(":not(script)").css(u,m[u]()).each(function(e,t){t.style[h]=Math.floor(c)+"px",c+=t[p]}),g._detachEvents(),g._attachEvents(),d.resize(v),g.trigger(x)},toggle:function(e,n){var i,a=this;e=a.element.find(e),i=e.data(E),(n||i.collapsible)&&(1==arguments.length&&(n=i.collapsed===t?!1:i.collapsed),i.collapsed=!n,i.collapsed?e.css("overflow","hidden"):e.css("overflow",""),a.resize(!0))},collapse:function(e){this.toggle(e,!1)},expand:function(e){this.toggle(e,!0)},_addPane:function(e,t,n){var i=this;return n.length&&(i.options.panes.splice(t,0,e),i._initPane(n,e),i._removeSplitBars(),i.resize(!0)),n},append:function(t){t=t||{};var n=this,i=e("<div />").appendTo(n.element);return n._addPane(t,n.options.panes.length,i)},insertBefore:function(t,n){n=e(n),t=t||{};var i=this,a=i.wrapper.children(".k-pane").index(n),r=e("<div />").insertBefore(e(n));return i._addPane(t,a,r)},insertAfter:function(t,n){n=e(n),t=t||{};var i=this,a=i.wrapper.children(".k-pane").index(n),r=e("<div />").insertAfter(e(n));return i._addPane(t,a+1,r)},remove:function(t){t=e(t);var n=this;return t.length&&(d.destroy(t),t.each(function(t,i){n.options.panes.splice(n.wrapper.children(".k-pane").index(i),1),e(i).remove()}),n._removeSplitBars(),n.options.panes.length&&n.resize(!0)),n},size:r("size",!0),min:r("min"),max:r("max")});c.plugin(z),s={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},l={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"},o.prototype={press:function(e){this._resizable.press(e)},move:function(e,t){this.pressed||(this.press(t),this.pressed=!0),this._resizable.target||this._resizable.press(t),this._resizable.move(e)},end:function(){this._resizable.end(),this.pressed=!1},destroy:function(){this._resizable.destroy()},isResizing:function(){return this._resizable.resizing},_createHint:function(t){var n=this;return e("<div class='k-ghost-splitbar k-ghost-splitbar-"+n.orientation+" k-state-default' />").css(n.alternateSizingProperty,t[n.alternateSizingProperty]())},_start:function(t){var n=this,a=e(t.currentTarget),r=a.prev(),o=a.next(),s=r.data(E),l=o.data(E),d=parseInt(r[0].style[n.positioningProperty],10),c=parseInt(o[0].style[n.positioningProperty],10)+o[0][n.sizingDomProperty]-a[0][n.sizingDomProperty],u=parseInt(n._element.css(n.sizingProperty),10),h=function(e){var t=parseInt(e,10);return(i(e)?t:u*t/100)||0},p=h(s.min),f=h(s.max)||c-d,g=h(l.min),m=h(l.max)||c-d;n.previousPane=r,n.nextPane=o,n._maxPosition=Math.min(c-g,d+f),n._minPosition=Math.max(d+p,c-m)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(t){var n,i,r,o,s,l,c,u,h=this,p=e(t.currentTarget),f=h.owner;return f._panes().children(".k-splitter-overlay").remove(),t.keyCode!==d.keys.ESC&&(n=t.position,i=p.prev(),r=p.next(),o=i.data(E),s=r.data(E),l=n-parseInt(i[0].style[h.positioningProperty],10),c=parseInt(r[0].style[h.positioningProperty],10)+r[0][h.sizingDomProperty]-n-p[0][h.sizingDomProperty],u=h._element.children(H).filter(function(){return a(e(this).data(E).size)}).length,(!a(o.size)||u>1)&&(a(o.size)&&u--,o.size=l+"px"),(!a(s.size)||u>1)&&(s.size=c+"px"),f.resize(!0)),!1}}}(window.kendo.jQuery),function(e){function t(e,t){function n(e,a){var r,o;if(a=a[t])for(r=i[e]=i[e]||[],o=0;a.length>o;o++)r.push(a[o]),n(e+1,a[o])}var i=[];return n(0,e),i}function n(){return A.support.cssBorderSpacing?"":'cellspacing="0"'}function i(t,i){return t.length?"<table "+n()+' class="'+e.trim("k-scheduler-table "+(i||""))+'"><tr>'+t.join("</tr><tr>")+"</tr></table>":""}function a(e,t){return e.length?"<div style='position:relative'>"+i(e,t)+"</div>":""}function r(t,n,a){var r,o=[];if(a>0)for(r=0;t>r;r++)o.push("<th></th>");return n&&o.push('<th class="k-scheduler-times-all-day">'+n.text+"</th>"),1>a?e():e('<div class="k-scheduler-times">'+i(o)+"</div>")}function o(t,n,r){var o,s,l,d,c,u,h,p,f,g=[];for(s=0;t.length>s;s++){for(l=t[s],d=[],c=n/l.length,o=0;l.length>o;o++)d.push('<th colspan="'+c+'" class="'+(l[o].className||"")+'">'+l[o].text+"</th>");g.push(d.join(""))}if(u=[],r){for(h=t[t.length-1],p=[],f=r.cellContent,o=0;h.length>o;o++)p.push('<td class="'+(h[o].className||"")+'">'+(f?f(o):"&nbsp;")+"</th>");u.push(p.join(""))}return e('<div class="k-scheduler-header k-state-default"><div class="k-scheduler-header-wrap">'+i(g)+a(u,"k-scheduler-header-all-day")+"</div></div>")}function s(t,n){var a,r,o,s,l,d=Array(n).join().split(","),c=[];for(r=0;t.length>r;r++)for(o=t[r],s=n/o.length,a=0;o.length>a;a++)l=o[a].className||"",o[a].allDay&&(l="k-scheduler-times-all-day"),d[s*a]+='<th class="'+l+'" rowspan="'+s+'">'+o[a].text+"</th>";for(a=0;n>a;a++)c.push(d[a]);return 1>n?e():e('<div class="k-scheduler-times">'+i(c)+"</div>")}function l(){return e('<div class="k-scheduler-content"><table '+n()+' class="k-scheduler-table"/></div>')}function d(){return D=D?D:A.support.scrollbar()}function c(e,t,n){var i,a,r,o,s;for(i=e.length-1;i>=0;i--)a=u(e[i]),r=a.start,s=a.end,o=t>=r&&s>=t,(o||r>=t&&n>=s||r>=t&&n>=r)&&(t>r&&(t=r),s>n&&(n=s));return h(e,t,n)}function u(e){return{start:e.start,end:e.end}}function h(e,t,n){var i,a,r=[];for(i=0;e.length>i;i++)a=u(e[i]),(t>a.start&&a.end>t||a.start>=t&&n>=a.end)&&r.push(e[i]);return r}function p(e){return g(e)}function f(e){return g(e)}function g(e){var t,n,i,a,r,o,s,l=[];for(t=0;e.length>t;t++){for(n=e[t],i=u(n),a=null,r=0,o=l.length;o>r;r++)if(s=i.start>l[r].end,l[r].start>i.start||s){a=l[r],i.end>a.end&&(a.end=i.end);break}a||(a={start:i.start,end:i.end,events:[]},l.push(a)),a.events.push(n)}return l}function m(e,t,n){var i,a,r,o,s=t[0];if(s){for(i=[],a=s.dataSource.view(),r=0;a.length>r;r++)o={text:A.getter(s.dataTextField)(a[r]),className:"k-slot-cell"},o[e]=m(e,t.slice(1),n),i.push(o);return i}return n}function v(t){return function(n){if(e.isArray(n)||n instanceof A.data.ObservableArray){for(var i=0;n.length>i;i++)if(n[i]==t)return!0;return!1}return n==t}}function b(e){e.className=e.className.replace(F,"")+" k-state-selected"}var _,y,k,w,x,C,T,S,D,E,F,A=window.kendo,M=A.ui,H=M.Widget,z=A.keys,I=".kendoSchedulerView",R=Math,N='<div class="k-marquee k-scheduler-marquee"><div class="k-marquee-color"></div><div class="k-marquee-text"><div class="k-label-top"></div><div class="k-label-bottom"></div></div></div>';A.ui.scheduler={},_=A.Class.extend({init:function(e){this._index=e,this._timeSlotCollections=[],this._daySlotCollections=[]},addTimeSlotCollection:function(e,t){return this._addCollection(e,t,this._timeSlotCollections)},addDaySlotCollection:function(e,t){return this._addCollection(e,t,this._daySlotCollections)},_addCollection:function(e,t,n){var i=new x(e,t,this._index,n.length);return n.push(i),i},timeSlotCollectionCount:function(){return this._timeSlotCollections.length},daySlotCollectionCount:function(){return this._daySlotCollections.length},daySlotByPosition:function(e,t){return this._slotByPosition(e,t,this._daySlotCollections)},timeSlotByPosition:function(e,t){return this._slotByPosition(e,t,this._timeSlotCollections)},_slotByPosition:function(e,t,n){var i,a,r,o;for(i=0;n.length>i;i++)for(a=n[i],r=0;r<a.count();r++)if(o=a.at(r),e>=o.offsetLeft&&o.offsetLeft+o.clientWidth>e&&t>=o.offsetTop&&o.offsetTop+o.clientHeight>=t)return o},refresh:function(){var e;for(e=0;this._daySlotCollections.length>e;e++)this._daySlotCollections[e].refresh();for(e=0;this._timeSlotCollections.length>e;e++)this._timeSlotCollections[e].refresh()},timeSlotRanges:function(e,t){var n,i=this._timeSlotCollections,a=this._startSlot(e,i);return!a.inRange&&e>=a.slot.end&&(a=null),n=a,t>e&&(n=this._endSlot(t,i)),n&&!n.inRange&&n.slot.start>=t&&(n=null),null===a&&null===n?[]:(null===a&&(a={inRange:!0,slot:i[n.slot.collectionIndex].first()}),null===n&&(n={inRange:!0,slot:i[a.slot.collectionIndex].last()}),this._continuousRange(k,i,a,n))},daySlotRanges:function(e,t,n){var i,a=this._daySlotCollections,r=this._startSlot(e,a,n);if(!r.inRange&&e>=r.slot.end&&(r=null),i=r,t>e&&(i=this._endSlot(t,a,n)),i&&!i.inRange&&i.slot.start>=t&&(i=null),null===r&&null===i)return[];if(null===r)do e+=A.date.MS_PER_DAY,r=this._startSlot(e,a,n);while(!r.inRange&&e>=r.slot.end);if(null===i)do t-=A.date.MS_PER_DAY,i=this._endSlot(t,a,n);while(!i.inRange&&i.slot.start>=t);return this._continuousRange(w,a,r,i)},_continuousRange:function(e,t,n,i){var a,r,o,s,l,d,c=n.slot,u=i.slot,h=c.collectionIndex,p=u.collectionIndex,f=[];for(a=h;p>=a;a++)r=t[a],o=r.first(),s=r.last(),l=!1,d=!1,a==h&&(d=!n.inRange),a==p&&(l=!i.inRange),c.start>o.start&&(o=c),s.start>u.start&&(s=u),p>h&&(a==h?l=!0:a==p?d=!0:l=d=!0),f.push(new e({start:o,end:s,collection:r,head:l,tail:d}));return f},slotRanges:function(e,t){var n=e.startTime||A.date.toUtcTime(e.start),i=e.endTime||A.date.toUtcTime(e.end);return void 0===t&&(t=e.isMultiDay()),t?this.daySlotRanges(n,i,e.isAllDay):this.timeSlotRanges(n,i)},ranges:function(e,t,n,i){return"number"!=typeof e&&(e=A.date.toUtcTime(e)),"number"!=typeof t&&(t=A.date.toUtcTime(t)),n?this.daySlotRanges(e,t,i):this.timeSlotRanges(e,t)},_startCollection:function(e,t){var n,i;for(n=0;t.length>n;n++)if(i=t[n],i.startInRange(e))return i;return null},_endCollection:function(e,t,n){var i,a;for(i=0;t.length>i;i++)if(a=t[i],a.endInRange(e,n))return a;return null},_getCollections:function(e){return e?this._daySlotCollections:this._timeSlotCollections},continuousSlot:function(e,t){var n=t?-1:1,i=this._getCollections(e.isDaySlot),a=i[e.collectionIndex+n];return a?a[t?"last":"first"]():void 0},firstSlot:function(){var e=this._getCollections(this.daySlotCollectionCount());return e[0].first()},lastSlot:function(){var e=this._getCollections(this.daySlotCollectionCount());return e[e.length-1].last()},upSlot:function(e,t){var n=this,i=function(e,i,a){var r=0===a;return!t&&!e&&r&&n.daySlotCollectionCount()?n._daySlotCollections[0].at(i):void 0};return this.timeSlotCollectionCount()||(t=!0),this._verticalSlot(e,-1,i)},downSlot:function(e,t){var n=this,i=function(e,i,a){return!t&&e&&n.timeSlotCollectionCount()?n._timeSlotCollections[a].at(0):void 0};return this.timeSlotCollectionCount()||(t=!0),this._verticalSlot(e,1,i)},leftSlot:function(e){return this._horizontalSlot(e,-1)},rightSlot:function(e){return this._horizontalSlot(e,1)},_horizontalSlot:function(e,t){var n,i=e.index,a=e.isDaySlot,r=e.collectionIndex,o=this._getCollections(a);return a?i+=t:r+=t,n=o[r],n?n.at(i):void 0},_verticalSlot:function(e,t,n){var i,a=e.index,r=e.isDaySlot,o=e.collectionIndex,s=this._getCollections(r);return(e=n(r,o,a))?e:(r?o+=t:a+=t,i=s[o],i?i.at(a):void 0)},_collection:function(e,t){var n=t?this._daySlotCollections:this._timeSlotCollections;return n[e]},_startSlot:function(e,t,n){var i,a=this._startCollection(e,t),r=!0;return a||(a=t[0],r=!1),i=a.slotByStartDate(e,n),i||(i=a.first(),r=!1),{slot:i,inRange:r}},_endSlot:function(e,t,n){var i,a=this._endCollection(e,t,n),r=!0;return a||(a=t[t.length-1],r=!1),i=a.slotByEndDate(e,n),i||(i=a.last(),r=!1),{slot:i,inRange:r}},getSlotCollection:function(e,t){return this[t?"getDaySlotCollection":"getTimeSlotCollection"](e)},getTimeSlotCollection:function(e){return this._timeSlotCollections[e]},getDaySlotCollection:function(e){return this._daySlotCollections[e]}}),y=A.Class.extend({init:function(t){e.extend(this,t)},innerHeight:function(){var e,t=this.collection,n=this.start.index,i=this.end.index,a=0;for(e=n;i>=e;e++)a+=t.at(e).offsetHeight;return a},events:function(){return this.collection.events()},addEvent:function(e){this.events().push(e)},startSlot:function(){return this.start.offsetLeft>this.end.offsetLeft?this.end:this.start},endSlot:function(){return this.start.offsetLeft>this.end.offsetLeft?this.start:this.end}}),k=y.extend({innerHeight:function(){var e,t=this.collection,n=this.start.index,i=this.end.index,a=0;for(e=n;i>=e;e++)a+=t.at(e).offsetHeight;return a},outerRect:function(e,t,n){return this._rect("offset",e,t,n)},_rect:function(e,t,n,i){var a,r,o,s,l,d,c=this.start,u=this.end;return"number"!=typeof t&&(t=A.date.toUtcTime(t)),"number"!=typeof n&&(n=A.date.toUtcTime(n)),i?(a=c.offsetTop,r=u.offsetTop+u[e+"Height"]):(o=t-c.start,0>o&&(o=0),s=c.end-c.start,a=c.offsetTop+c[e+"Height"]*o/s,l=u.end-n,0>l&&(l=0),d=u.end-u.start,r=u.offsetTop+u[e+"Height"]-u[e+"Height"]*l/d),{top:a,bottom:r}},innerRect:function(e,t,n){return this._rect("client",e,t,n)}}),w=y.extend({innerWidth:function(){var e,t=this.collection,n=this.start.index,i=this.end.index,a=0,r=n!==i?"offsetWidth":"clientWidth";for(e=n;i>=e;e++)a+=t.at(e)[r];return a}}),x=A.Class.extend({init:function(e,t,n,i){this._slots=[],this._events=[],this._start=A.date.toUtcTime(e),this._end=A.date.toUtcTime(t),this._groupIndex=n,this._collectionIndex=i},refresh:function(){for(var e=0;this._slots.length>e;e++)this._slots[e].refresh()},startInRange:function(e){return e>=this._start&&this._end>e},endInRange:function(e,t){var n=t?this._end>e:this._end>=e;return e>=this._start&&n},slotByStartDate:function(e){var t,n,i=e;for("number"!=typeof i&&(i=A.date.toUtcTime(e)),t=0;this._slots.length>t;t++)if(n=this._slots[t],n.startInRange(i))return n;return null},slotByEndDate:function(e,t){var n,i,a=e;if("number"!=typeof a&&(a=A.date.toUtcTime(e)),t)return this.slotByStartDate(e,!1);for(n=0;this._slots.length>n;n++)if(i=this._slots[n],i.endInRange(a))return i;return null},count:function(){return this._slots.length},events:function(){return this._events},addTimeSlot:function(e,t,n){var i=new T(e,t,n,this._groupIndex,this._collectionIndex,this._slots.length);this._slots.push(i)},addDaySlot:function(e,t,n,i){var a=new S(e,t,n,this._groupIndex,this._collectionIndex,this._slots.length,i);this._slots.push(a)},first:function(){return this._slots[0]},last:function(){return this._slots[this._slots.length-1]},at:function(e){return this._slots[e]}}),C=A.Class.extend({init:function(e,t,n,i,a,r){this.element=e,this.clientWidth=e.clientWidth,this.clientHeight=e.clientHeight,this.offsetWidth=e.offsetWidth,this.offsetHeight=e.offsetHeight,this.offsetTop=e.offsetTop,this.offsetLeft=e.offsetLeft,this.start=t,this.end=n,this.element=e,this.groupIndex=i,this.collectionIndex=a,this.index=r,this.isDaySlot=!1},startDate:function(){return A.timezone.toLocalDate(this.start)},endDate:function(){return A.timezone.toLocalDate(this.end)},startInRange:function(e){return e>=this.start&&this.end>e},endInRange:function(e){return e>this.start&&this.end>=e},startOffset:function(){return this.start},endOffset:function(){return this.end}}),T=C.extend({refresh:function(){this.offsetTop=this.element.offsetTop},offsetX:function(e,t){return e?this.offsetLeft+t:this.offsetLeft+t},startInRange:function(e){return e>=this.start&&this.end>e},endInRange:function(e){return e>this.start&&this.end>=e},startOffset:function(t,n,i){var a,r,o,s;return i?this.start:(a=e(this.element).offset(),r=n-a.top,o=this.end-this.start,s=Math.floor(o*(r/this.offsetHeight)),this.start+s)},endOffset:function(t,n,i){var a,r,o,s;return i?this.end:(a=e(this.element).offset(),r=n-a.top,o=this.end-this.start,s=Math.floor(o*(r/this.offsetHeight)),this.start+s)}}),S=C.extend({init:function(e,t,n,i,a,r,o){C.fn.init.apply(this,arguments),this.eventCount=o,this.isDaySlot=!0,this.element.children.length?(this.firstChildHeight=this.element.children[0].offsetHeight+3,this.firstChildTop=this.element.children[0].offsetTop):(this.firstChildHeight=3,this.firstChildTop=0)},refresh:function(){this.clientHeight=this.element.clientHeight,this.offsetTop=this.element.offsetTop},startDate:function(){var e=new Date(this.start);return A.timezone.apply(e,"Etc/UTC")},endDate:function(){var e=new Date(this.end);return A.timezone.apply(e,"Etc/UTC")},startInRange:function(e){return e>=this.start&&this.end>e},endInRange:function(e){return e>this.start&&this.end>=e}}),A.ui.SchedulerView=H.extend({init:function(t,n){H.fn.init.call(this,t,n),this._scrollbar=d(),this._isRtl=A.support.isRtl(t),this._resizeHint=e(),this._moveHint=e(),this._cellId=A.guid(),this._resourcesForGroups(),this._selectedSlots=[]},_isMobile:function(){var e=this.options;return e.mobile===!0&&A.support.mobileOS||"phone"===e.mobile||"tablet"===e.mobile},_isMobilePhoneView:function(){var e=this.options;return e.mobile===!0&&A.support.mobileOS&&!A.support.mobileOS.tablet||"phone"===e.mobile},_addResourceView:function(){var e=new _(this.groups.length);return this.groups.push(e),e},dateForTitle:function(){return A.format(this.options.selectedDateFormat,this.startDate(),this.endDate())},_changeGroup:function(e,t){var n=t?"prevGroupSlot":"nextGroupSlot",i=this[n](e.start,e.groupIndex,e.isAllDay);return i&&(e.groupIndex+=t?-1:1),i},_changeGroupContinuously:function(){return null},_changeViewPeriod:function(){return!1},_horizontalSlots:function(e,t,n,i){var a,r,o=i?"leftSlot":"rightSlot",s=t[0].start,l=t[t.length-1].end,d=this.groups[e.groupIndex];return n||(a=this._normalizeHorizontalSelection(e,t,i),a&&(s=l=a)),s=d[o](s),l=d[o](l),n||this._isVerticallyGrouped()||s&&l||(s=l=this._changeGroup(e,i)),s&&l||(r=this._continuousSlot(e,t,i),r=this._changeGroupContinuously(e,r,n,i),r&&(s=l=r)),{startSlot:s,endSlot:l}},_verticalSlots:function(e,t,n,i){var a,r,o=t[0].start,s=t[t.length-1].end,l=this.groups[e.groupIndex];return n||(a=this._normalizeVerticalSelection(e,t,i),a&&(o=s=a)),r=i?"upSlot":"downSlot",o=l[r](o,n),s=l[r](s,n),n||!this._isVerticallyGrouped()||o&&s||(o=s=this._changeGroup(e,i)),{startSlot:o,endSlot:s}},_normalizeHorizontalSelection:function(){return null},_normalizeVerticalSelection:function(e,t,n){var i;return i=n?t[0].start:t[t.length-1].end},_continuousSlot:function(){return null},constrainSelection:function(e){var t,n=this.groups[0];this.inRange(e)?n.daySlotCollectionCount()||(e.isAllDay=!1):(t=n.firstSlot(),e.isAllDay=t.isDaySlot,e.start=t.startDate(),e.end=t.endDate()),this.groups[e.groupIndex]||(e.groupIndex=0)},move:function(e,t,n){var i,a,r,o,s,l,d=!1,c=this.groups[e.groupIndex];if(c.timeSlotCollectionCount()||(e.isAllDay=!0),i=c.ranges(e.start,e.end,e.isAllDay,!1),t===z.DOWN||t===z.UP){if(d=!0,o=t===z.UP,this._updateDirection(e,i,n,o,!0),s=this._verticalSlots(e,i,n,o),!s.startSlot&&!n&&this._changeViewPeriod(e,o,!0))return d}else if((t===z.LEFT||t===z.RIGHT)&&(d=!0,o=t===z.LEFT,this._updateDirection(e,i,n,o,!1),s=this._horizontalSlots(e,i,n,o),!s.startSlot&&!n&&this._changeViewPeriod(e,o,!1)))return d;return d&&(a=s.startSlot,r=s.endSlot,n?(l=e.backward,l&&a?e.start=a.startDate():!l&&r&&(e.end=r.endDate())):a&&r&&(e.isAllDay=a.isDaySlot,e.start=a.startDate(),e.end=r.endDate()),e.events=[]),d},moveToEventInGroup:function(t,n,i,a){for(var r,o,s=t._continuousEvents||[],l=a?-1:1,d=s.length,c=a?d-1:0;d>c&&c>-1;){if(o=s[c],(!a&&o.start.startDate()>=n.startDate()||a&&o.start.startDate()<=n.startDate())&&(i.length&&(o=s[c+l]),o&&-1===e.inArray(o.uid,i))){r=!!o;break}c+=l}return o},moveToEvent:function(e,t){for(var n,i=e.groupIndex,a=this.groups[i],r=a.ranges(e.start,e.end,e.isAllDay,!1)[0].start,o=this.groups.length,s=t?-1:1,l=e.events;o>i&&i>-1&&(n=this.moveToEventInGroup(a,r,l,t),i+=s,a=this.groups[i],a&&!n);)l=[],r=t?a.lastSlot():a.firstSlot(!0);return n&&(e.events=[n.uid],e.start=n.start.startDate(),e.end=n.end.endDate(),e.isAllDay=n.start.isDaySlot,e.groupIndex=n.start.groupIndex),!!n},current:function(e){return void 0===e?this._current:(this._current=e,void this._scrollTo(e,this.content[0]))},select:function(e){this.clearSelection(),this._selectEvents(e)||this._selectSlots(e)},_selectSlots:function(e){var t,n,i,a,r,o,s,l=e.isAllDay,d=this.groups[e.groupIndex];for(d.timeSlotCollectionCount()||(l=!0),this._selectedSlots=[],t=d.ranges(e.start,e.end,l,!1),a=0;t.length>a;a++)for(r=t[a],o=r.collection,s=r.start.index;r.end.index>=s;s++)i=o.at(s),n=i.element,n.setAttribute("aria-selected",!0),b(n),this._selectedSlots.push({start:i.startDate(),end:i.endDate(),element:n});e.backward&&(n=t[0].start.element),this.current(n)},_selectEvents:function(t){var n,i,a=!1,r=t.events,o=this.groups[t.groupIndex]._continuousEvents||[],s=o.length;if(!r[0]||!o[0])return a;for(i=e(),n=0;s>n;n++)e.inArray(o[n].uid,r)>-1&&(i=i.add(o[n].element));return i[0]&&(i.addClass("k-state-selected").attr("aria-selected",!0),this.current(i.last()[0]),a=!0),a},inRange:function(e){var t=this.startDate(),n=A.date.addDays(this.endDate(),1),i=e.start,a=e.end;return i>=t&&n>i&&a>t&&n>=a},_resourceValue:function(e,t){return e.valuePrimitive&&(t=A.getter(e.dataValueField)(t)),t
},_resourceBySlot:function(e){var t,n,i,a,r,o=this.groupedResources,s={};if(o.length)for(t=e.groupIndex,n=o.length-1;n>=0;n--)i=o[n],a=this._resourceValue(i,i.dataSource.view()[t%i.dataSource.total()]),i.multiple&&(a=[a]),r=A.setter(i.field),r(s,a),t=Math.floor(t/i.dataSource.total());return s},_createResizeHint:function(t,n,i,a){return e(N).css({left:t,top:n,width:i,height:a})},_removeResizeHint:function(){this._resizeHint.remove(),this._resizeHint=e()},_removeMoveHint:function(){this._moveHint.remove(),this._moveHint=e()},_scrollTo:function(e,t){var n=e.offsetTop,i=e.offsetHeight,a=t.scrollTop,r=t.clientHeight,o=n+i,s=0;s=a>n?n:o>a+r?r>=i?o-r:n:a,t.scrollTop=s},_shouldInverseResourceColor:function(e){var t=new E(e.color).isDark(),n=this.element.css("color"),i=new E(n).isDark();return t==i},eventResources:function(e){var t,n,i,a,r,o,s,l,d,c,u=[],h=this.options;if(!h.resources)return u;for(t=0;h.resources.length>t;t++)if(n=h.resources[t],i=n.field,a=A.getter(i)(e))for(n.multiple||(a=[a]),r=n.dataSource.view(),o=0;a.length>o;o++){for(s=null,l=a[o],n.valuePrimitive||(l=A.getter(n.dataValueField)(l)),d=0;r.length>d;d++)if(r[d].get(n.dataValueField)==l){s=r[d];break}null!==s&&(c=A.getter(n.dataColorField)(s),u.push({field:n.field,title:n.title,name:n.name,text:A.getter(n.dataTextField)(s),value:l,color:c}))}return u},createLayout:function(i){var a,r,o,s,l,d=-1;for(i.rows||(i.rows=[]),a=0;i.rows.length>a;a++)if(i.rows[a].allDay){d=a;break}r=i.rows[d],d>=0&&i.rows.splice(d,1),o=this.columnLevels=t(i,"columns"),s=this.rowLevels=t(i,"rows"),this.table=e("<table "+n()+' class="k-scheduler-layout k-scheduler-'+this.name+'view"/>'),l=s[s.length-1].length,this.table.append(this._topSection(o,r,l)),this.table.append(this._bottomSection(o,s,l)),this.element.append(this.table),this._scroller()},refreshLayout:function(){var t,n,i,a,r,o,s=this,l=s.element.find(">.k-scheduler-toolbar"),d=s.element.innerHeight(),c=this._scrollbar,u=0,h=this._isRtl?"left":"right";for(t=0;l.length>t;t++)d-=l.eq(t).outerHeight();s.datesHeader&&(u=s.datesHeader.outerHeight()),s.timesHeader&&s.timesHeader.outerHeight()>u&&(u=s.timesHeader.outerHeight()),s.datesHeader&&s.timesHeader&&(n=s.datesHeader.find("table:first tr"),s.timesHeader.find("tr").height(function(t){e(this).height(n.eq(t).height())})),u&&(d-=u),s.footer&&(d-=s.footer.outerHeight()),i=function(e){var t,n;return e[0].style.height?!0:(t=e.height(),e.height("auto"),n=e.height(),t!=n?(e.height(""),!0):(e.height(""),!1))},a=s.content[0],r=A.support.kineticScrollNeeded?0:c,i(s.element)&&(s.content.height(d>2*c?d:2*c+1),s.times.height(a.clientHeight),o=s.times.find("table"),o.length&&o.height(s.content.find("table")[0].clientHeight)),a.offsetWidth-a.clientWidth>0?(s.table.addClass("k-scrollbar-v"),s.datesHeader.css("padding-"+h,r-parseInt(s.datesHeader.children().css("border-"+h+"-width"),10))):s.datesHeader.css("padding-"+h,""),a.offsetHeight-a.clientHeight>0||a.clientHeight>s.content.children(".k-scheduler-table").height()?s.table.addClass("k-scrollbar-h"):s.table.removeClass("k-scrollbar-h")},_topSection:function(t,n,i){this.timesHeader=r(t.length,n,i);var a=t[t.length-1].length;return this.datesHeader=o(t,a,n),e("<tr>").append(this.timesHeader.add(this.datesHeader).wrap("<td>").parent())},_bottomSection:function(t,n,i){return this.times=s(n,i),this.content=l(t[t.length-1],n[n.length-1]),e("<tr>").append(this.times.add(this.content).wrap("<td>").parent())},_scroller:function(){var t,n=this;this.content.bind("scroll"+I,function(){n.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(this.scrollLeft),n.times.scrollTop(this.scrollTop)}),t=A.touchScroller(this.content,{avoidScrolling:function(t){return e(t.event.target).closest(".k-event.k-event-active").length>0}}),t&&t.movable&&(this._touchScroller=t,this.content=t.scrollElement,t.movable.bind("change",function(e){n.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(-e.sender.x),n.times.scrollTop(-e.sender.y)}))},_resourcesForGroups:function(){var e,t,n,i,a=[],r=this.options.group,o=this.options.resources;if(r=r&&r.resources?r.resources:[],o&&r.length)for(e=0,t=o.length;t>e;e++)for(n=0,i=r.length;i>n;n++)o[e].name===r[n]&&a.push(o[e]);this.groupedResources=a},_createColumnsLayout:function(e,t){return m("columns",e,t)},_groupOrientation:function(){var e=this.options.group;return e&&e.resources?e.orientation:"horizontal"},_isVerticallyGrouped:function(){return this.groupedResources.length&&"vertical"===this._groupOrientation()},_createRowsLayout:function(e,t){return m("rows",e,t)},selectionByElement:function(){return null},clearSelection:function(){this.content.find(".k-state-selected").removeAttr("id").attr("aria-selected",!1).removeClass("k-state-selected")},destroy:function(){var e=this;H.fn.destroy.call(this),e.table&&(A.destroy(e.table),e.table.remove()),e.groups=null,e.table=null,e.content=null,e.times=null,e.datesHeader=null,e.timesHeader=null,e.footer=null,e._resizeHint=null,e._moveHint=null},calendarInfo:function(){return A.getCulture().calendars.standard},prevGroupSlot:function(e,t,n){var i,a=this.groups[t],r=a.ranges(e,e,n,!1)[0].start;return 0>=t?void 0:this._isVerticallyGrouped()?a.timeSlotCollectionCount()?(i=a._collection(n?r.index:r.collectionIndex,!1),i.last()):(i=a._collection(a.daySlotCollectionCount()-1,!0),i.at(r.index)):a.timeSlotCollectionCount()?(i=a._collection(n?0:a.timeSlotCollectionCount()-1,n),n?i.last():i.at(r.index)):(i=a._collection(r.collectionIndex,!0),i.last())},nextGroupSlot:function(e,t,n){var i,a,r=this.groups[t],o=r.ranges(e,e,n,!1)[0].start;return t>=this.groups.length-1?void 0:this._isVerticallyGrouped()?r.timeSlotCollectionCount()?(a=r.daySlotCollectionCount(),i=r._collection(a?0:o.collectionIndex,a),n?i.first():i.at(o.collectionIndex)):(i=r._collection(0,!0),i.at(o.index)):r.timeSlotCollectionCount()?(i=r._collection(0,n),n?i.first():i.at(o.index)):(i=r._collection(o.collectionIndex,!0),i.first())}}),E=function(e){var t,n,i,a,r,o=this,s=E.formats;if(1===arguments.length)for(e=o.resolveColor(e),a=0;s.length>a;a++)t=s[a].re,n=s[a].process,i=t.exec(e),i&&(r=n(i),o.r=r[0],o.g=r[1],o.b=r[2]);else o.r=arguments[0],o.g=arguments[1],o.b=arguments[2];o.r=o.normalizeByte(o.r),o.g=o.normalizeByte(o.g),o.b=o.normalizeByte(o.b)},E.prototype={resolveColor:function(e){return e=e||"#000","#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase(),e=E.namedColors[e]||e},normalizeByte:function(e){return 0>e||isNaN(e)?0:e>255?255:e},percBrightness:function(){var e=this;return R.sqrt(.241*e.r*e.r+.691*e.g*e.g+.068*e.b*e.b)},isDark:function(){var e=this,t=e.percBrightness();return 180>t}},E.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],E.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},F=/\s*k-state-selected/,e.extend(M.SchedulerView,{createColumns:p,createRows:f,rangeIndex:u,collidingEvents:c,groupEqFilter:v})}(window.kendo.jQuery),function(e,t){function n(e){var t=new Date(1980,1,1,0,0,0);return d(t,m(e)),t}function i(e,t,n){return e>=t&&n>=e}function a(e,t,n,i){return i=i?n>=e:n>e,e>t&&i}function r(e,t,n,i){var a,r=e._continuousEvents,o=r[r.length-1],l=p(t.start.startDate()).getTime();if(i&&o&&p(o.start.startDate()).getTime()==l){for(a=r.length-1;a>-1&&!(r[a].isAllDay||p(r[a].start.startDate()).getTime()<l);a--);r.splice(a+1,0,{element:n,isAllDay:!0,uid:n.attr(s.attr("uid")),start:t.start,end:t.end})}else r.push({element:n,isAllDay:i,uid:n.attr(s.attr("uid")),start:t.start,end:t.end})}function o(e){var t=[],n=e.workWeekStart;for(t.push(n);e.workWeekEnd!=n;)n>6?n-=7:n++,t.push(n);return t}var s=window.kendo,l=s.ui,d=s.date.setTime,c=l.SchedulerView,u=e.extend,h=e.proxy,p=s.date.getDate,f=s.date.MS_PER_MINUTE,g=s.date.MS_PER_DAY,m=s.date.getMilliseconds,v=".kendoMultiDayView",b=s.template('<div title="(#=kendo.format("{0:t} - {1:t}", start, end)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),_=s.template('<div title="(#=kendo.format("{0:t}", start)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">${title}</div></div>'),y=s.template("<span class='k-link k-nav-day'>#=kendo.toString(date, 'ddd M/dd')#</span>"),k='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !singleDay && !data.tail && !data.middle){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !singleDay && !data.head && !data.middle){#<span class="k-resize-handle k-resize-e"></span>#}#</div>',w='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#" #if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</span><span class="k-event-top-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-n"></span># } #</span><span class="k-event-bottom-actions"># if(data.head || data.middle) {#<span class="k-icon k-i-arrow-s"></span># } #</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-n"></span># } ## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-s"></span># } #</div>',x=c.extend({init:function(e,t){var n=this;c.fn.init.call(n,e,t),n.title=n.options.title||n.options.name,n._workDays=o(n.options),n._templates(),n._editable(),n.calculateDateRange(),n._groups()},_updateResizeHint:function(e,t,n,i){var a,r,o,l,d,u,h,p,f,g,m=e.isMultiDay(),v=this.groups[t],b=v.ranges(n,i,m,e.isAllDay);for(this._removeResizeHint(),a=0;b.length>a;a++)r=b[a],o=r.startSlot(),l=o.offsetWidth,d=o.clientHeight,u=o.offsetTop,m?l=r.innerWidth():(h=r.outerRect(n,i,this.options.snap),u=h.top,d=h.bottom-h.top),p=c.fn._createResizeHint.call(this,o.offsetLeft,u,l,d),this._resizeHint=this._resizeHint.add(p);f="t",g=this.content,m&&(f="M/dd",g=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div"),g.length||(g=this.content)),this._resizeHint.appendTo(g),this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(s.toString(s.timezone.toLocalDate(n),f)),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(s.toString(s.timezone.toLocalDate(i),f))},_updateMoveHint:function(e,t,n){var i,a,r,o,l,d,c,u=e.isMultiDay(),h=this.groups[t],p=s.date.toUtcTime(e.start)+n,f=p+e.duration(),g=h.ranges(p,f,u,e.isAllDay);for(p=s.timezone.toLocalDate(p),f=s.timezone.toLocalDate(f),this._removeMoveHint(),!u&&(0===m(f)||m(f)<m(this.startTime()))&&g.length>1&&g.pop(),i=0;g.length>i;i++)a=g[i],r=a.start,o=this._createEventElement(e.clone({start:p,end:f}),!u),o.addClass("k-event-drag-hint"),l={left:r.offsetLeft+2,top:r.offsetTop},this._isRtl&&(l.left=.1*r.clientWidth+r.offsetLeft+2),u?l.width=a.innerWidth()-4:(d=a.outerRect(p,f,this.options.snap),l.top=d.top,l.height=d.bottom-d.top,l.width=.9*r.clientWidth-4),o.css(l),this._moveHint=this._moveHint.add(o);c=this.content,u&&(c=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div"),c.length||(c=this.content)),this._moveHint.appendTo(c)},_slotByPosition:function(e,t){var n,i,a,r;for(this._isVerticallyGrouped()?(i=this.content.offset(),t+=this.content[0].scrollTop,e+=this.content[0].scrollLeft):i=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)").find(">div").offset(),i&&(e-=i.left,t-=i.top),e=Math.ceil(e),t=Math.ceil(t),r=0;this.groups.length>r;r++)if(a=this.groups[r],n=a.daySlotByPosition(e,t))return n;for(i&&(e+=i.left,t+=i.top),i=this.content.offset(),e-=i.left,t-=i.top,this._isVerticallyGrouped()||(t+=this.content[0].scrollTop,e+=this.content[0].scrollLeft),e=Math.ceil(e),t=Math.ceil(t),r=0;this.groups.length>r;r++)if(a=this.groups[r],n=a.timeSlotByPosition(e,t))return n;return null},_groupCount:function(){var e=this.groupedResources;return e.length?"vertical"===this._groupOrientation()?this._rowCountForLevel(e.length-1):this._columnCountForLevel(e.length)/this._columnOffsetForResource(e.length):1},_columnCountInResourceView:function(){var e=this.groupedResources;return!e.length||this._isVerticallyGrouped()?this._columnCountForLevel(0):this._columnOffsetForResource(e.length)},_timeSlotGroups:function(e,t){var n,i,a,r,o,s,l,d,c,u,h,p,f,g,v,b,_=this._timeSlotInterval(),y=this.content.find("tr:not(.k-scheduler-header-all-day)");for(y.attr("role","row"),n=y.length,this._isVerticallyGrouped()&&(n=Math.floor(n/e)),i=0;e>i;i++)for(a=0,this._isVerticallyGrouped()&&(a=i),r=a*n,s=0,this._isVerticallyGrouped()||(s=i);(a+1)*n>r;){for(l=y[r].children,d=this.groups[i],r%n===0&&(o=m(new Date(+this.startTime()))),c=s*t;(s+1)*t>c;c++)u=l[c],h=c%t,p=d.getTimeSlotCollection(h),f=this._dates[h],g=Date.UTC(f.getFullYear(),f.getMonth(),f.getDate()),v=g+o,b=v+_,u.setAttribute("role","gridcell"),u.setAttribute("aria-selected",!1),p.addTimeSlot(u,v,b);o+=_,r++}},_daySlotGroups:function(e,t){var n,i,a,r,o,l,d,c,u,h,p,f;for(n=this.element.find(this._isVerticallyGrouped()?".k-scheduler-header-all-day":".k-scheduler-header-all-day tr"),n.attr("role","row"),i=0;e>i;i++)for(a=0,this._isVerticallyGrouped()&&(a=i),r=this.groups[i],o=r.getDaySlotCollection(0),l=n[a].children,d=0,this._isVerticallyGrouped()||(d=i),c=0,u=d*t;(d+1)*t>u;u++)h=l[u],u%t===0&&(c=0),p=this._dates[c],f=Date.UTC(p.getFullYear(),p.getMonth(),p.getDate()),c++,h.setAttribute("role","gridcell"),h.setAttribute("aria-selected",!1),o.addDaySlot(h,f,f+s.date.MS_PER_DAY)},_groups:function(){var e,t,n,i=this._groupCount(),a=this._columnCountInResourceView();for(this.groups=[],e=0;i>e;e++){for(t=this._addResourceView(e),n=0;a>n;n++)t.addTimeSlotCollection(this._dates[n],s.date.addDays(this._dates[n],1));this.options.allDaySlot&&t.addDaySlotCollection(this._dates[0],s.date.addDays(this._dates[this._dates.length-1],1))}this._timeSlotGroups(i,a),this.options.allDaySlot&&this._daySlotGroups(i,a)},options:{name:"MultiDayView",selectedDateFormat:"{0:D}",allDaySlot:!0,showWorkHours:!1,title:"",startTime:s.date.today(),endTime:s.date.today(),minorTickCount:2,majorTick:60,majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",minorTimeHeaderTemplate:"&nbsp;",slotTemplate:"&nbsp;",allDaySlotTemplate:"&nbsp;",eventTemplate:b,allDayEventTemplate:_,dateHeaderTemplate:y,editable:!0,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,footer:{command:"workDay"},messages:{allDay:"all day",showFullDay:"Show full day",showWorkDay:"Show business hours"}},events:["remove","add","edit"],_templates:function(){var e=this.options,t=u({},s.Template,e.templateSettings);this.eventTemplate=this._eventTmpl(e.eventTemplate,w),this.allDayEventTemplate=this._eventTmpl(e.allDayEventTemplate,k),this.majorTimeHeaderTemplate=s.template(e.majorTimeHeaderTemplate,t),this.minorTimeHeaderTemplate=s.template(e.minorTimeHeaderTemplate,t),this.dateHeaderTemplate=s.template(e.dateHeaderTemplate,t),this.slotTemplate=s.template(e.slotTemplate,t),this.allDaySlotTemplate=s.template(e.allDaySlotTemplate,t)},_editable:function(){this.options.editable&&(this._isMobile()?this._touchEditable():this._mouseEditable())},_mouseEditable:function(){var t=this;t.element.on("click"+v,".k-event a:has(.k-si-close)",function(n){t.trigger("remove",{uid:e(this).closest(".k-event").attr(s.attr("uid"))}),n.preventDefault()}),t.options.editable.create!==!1&&t.element.on("dblclick"+v,".k-scheduler-content td",function(n){var i,a;e(this).parent().hasClass("k-scheduler-header-all-day")||(i=t._slotByPosition(n.pageX,n.pageY),i&&(a=t._resourceBySlot(i),t.trigger("add",{eventInfo:u({start:i.startDate(),end:i.endDate()},a)})),n.preventDefault())}).on("dblclick"+v,".k-scheduler-header-all-day td",function(e){var n,i=t._slotByPosition(e.pageX,e.pageY);i&&(n=t._resourceBySlot(i),t.trigger("add",{eventInfo:u({},{isAllDay:!0,start:s.date.getDate(i.startDate()),end:s.date.getDate(i.startDate())},n)})),e.preventDefault()}),t.options.editable.update!==!1&&t.element.on("dblclick"+v,".k-event",function(n){t.trigger("edit",{uid:e(this).closest(".k-event").attr(s.attr("uid"))}),n.preventDefault()})},_touchEditable:function(){var t=this;t.options.editable.create!==!1&&(t._addUserEvents=new s.UserEvents(t.element,{filter:".k-scheduler-content td",tap:function(n){var i,a;e(n.target).parent().hasClass("k-scheduler-header-all-day")||(i=t._slotByPosition(n.x.location,n.y.location),i&&(a=t._resourceBySlot(i),t.trigger("add",{eventInfo:u({start:i.startDate(),end:i.endDate()},a)})),n.preventDefault())}}),t._allDayUserEvents=new s.UserEvents(t.element,{filter:".k-scheduler-header-all-day td",tap:function(e){var n,i=t._slotByPosition(e.x.location,e.y.location);i&&(n=t._resourceBySlot(i),t.trigger("add",{eventInfo:u({},{isAllDay:!0,start:s.date.getDate(i.startDate()),end:s.date.getDate(i.startDate())},n)})),e.preventDefault()}})),t.options.editable.update!==!1&&(t._editUserEvents=new s.UserEvents(t.element,{filter:".k-event",tap:function(n){var i=e(n.target).closest(".k-event");i.hasClass("k-event-active")||t.trigger("edit",{uid:i.attr(s.attr("uid"))}),n.preventDefault()}}))},_layout:function(e){var t,n,i,a=[],r=[],o=this.options,l=this;for(t=0;e.length>t;t++)n={},n.text=l.dateHeaderTemplate({date:e[t]}),s.date.isToday(e[t])&&(n.className="k-today"),a.push(n);return i=this.groupedResources,o.allDaySlot&&r.push({text:o.messages.allDay,allDay:!0,cellContent:function(t){var n=t;return t=i.length&&"vertical"!==l._groupOrientation()?t%e.length:t,l.allDaySlotTemplate({date:e[t],resources:function(){return l._resourceBySlot({groupIndex:n})}})}}),this._forTimeRange(this.startTime(),this.endTime(),function(e,t,n,i){var a=t?l.majorTimeHeaderTemplate:l.minorTimeHeaderTemplate,o={text:a({date:e}),className:i?"k-slot-cell":""};r.push(o)}),i.length&&("vertical"===this._groupOrientation()?r=this._createRowsLayout(i,r):a=this._createColumnsLayout(i,a)),{columns:a,rows:r}},_footer:function(){var t,n,i,a=this.options;a.footer!==!1&&(t='<div class="k-header k-scheduler-footer">',n=a.footer.command,n&&"workDay"===n?(t+='<ul class="k-reset k-header k-toolbar">',t+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>',t+=(a.showWorkHours?a.messages.showFullDay:a.messages.showWorkDay)+"</a></li>",t+="</ul>"):t+="&nbsp;",t+="</div>",this.footer=e(t).appendTo(this.element),i=this,this.footer.on("click"+v,".k-scheduler-fullday",function(e){e.preventDefault(),i.trigger("navigate",{view:i.name||a.name,date:i.startDate(),isWorkDay:!a.showWorkHours})}))},_forTimeRange:function(e,t,i,a){var r,o,s,l,c,u,h,p,v,b,_,y,k,w,x,C;for(e=n(e),t=n(t),r=this,o=m(e),s=m(t),l=r.options.minorTickCount,c=r.options.majorTick*f,u=c/l||1,h=new Date(+e),p=h.getDate(),b=0,y="",_=g/u,o!=s&&(o>s&&(s+=g),_=(s-o)/u),_=Math.round(_);_>b;b++)k=b%(c/u),w=0===k,x=l-1>k,C=k===l-1,y+=i(h,w,x,C),d(h,u,!1);return s&&(v=m(h),p<h.getDate()&&(v+=g),v>s&&(h=new Date(+t))),a&&(y+=a(h)),y},_content:function(e){var t,n,i,a=this,r=a.options,o=a.startTime(),l=this.endTime(),d=1,c=1,u=e.length,h="",p=this.groupedResources,f=this.slotTemplate,g=this.allDaySlotTemplate,m=!1;for(p.length&&(m="vertical"===a._groupOrientation(),m?(c=this._rowCountForLevel(this.rowLevels.length-2),r.allDaySlot&&(t=function(t){var n,i,r='<tr class="k-scheduler-header-all-day">',o=function(){return a._resourceBySlot({groupIndex:t})};for(n=0,i=e.length;i>n;n++)r+="<td>"+g({date:e[n],resources:o})+"</td>";return r+"</tr>"})):d=this._columnCountForLevel(this.columnLevels.length-2)),h+="<tbody>",n=function(t,n){var r,o,l,c,h="",p="",g=0;for(h="<tr"+(n?' class="k-middle-row"':"")+">",c=function(e){return function(){return a._resourceBySlot({groupIndex:e})}};d>g;g++)for(r=0,o=u;o>r;r++)p="",s.date.isToday(e[r])&&(p+="k-today"),(s.date.getMilliseconds(t)<s.date.getMilliseconds(a.options.workDayStart)||s.date.getMilliseconds(t)>=s.date.getMilliseconds(a.options.workDayEnd)||!a._isWorkDay(e[r]))&&(p+=" k-nonwork-hour"),h+="<td"+(""!==p?' class="'+p+'"':"")+">",l=s.date.getDate(e[r]),s.date.setTime(l,s.date.getMilliseconds(t)),h+=f({date:l,resources:c(m?i:g)}),h+="</td>";return h+="</tr>"},i=0;c>i;i++)h+=t?t(i):"",h+=this._forTimeRange(o,l,n);h+="</tbody>",this.content.find("table").append(h)},_isWorkDay:function(e){var t,n=e.getDay(),i=this._workDays;for(t=0;i.length>t;t++)if(i[t]===n)return!0;return!1},_render:function(t){var n,i=this;t=t||[],this._dates=t,this._startDate=t[0],this._endDate=t[t.length-1||0],this.createLayout(this._layout(t)),this._content(t),this._footer(),this.refreshLayout(),n=this.element.find(".k-scheduler-header-all-day td"),n.length&&(this._allDayHeaderHeight=n.first()[0].clientHeight),i.datesHeader.on("click"+v,".k-nav-day",function(t){var n=e(t.currentTarget).closest("th"),a=n.offset(),r=i._slotByPosition(a.left,a.top+n.outerHeight());i.trigger("navigate",{view:"day",date:r.startDate()})})},startTime:function(){var e=this.options;return e.showWorkHours?e.workDayStart:e.startTime},endTime:function(){var e=this.options;return e.showWorkHours?e.workDayEnd:e.endTime},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_end:function(e){var t=m(this.endTime())||g;return e&&(t=0),new Date(this._endDate.getTime()+t)},nextDate:function(){return s.date.nextDay(this.endDate())},previousDate:function(){return s.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},destroy:function(){var e=this;e.datesHeader&&e.datesHeader.off(v),e.element&&e.element.off(v),e.footer&&e.footer.remove(),c.fn.destroy.call(this),this._isMobile()&&e.options.editable&&(e.options.editable.create!==!1&&(e._addUserEvents.destroy(),e._allDayUserEvents.destroy()),e.options.editable.update!==!1&&e._editUserEvents.destroy())},inRange:function(e){var t=c.fn.inRange.call(this,e),n=m(this.startTime()),i=m(this.endTime())||s.date.MS_PER_DAY,a=m(e.start),r=m(e.end)||s.date.MS_PER_DAY;return t&&a>=n&&i>=r},selectionByElement:function(e){var t=e.offset();return this._slotByPosition(t.left,t.top)},_timeSlotInterval:function(){var e=this.options;return e.majorTick/e.minorTickCount*f},_timeSlotIndex:function(e){var t=this.options,n=m(e),i=m(this.startTime()),a=t.majorTick/t.minorTickCount*f;return(n-i)/a},_slotIndex:function(e,t){return t?this._dateSlotIndex(e):this._timeSlotIndex(e)},_dateSlotIndex:function(e,t){var n,a,r,o,l=this._dates||[],d=1;for(n=0,a=l.length;a>n;n++)if(r=s.date.getDate(l[n]),o=new Date(s.date.getDate(l[n]).getTime()+g-(t?0:1)),i(e,r,o))return n*d;return-1},_positionAllDayEvent:function(t,n){var i,a,r,o,s,l,d,u=n.innerWidth(),h=n.start.index,p=n.end.index,f=c.collidingEvents(n.events(),h,p),g=this._headerColumnCount||0,m=2,v=h!==p?5:4,b=this._allDayHeaderHeight,_=n.startSlot();for(t.css({left:_.offsetLeft+m,width:u-v}),n.addEvent({slotIndex:h,start:h,end:p,element:t}),f.push({slotIndex:h,start:h,end:p,element:t}),i=c.createRows(f),i.length&&i.length>g&&(this._headerColumnCount=i.length),a=n.start.offsetTop,r=0,o=i.length;o>r;r++)for(s=i[r].events,l=0,d=s.length;d>l;l++)e(s[l].element).css({top:a+r*b})},_arrangeColumns:function(e,t,n,i){var a,r,o,s,l,d,u,h,p,f,g,m=i.start;for(e={element:e,slotIndex:m.index,start:t,end:t+n},r=m.clientWidth,o=.1*r,l=i.events(),d=c.collidingEvents(l,e.start,e.end),i.addEvent(e),d.push(e),a=c.createColumns(d),u=(r-o)/a.length,h=0,p=a.length;p>h;h++)for(s=a[h].events,f=0,g=s.length;g>f;f++)s[f].element[0].style.width=u-4+"px",s[f].element[0].style.left=(this._isRtl?o:0)+m.offsetLeft+h*u+2+"px"},_positionEvent:function(e,t,n){var i=e.startTime||e.start,a=e.endTime||e.end,r=n.innerRect(i,a,!1),o=r.bottom-r.top-2;0>o&&(o=0),t.css({top:r.top,height:o}),this._arrangeColumns(t,r.top,t[0].clientHeight,n)},_eventTmpl:function(e,t){var n,i=this.options,a=u({},s.Template,i.templateSettings),r=a.paramName,o="",l=typeof e,d={storage:{},count:0};return"function"===l?(d.storage["tmpl"+d.count]=e,o+="#=this.tmpl"+d.count+"("+r+")#",d.count++):"string"===l&&(o+=e),n=s.template(s.format(t,o),a),d.count>0&&(n=h(n,d.storage)),n},_createEventElement:function(t,n,a,r){var o,l,d,c,h=n?this.eventTemplate:this.allDayEventTemplate,f=this.options,v=f.editable,b=this._isMobile(),_=v&&v.destroy!==!1&&!b,y=v&&v.resize!==!1,k=p(this.startDate()),w=p(this.endDate()),x=m(this.startTime()),C=m(this.endTime()),T=t._time("start"),S=t._time("end");return x>=C&&(C=m(new Date(this.endTime().getTime()+g-1))),n||t.isAllDay||(w=new Date(w.getTime()+g)),l=t.start,d=t.end,t.isAllDay&&(d=p(t.end)),!i(p(l),k,w)&&!i(d,k,w)||n&&x>T&&S>C?o=!0:p(l)<k||n&&x>T?r=!0:(d>w&&!n||n&&S>C)&&(a=!0),c=this.eventResources(t),t.startTime&&(l=new Date(T),l=s.timezone.apply(l,"Etc/UTC")),t.endTime&&(d=new Date(S),d=s.timezone.apply(d,"Etc/UTC")),e(h(u({},{ns:s.ns,resizable:y,showDelete:_,middle:o,head:a,tail:r,singleDay:1==this._dates.length,resources:c,inverseColor:c&&c[0]?this._shouldInverseResourceColor(c[0]):!1},t,{start:l,end:d})))},_isInTimeSlot:function(e){var t,n=this.startTime(),i=this.endTime(),r=e.startTime||e.start,o=e.endTime||e.end;return m(i)===m(s.date.getDate(i))&&(i=s.date.getDate(i),d(i,g-1)),e._date("end")>e._date("start")&&(o=+e._date("end")+(g-1)),o-=e._date("end"),r-=e._date("start"),i=m(i),n=m(n),n===r&&r===o?!0:(t=r!==i,a(r,n,i,t)||a(o,n,i,t)||a(n,r,o)||a(i,r,o))},_isInDateSlot:function(e){var t=this.groups[0],n=t.firstSlot().start,a=t.lastSlot().end-1,r=s.date.toUtcTime(e.start),o=s.date.toUtcTime(e.end);return(i(r,n,a)||i(o,n,a)||i(n,r,o)||i(a,r,o))&&(!i(o,n,n)||i(o,r,r)||e.isAllDay)},_updateAllDayHeaderHeight:function(e){var t,n;if(this._height!==e&&(this._height=e,t=this.element.find(".k-scheduler-header-all-day td"),t.length))for(t.parent().add(this.element.find(".k-scheduler-times-all-day").parent()).height(e),n=0;this.groups.length>n;n++)this.groups[n].refresh()},_renderEvents:function(e,t){var n,i,a,o,s,l,d,c,u,h,p,f,m,v,b,_=this.datesHeader.find(".k-scheduler-header-wrap > div");for(i=0,a=e.length;a>i;i++)if(n=e[i],this._isInDateSlot(n))if(o=n.isAllDay||n.end.getTime()-n.start.getTime()>=g,s=o&&!this._isVerticallyGrouped()?_:this.content,o)this.options.allDaySlot&&(c=this.groups[t],c._continuousEvents||(c._continuousEvents=[]),d=c.slotRanges(n),d.length&&(l=this._createEventElement(n,!o),this._positionAllDayEvent(l,d[0]),r(c,d[0],l,!0),l.appendTo(s)));else if(this._isInTimeSlot(n))for(c=this.groups[t],c._continuousEvents||(c._continuousEvents=[]),d=c.slotRanges(n),u=d.length,h=0;u>h;h++)p=d[h],f=n.start,m=n.end,u>1&&(0===h?m=p.end.endDate():h==u-1?f=p.start.startDate():(f=p.start.startDate(),m=p.end.endDate())),v=n.clone({start:f,end:m,startTime:n.startTime,endTime:n.endTime}),this._isInTimeSlot(v)&&(b=p.head,l=this._createEventElement(n,!o,b,p.tail),l.appendTo(s),this._positionEvent(v,l,p),r(c,p,l,!1))},render:function(t){var n,a,r,o,l;for(this._headerColumnCount=0,this._groups(),this.element.find(".k-event").remove(),t=new s.data.Query(t).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray(),n=[],this._eventsByResource(t,this.groupedResources,n),a=this,r=e.map(this._dates,function(t){return Math.max.apply(null,e.map(n,function(n){return e.grep(n,function(e){return e.isMultiDay()&&i(t,p(e.start),p(e.end))}).length}))}),o=Math.max.apply(null,r),this._updateAllDayHeaderHeight((o+1)*this._allDayHeaderHeight),l=0;n.length>l;l++)this._renderEvents(n[l],l);this.refreshLayout(),this.trigger("activate")},_eventsByResource:function(e,t,n){var i,a,r,o,l=t[0];if(l)for(i=l.dataSource.view(),a=0;i.length>a;a++)r=this._resourceValue(l,i[a]),o=new s.data.Query(e).filter({field:l.field,operator:c.groupEqFilter(r)}).toArray(),t.length>1?this._eventsByResource(o,t.slice(1),n):n.push(o);else n.push(e)},_columnOffsetForResource:function(e){return this._columnCountForLevel(e)/this._columnCountForLevel(e-1)},_columnCountForLevel:function(e){var t=this.columnLevels[e];return t?t.length:0},_rowCountForLevel:function(e){var t=this.rowLevels[e];return t?t.length:0},clearSelection:function(){this.content.add(this.datesHeader).find(".k-state-selected").removeAttr("id").attr("aria-selected",!1).removeClass("k-state-selected")},_updateDirection:function(e,t,n,i,a){var r=e.isAllDay,o=t[0].start,s=t[t.length-1].end;n&&(a?r||o.index!==s.index||o.collectionIndex!==s.collectionIndex||(e.backward=i):(r&&o.index===s.index||!r&&o.collectionIndex===s.collectionIndex)&&(e.backward=i))},_changeViewPeriod:function(e,n,i){var a,r,o,s;return i?t:(a=n?this.previousDate():this.nextDate(),r=e.start,o=e.end,e.start=new Date(a),e.end=new Date(a),s=e.isAllDay?g:m(o),d(e.start,m(r)),d(e.end,s),this._isVerticallyGrouped()||(e.groupIndex=n?this.groups.length-1:0),e.events=[],!0)}});u(!0,l,{MultiDayView:x,DayView:x.extend({options:{title:"Day"},name:"day"}),WeekView:x.extend({options:{title:"Week",selectedDateFormat:"{0:D} - {1:D}"},name:"week",calculateDateRange:function(){var e,t,n=this.options.date,i=s.date.dayOfWeek(n,this.calendarInfo().firstDay,-1),a=[];for(e=0,t=7;t>e;e++)a.push(i),i=s.date.nextDay(i);this._render(a)}}),WorkWeekView:x.extend({options:{title:"Work Week",selectedDateFormat:"{0:D} - {1:D}"},name:"workweek",nextDate:function(){return s.date.dayOfWeek(s.date.nextDay(this.endDate()),this.options.workWeekStart,1)},previousDate:function(){return s.date.previousDay(this.startDate())},calculateDateRange:function(){for(var e=this.options.date,t=s.date.dayOfWeek(e,this.options.workWeekStart,-1),n=s.date.dayOfWeek(t,this.options.workWeekEnd,1),i=[];n>=t;)i.push(t),t=s.date.nextDay(t);this._render(i)}})})}(window.kendo.jQuery),function(e){function t(e){var t,n,i=0;for(t=0,n=e.length;n>t;t++)i+=e[t].items.length;return i}function n(e,t){return e.valuePrimitive&&(t=r.getter(e.dataValueField)(t)),t}function i(e){for(var t,n=0,i=e.length,r=[];i>n;n++)t=e[n],t.groups?(t=a(t.groups),r=r.concat(t)):r=r.concat(a(t.items));return r}function a(e){for(var t=[].concat(e),n=t.shift(),i=[],a=[].push;n;)n.groups?a.apply(t,n.groups):n.items?a.apply(t,n.items):a.call(i,n),n=t.shift();return i}var r=window.kendo,o=r.ui,s=".kendoAgendaView";o.AgendaView=o.SchedulerView.extend({init:function(t,n){o.SchedulerView.fn.init.call(this,t,n),n=this.options,n.editable&&(n.editable=e.extend({"delete":!0},n.editable,{create:!1,update:!1})),this.title=n.title,this.name="agenda",this._eventTemplate=r.template(n.eventTemplate),this._dateTemplate=r.template(n.eventDateTemplate),this._groupTemplate=r.template(n.eventGroupTemplate),this._timeTemplate=r.template(n.eventTimeTemplate),this.element.on("mouseenter"+s,".k-scheduler-agenda .k-scheduler-content tr","_mouseenter").on("mouseleave"+s,".k-scheduler-agenda .k-scheduler-content tr","_mouseleave").on("click"+s,".k-scheduler-agenda .k-scheduler-content .k-link:has(.k-si-close)","_remove"),this._renderLayout(n.date)
},_mouseenter:function(t){e(t.currentTarget).addClass("k-state-hover")},_mouseleave:function(t){e(t.currentTarget).removeClass("k-state-hover")},_remove:function(t){t.preventDefault(),this.trigger("remove",{uid:e(t.currentTarget).closest(".k-task").attr(r.attr("uid"))})},nextDate:function(){return r.date.nextDay(this.startDate())},startDate:function(){return this._startDate},endDate:function(){return this._endDate},previousDate:function(){return r.date.previousDay(this.startDate())},_renderLayout:function(e){this._startDate=e,this._endDate=r.date.addDays(e,7),this.createLayout(this._layout()),this.table.addClass("k-scheduler-agenda")},_layout:function(){var e,t,n,i=[{text:this.options.messages.time,className:"k-scheduler-timecolumn"},{text:this.options.messages.event}];if(this._isMobilePhoneView()||i.splice(0,0,{text:this.options.messages.date,className:"k-scheduler-datecolumn"}),e=this.groupedResources,e.length){for(t=[],n=0;e.length>n;n++)t.push({text:"",className:"k-scheduler-groupcolumn"});i=t.concat(i)}return{columns:i}},_tasks:function(e){var t,n,i,a,o,s,l,d=[];for(t=0;e.length>t;t++)if(n=e[t],i=n.start,a=n.end,o=(r.date.getDate(a)-r.date.getDate(i))/r.date.MS_PER_DAY+1,s=n.clone(),s.startDate=r.date.getDate(i),s.startDate>=this.startDate()&&d.push(s),o>1)for(s.end=r.date.nextDay(i),s.head=!0,l=1;o>l;l++)i=s.end,s=n.clone(),s.start=i,s.startDate=r.date.getDate(i),s.end=r.date.nextDay(i),l==o-1?(s.end=new Date(s.start.getFullYear(),s.start.getMonth(),s.start.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),s.tail=!0):(s.isAllDay=!0,s.middle=!0),s.end<=this.endDate()&&s.start>=this.startDate()&&d.push(s);return new r.data.Query(d).sort([{field:"start",dir:"asc"},{field:"end",dir:"asc"}]).groupBy({field:"startDate"}).toArray()},_renderTaskGroups:function(e,t){var n,i,a,o,s,l,d,c,u,h=[],p=this.options.editable,f=p&&p.destroy!==!1&&!this._isMobile(),g=this._isMobilePhoneView();for(n=0;e.length>n;n++)for(i=e[n].value,a=e[n].items,o=r.date.isToday(i),s=0;a.length>s;s++){if(l=a[s],d=[],c=g?[]:d,0===n&&0===s&&t.length)for(u=0;t.length>u;u++)c.push(r.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>',t[u].rowSpan,this._groupTemplate({value:t[u].text}),t[u].className));0===s&&(g?(c.push(r.format('<td class="k-scheduler-datecolumn" colspan="2">{0}</td>',this._dateTemplate({date:i}))),h.push('<tr role="row" aria-selected="false"'+(o?' class="k-today">':">")+c.join("")+"</tr>")):d.push(r.format('<td class="k-scheduler-datecolumn{3}{2}" rowspan="{0}">{1}</td>',a.length,this._dateTemplate({date:i}),n!=e.length-1||t.length?"":" k-last",t.length?"":" k-first"))),l.format=l.head?"{0:t}":l.tail?"{1:t}":"{0:t}-{1:t}",l.resources=this.eventResources(l),d.push(r.format('<td class="k-scheduler-timecolumn"><div>{0}{1}{2}</div></td><td>{3}</td>',l.tail||l.middle?'<span class="k-icon k-i-arrow-w"></span>':"",this._timeTemplate(l.clone({start:l.startTime||l.start,end:l.endTime||l.end})),l.head||l.middle?'<span class="k-icon k-i-arrow-e"></span>':"",this._eventTemplate(l.clone({showDelete:f})))),h.push('<tr role="row" aria-selected="false"'+(o?' class="k-today">':">")+d.join("")+"</tr>")}return h.join("")},render:function(e){var t,n=this.content.find("table").empty(),a=[];e.length>0&&(t=this.groupedResources,t.length?(a=this._createGroupConfiguration(e,t,null),this._renderGroups(a,n,[])):(a=this._tasks(e),n.append(this._renderTaskGroups(a,[])))),this._eventsList=i(a),this.refreshLayout(),this.trigger("activate")},_renderGroups:function(e,t,n){var i,a,r;for(i=0,a=e.length;a>i;i++)r=n.splice(0),r.push(e[i]),e[i].groups?this._renderGroups(e[i].groups,t,r):t.append(this._renderTaskGroups(e[i].items,r))},_createGroupConfiguration:function(e,i,a){var s,l,d,c,u,h,p,f=i[0],g=[],m=f.dataSource.view(),v=this._isMobilePhoneView();for(s=0;m.length>s;s++)l=n(f,m[s]),d=new r.data.Query(e).filter({field:f.field,operator:o.SchedulerView.groupEqFilter(l)}).toArray(),d.length&&(c=this._tasks(d),u=a?"":" k-first",s===m.length-1&&(!a||a.className.indexOf("k-last")>-1)&&(u+=" k-last"),h={text:r.getter(f.dataTextField)(m[s]),value:l,rowSpan:0,className:u},i.length>1?(h.groups=this._createGroupConfiguration(d,i.slice(1),h),a&&(a.rowSpan+=h.rowSpan)):(h.items=c,p=t(h.items),v&&(p+=h.items.length),h.rowSpan=p,a&&(a.rowSpan+=p)),g.push(h));return g},selectionByElement:function(t){var n,i;return t=e(t),t.hasClass("k-scheduler-datecolumn")?void 0:(n=t.parent().index(),i=this._eventsList[n],{index:n,start:i.start,end:i.end,isAllDay:i.isAllDay,uid:i.uid})},select:function(e){this.clearSelection();var t=this.table.find(".k-task").eq(e.index).closest("tr").addClass("k-state-selected").attr("aria-selected",!0)[0];this.current(t)},move:function(e,t){var n,i=!1,a=e.index;return t==r.keys.UP?(a--,i=!0):t==r.keys.DOWN&&(a++,i=!0),i&&(n=this._eventsList[a],n&&(e.start=n.start,e.end=n.end,e.isAllDay=n.isAllDay,e.events=[n.uid],e.index=a)),i},moveToEvent:function(){return!1},constrainSelection:function(e){var t=this._eventsList[0];t&&(e.start=t.start,e.end=t.end,e.isAllDay=t.isAllDay,e.events=[t.uid],e.index=0)},isInRange:function(){return!0},destroy:function(){this.element&&this.element.off(s),o.SchedulerView.fn.destroy.call(this)},options:{title:"Agenda",name:"agenda",editable:!0,selectedDateFormat:"{0:D}-{1:D}",eventTemplate:'<div class="k-task" title="#:title.replace(/"/g,"\'")#" data-#=kendo.ns#uid="#=uid#"># if (resources[0]) {#<span class="k-scheduler-mark" style="background-color:#=resources[0].color#"></span># } ## if (data.isException()) { #<span class="k-icon k-i-exception"></span># } else if (data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } ##:title##if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</div>',eventTimeTemplate:"#if(data.isAllDay) {##=this.options.messages.allDay##} else { ##=kendo.format(format, start, end)## } #",eventDateTemplate:'<strong class="k-scheduler-agendaday">#=kendo.toString(date, "dd")#</strong><em class="k-scheduler-agendaweek">#=kendo.toString(date,"dddd")#</em><span class="k-scheduler-agendadate">#=kendo.toString(date, "y")#</span>',eventGroupTemplate:'<strong class="k-scheduler-adgendagroup">#=value#</strong>',messages:{event:"Event",date:"Date",time:"Time",allDay:"all day"}}})}(window.kendo.jQuery),function(e){function t(e,t){return e.slice(t).concat(e.slice(0,t))}function n(e,t){for(var n=t.firstDay,i=new Date(e.getFullYear(),e.getMonth(),0,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());i.getDay()!=n;)a.date.setTime(i,-1*u);return i}function i(e,t,n){var i,a=t,r=n;return i=e,i>=a&&r>=i}var a=window.kendo,r=a.ui,o=r.SchedulerView,s=".kendoMonthView",l=e.extend,d=e.proxy,c=a.date.getDate,u=a.date.MS_PER_DAY,h=6,p=7,f=a.template('<span class="k-link k-nav-day">#:kendo.toString(date, "dd")#</span>'),g='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span>#}#</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-w"></span>#}## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-e"></span>#}#</div>',m=a.template('<div title="#=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">#:title#</div></div>'),v=a.template('<div style="width:#=width#px;left:#=left#px;top:#=top#px" class="k-more-events k-button"><span>...</span></div>');r.MonthView=o.extend({init:function(e,t){var n=this;o.fn.init.call(n,e,t),n.title=n.options.title,n.name="month",n._templates(),n._editable(),n._renderLayout(n.options.date),n._groups()},_updateDirection:function(e,t,n,i,a){var r,o,s,l,d;n&&(r=t[0].start,o=t[t.length-1].end,s=r.index===o.index,l=r.collectionIndex===o.collectionIndex,d=a?s&&l||l:s&&l,d&&(e.backward=i))},_changeViewPeriod:function(e,t,n){var i=n?7:1;return t&&(i*=-1),e.start=a.date.addDays(e.start,i),e.end=a.date.addDays(e.end,i),(!n||n&&this._isVerticallyGrouped())&&(e.groupIndex=t?this.groups.length-1:0),e.events=[],!0},_continuousSlot:function(e,t,n){var i=e.backward?0:t.length-1,a=this.groups[e.groupIndex];return a.continuousSlot(t[i].start,n)},_changeGroupContinuously:function(e,t,n,i){var a,r,o,s;return n||(a=e.groupIndex,r=this.groups.length-1,o=this._isVerticallyGrouped(),s=this.groups[a],!t&&o?(t=s[i?"lastSlot":"firstSlot"](),a+=i?-1:1):t&&!o&&(a=i?r:0),(0>a||a>r)&&(a=i?r:0,t=null),e.groupIndex=a),t},_normalizeHorizontalSelection:function(e,t,n){var i;return i=n?t[0].start:t[t.length-1].end},_normalizeVerticalSelection:function(e,t){var n;return n=e.backward?t[0].start:t[t.length-1].end},_templates:function(){var e=this.options,t=l({},a.Template,e.templateSettings);this.eventTemplate=this._eventTmpl(e.eventTemplate),this.dayTemplate=a.template(e.dayTemplate,t)},dateForTitle:function(){return a.format(this.options.selectedDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},nextDate:function(){return a.date.nextDay(this._lastDayOfMonth)},previousDate:function(){return a.date.previousDay(this._firstDayOfMonth)},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_renderLayout:function(t){var i=this;this._firstDayOfMonth=a.date.firstDayOfMonth(t),this._lastDayOfMonth=a.date.lastDayOfMonth(t),this._startDate=n(t,this.calendarInfo()),this.createLayout(this._layout()),this._content(),this.refreshLayout(),this.content.on("click"+s,".k-nav-day,.k-more-events",function(t){var n=e(t.currentTarget).offset(),a=i._slotByPosition(n.left,n.top);t.preventDefault(),i.trigger("navigate",{view:"day",date:a.startDate()})})},_editable:function(){this.options.editable&&!this._isMobilePhoneView()&&(this._isMobile()?this._touchEditable():this._mouseEditable())},_mouseEditable:function(){var t=this;t.element.on("click"+s,".k-scheduler-monthview .k-event a:has(.k-si-close)",function(n){t.trigger("remove",{uid:e(this).closest(".k-event").attr(a.attr("uid"))}),n.preventDefault()}),t.options.editable.create!==!1&&t.element.on("dblclick"+s,".k-scheduler-monthview .k-scheduler-content td",function(n){var i,a=e(n.currentTarget).offset(),r=t._slotByPosition(a.left,a.top);r&&(i=t._resourceBySlot(r),t.trigger("add",{eventInfo:l({isAllDay:!0,start:r.startDate(),end:r.startDate()},i)})),n.preventDefault()}),t.options.editable.update!==!1&&t.element.on("dblclick"+s,".k-scheduler-monthview .k-event",function(n){t.trigger("edit",{uid:e(this).closest(".k-event").attr(a.attr("uid"))}),n.preventDefault()})},_touchEditable:function(){var t=this;t.options.editable.create!==!1&&(t._addUserEvents=new a.UserEvents(t.element,{filter:".k-scheduler-monthview .k-scheduler-content td",tap:function(n){var i,a=e(n.target).offset(),r=t._slotByPosition(a.left,a.top);r&&(i=t._resourceBySlot(r),t.trigger("add",{eventInfo:l({isAllDay:!0,start:r.startDate(),end:r.startDate()},i)})),n.preventDefault()}})),t.options.editable.update!==!1&&(t._editUserEvents=new a.UserEvents(t.element,{filter:".k-scheduler-monthview .k-event",tap:function(n){0===e(n.event.target).closest("a:has(.k-si-close)").length&&(t.trigger("edit",{uid:e(n.target).closest(".k-event").attr(a.attr("uid"))}),n.preventDefault())}}))},selectionByElement:function(t){var n=e(t).offset();return this._slotByPosition(n.left,n.top)},_columnCountForLevel:function(e){var t=this.columnLevels[e];return t?t.length:0},_rowCountForLevel:function(e){var t=this.rowLevels[e];return t?t.length:0},_content:function(){var e,t="<tbody>",n=1,i=this.groupedResources;for(i.length&&this._isVerticallyGrouped()&&(n=this._rowCountForLevel(i.length-1)),e=0;n>e;e++)t+=this._createCalendar(e);t+="</tbody>",this.content.find("table").html(t)},_createCalendar:function(e){var t,n,i,r,o=this.startDate(),s=p*h,l=p,d=[o],c="",u=1,f=this._isVerticallyGrouped(),g=this.groupedResources;for(g.length&&(f||(u=this._columnCountForLevel(g.length-1))),this._slotIndices={},t=0,n=s/l;n>t;t++){for(c+="<tr>",d.push(o),i=t*l,r=0;u>r;r++)c+=this._createRow(o,i,l,f?e:r);o=a.date.addDays(o,l),c+="</tr>"}return this._weekStartDates=d,this._endDate=a.date.previousDay(o),c},_createRow:function(e,t,n,i){var r,o=this,s=o._firstDayOfMonth,l=o._lastDayOfMonth,d=o.dayTemplate,u="",h="",p=function(){return o._resourceBySlot({groupIndex:i})};for(r=0;n>r;r++)u="",a.date.isToday(e)&&(u+="k-today"),a.date.isInDateRange(e,s,l)||(u+=" k-other-month"),h+="<td ",""!==u&&(h+='class="'+u+'"'),h+=">",h+=d({date:e,resources:p}),h+="</td>",o._slotIndices[c(e).getTime()]=t+r,e=a.date.nextDay(e);return h},_layout:function(){var n,i,a,r=this.calendarInfo(),o=this._isMobile()?r.days.namesShort:r.days.names,s=t(o,r.firstDay),l=e.map(s,function(e){return{text:e}}),d=this.groupedResources;if(d.length)if(this._isVerticallyGrouped()){for(i=[],a=0;6>a;a++)i.push({text:"<div>&nbsp;</div>",className:"k-hidden k-slot-cell"});n=this._createRowsLayout(d,i)}else l=this._createColumnsLayout(d,l);return{columns:l,rows:n}},_eventTmpl:function(e){var t,n=this.options,i=l({},a.Template,n.templateSettings),r=i.paramName,o="",s=typeof e,c={storage:{},count:0};return"function"===s?(c.storage["tmpl"+c.count]=e,o+="#=this.tmpl"+c.count+"("+r+")#",c.count++):"string"===s&&(o+=e),t=a.template(a.format(g,o),i),c.count>0&&(t=d(t,c.storage)),t},_createEventElement:function(t){var n=this.options,i=n.editable,r=this._isMobile();return t.showDelete=i&&i.destroy!==!1&&!r,t.resizable=i&&i.resize!==!1&&!r,t.ns=a.ns,t.resources=this.eventResources(t),t.inverseColor=t.resources&&t.resources[0]?this._shouldInverseResourceColor(t.resources[0]):!1,e(this.eventTemplate(t))},_isInDateSlot:function(e){var t=this.groups[0],n=t.firstSlot().start,r=t.lastSlot().end-1,o=a.date.toUtcTime(e.start),s=a.date.toUtcTime(e.end);return(i(o,n,r)||i(s,n,r)||i(n,o,s)||i(r,o,s))&&(!i(s,n,n)||i(s,o,o)||e.isAllDay)},_slotIndex:function(e){return this._slotIndices[c(e).getTime()]},_positionMobileEvent:function(t,n,i){var r,s,l,d,c,u,h,p=t.start;t.start.offsetLeft>t.end.offsetLeft&&(p=t.end),r=t.start.index,s=r,l=3,d=o.collidingEvents(t.events(),r,s),d.push({element:n,start:r,end:s}),c=o.createRows(d),u=t.collection.at(r),h=u.container,h||(h=e(a.format('<div class="k-events-container" style="top:{0};left:{1};width:{2}"/>',p.offsetTop+p.firstChildTop+p.firstChildHeight-3+"px",p.offsetLeft+"px",p.offsetWidth+"px")),u.container=h,this.content[0].appendChild(h[0])),l>=c.length&&(t.addEvent({element:n,start:r,end:s,groupIndex:p.groupIndex}),i._continuousEvents.push({element:n,uid:n.attr(a.attr("uid")),start:t.start,end:t.end}),h[0].appendChild(n[0]))},_positionEvent:function(t,n,i){var r,s,l,d,c,u,h,p,f,g,m,b,_,y,k,w=this.options.eventHeight,x=t.start;for(t.start.offsetLeft>t.end.offsetLeft&&(x=t.end),r=t.start.index,s=t.end.index,l=x.eventCount,d=o.collidingEvents(t.events(),r,s),c=r!==s?5:4,d.push({element:n,start:r,end:s}),u=o.createRows(d),h=0,p=Math.min(u.length,l);p>h;h++)for(f=u[h].events,g=x.offsetTop+x.firstChildHeight+h*w+3*h+"px",m=0,b=f.length;b>m;m++)f[m].element[0].style.top=g;if(u.length>l)for(_=r;s>=_;_++){if(y=t.collection,k=y.at(_),k.more)return;k.more=e(v({ns:a.ns,start:_,end:_,width:k.clientWidth-2,left:k.offsetLeft+2,top:k.offsetTop+k.firstChildHeight+l*w+3*l})),this.content[0].appendChild(k.more[0])}else t.addEvent({element:n,start:r,end:s,groupIndex:x.groupIndex}),n[0].style.width=t.innerWidth()-c+"px",n[0].style.left=x.offsetLeft+2+"px",n[0].style.height=w+"px",i._continuousEvents.push({element:n,uid:n.attr(a.attr("uid")),start:t.start,end:t.end}),this.content[0].appendChild(n[0])},_slotByPosition:function(e,t){var n,i,a=this.content.offset();for(e-=a.left,t-=a.top,t+=this.content[0].scrollTop,e+=this.content[0].scrollLeft,e=Math.ceil(e),t=Math.ceil(t),n=0;this.groups.length>n;n++)if(i=this.groups[n].daySlotByPosition(e,t))return i;return null},_createResizeHint:function(e){var t=e.startSlot().offsetLeft,n=e.start.offsetTop,i=e.innerWidth(),a=e.start.clientHeight-2,r=o.fn._createResizeHint.call(this,t,n,i,a);r.appendTo(this.content),this._resizeHint=this._resizeHint.add(r)},_updateResizeHint:function(e,t,n,i){var r,o,s;for(this._removeResizeHint(),r=this.groups[t],o=r.ranges(n,i,!0,e.isAllDay),s=0;o.length>s;s++)this._createResizeHint(o[s]);this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(a.toString(a.timezone.toLocalDate(n),"M/dd")),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(a.toString(a.timezone.toLocalDate(i),"M/dd"))},_updateMoveHint:function(e,t,n){var i,r,o,s,l,d=a.date.toUtcTime(e.start)+n,c=d+e.duration(),u=this.groups[t],h=u.ranges(d,c,!0,e.isAllDay);for(this._removeMoveHint(),i=0;h.length>i;i++)r=h[i],o=r.startSlot(),s=r.endSlot(),l=this._createEventElement(e.clone({head:r.head,tail:r.tail})),l.css({left:o.offsetLeft+2,top:o.offsetTop+o.firstChildHeight,height:this.options.eventHeight,width:r.innerWidth()-(o.index!==s.index?5:4)}),l.addClass("k-event-drag-hint"),l.appendTo(this.content),this._moveHint=this._moveHint.add(l)},_groups:function(){var e,t,n,i,r,o,s,l,d,c,u,f,g,m,v,b,_,y=this._groupCount(),k=p,w=h;for(this.groups=[],e=0;y>e;e++)this._addResourceView(e);for(t=this.content[0].getElementsByTagName("tr"),n=0;y>n;n++)for(i=0,r=0,this._isVerticallyGrouped()&&(r=n),o=r*w;(r+1)*w>o;o++)for(s=this.groups[n],l=s.addDaySlotCollection(a.date.addDays(this.startDate(),i),a.date.addDays(this.startDate(),i+k)),d=t[o],c=d.children,u=0,d.setAttribute("role","row"),this._isVerticallyGrouped()||(u=n),f=u*k;(u+1)*k>f;f++)g=c[f],m=g.clientHeight,v=g.children.length?g.children[0].offsetHeight+3:0,b=a.date.toUtcTime(a.date.addDays(this.startDate(),i)),i++,_=Math.floor((m-v-this.options.moreButtonHeight)/(this.options.eventHeight+3)),g.setAttribute("role","gridcell"),g.setAttribute("aria-selected",!1),l.addDaySlot(g,b,b+a.date.MS_PER_DAY,_)},render:function(e){this.content.children(".k-event,.k-more-events,.k-events-container").remove(),this._groups(),e=new a.data.Query(e).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var t=this.groupedResources;t.length?this._renderGroups(e,t,0,1):this._renderEvents(e,0),this.refreshLayout(),this.trigger("activate")},_renderEvents:function(e,t){var n,i,a,r,o,s,l,d,c,u,h,p=this._isMobilePhoneView();for(i=0,a=e.length;a>i;i++)if(n=e[i],this._isInDateSlot(n))for(r=this.groups[t],r._continuousEvents||(r._continuousEvents=[]),o=r.slotRanges(n,!0),s=o.length,l=0;s>l;l++)d=o[l],c=n.start,u=n.end,s>1&&(0===l?u=d.end.endDate():l==s-1?c=d.start.startDate():(c=d.start.startDate(),u=d.end.endDate())),h=n.clone({start:c,end:u,head:d.head,tail:d.tail}),p?this._positionMobileEvent(d,this._createEventElement(h),r):this._positionEvent(d,this._createEventElement(h),r)},_renderGroups:function(e,t,n,i){var r,s,l,d,c=t[0];if(c)for(r=c.dataSource.view(),s=0;r.length>s;s++)l=this._resourceValue(c,r[s]),d=new a.data.Query(e).filter({field:c.field,operator:o.groupEqFilter(l)}).toArray(),t.length>1?n=this._renderGroups(d,t.slice(1),n++,i+1):this._renderEvents(d,n++);return n},_groupCount:function(){var e=this.groupedResources;return e.length?this._isVerticallyGrouped()?this._rowCountForLevel(e.length-1):this._columnCountForLevel(e.length)/this._columnOffsetForResource(e.length):1},_columnOffsetForResource:function(e){return this._columnCountForLevel(e)/this._columnCountForLevel(e-1)},destroy:function(){this.table&&this.table.removeClass("k-scheduler-monthview"),this.content&&this.content.off(s),this.element&&this.element.off(s),o.fn.destroy.call(this),this._isMobile()&&!this._isMobilePhoneView()&&this.options.editable&&(this.options.editable.create!==!1&&this._addUserEvents.destroy(),this.options.editable.update!==!1&&this._editUserEvents.destroy())},events:["remove","add","edit","navigate"],options:{title:"Month",name:"month",eventHeight:25,moreButtonHeight:13,editable:!0,selectedDateFormat:"{0:y}",dayTemplate:f,eventTemplate:m}})}(window.kendo.jQuery),function(e,t){function n(e,t){var n;return 0!==e&&t>e?n=t-e:(n=e%t,n&&(n=t-n)),n}function i(e){var t=e.getMonth(),n=m(e)?et[t]:tt[t];return n+e.getDate()}function a(e,n){var i,a;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),X(e,0),i=e.getFullYear(),n!==t?(K(e,n,-1),e.setDate(e.getDate()+4)):e.setDate(e.getDate()+(4-(e.getDay()||7))),X(e,0),a=Math.floor((e.getTime()-new Date(i,0,1,-6))/864e5),1+Math.floor(a/7)}function r(e,t){var n=J(e).getDay(),i=7-(n+7-(t||7))||7;return 0>i&&(i+=7),Math.ceil((e.getDate()-i)/7)+1}function o(e,t){return e+(t>e?7:0)}function s(e,t,n){var i,a,s,l,d,c=t.offset;return c?(i=new Date(e.getFullYear(),e.getMonth()+1,0),a=r(i,n),s=o(t.day,n),l=s<o(new Date(e.getFullYear(),e.getMonth(),1).getDay(),n),d=s>o(i.getDay(),n),0>c?c=a+(c+1-(d?1:0)):l&&(c+=1),a-=d?1:0,(l?1:0)>c||c>a?null:c):r(e,n)}function l(e,t){return r(new Date(e.getFullYear(),e.getMonth()+1,0),t)}function d(e,t,n){return r(e,n)===s(e,t,n)}function c(e,t,n){for(var i,a,l,d,c=o(t.getDay(),n),u=e.length,h=[],p=0;u>p;p++)if(a=e[p],d=r(t,n),i=s(t,a,n),null!==i)if(i>d)h.push(a);else if(d===i)if(l=o(a.day,n),l>c)h.push(a);else if(c===l)return null;return h}function u(e,t,n){for(var i,a=0,r=e.length,o=[];r>a;a++){if(i=e[a],n&&(i=n(i)),t===i)return null;i>t&&o.push(i)}return o}function h(e,t){for(var n,i=0,a=e.length;a>i;i++){if(n=parseInt(e[i],10),isNaN(n)||t.start>n||n>t.end||0===n&&0>t.start)return null;e[i]=n}return e.sort(v)}function p(e){for(var n,i,a,r=0,o=e.length;o>r;r++){if(n=e[r],i=n.length,a=n.substring(i-2).toUpperCase(),a=at[a],a===t)return null;e[r]={offset:parseInt(n.substring(0,i-2),10)||0,day:a}}return e}function f(e){for(var t,n,i=0,a=e.length,r=[];a>i;i++)t=e[i],"string"==typeof t?n=t:(n=""+it[t.day],t.offset&&(n=t.offset+n)),r.push(n);return""+r}function g(e){var t=e.getMonth();return 1===t?1===new Date(e.getFullYear(),1,29).getMonth()?29:28:nt[t]}function m(e){return e=e.getFullYear(),e%4===0&&e%100!==0||e%400===0}function v(e,t){return e-t}function b(e,t){var n,i,a=0,r=[];if(e)for(e=e.split(";"),n=e.length;n>a;a++)i=T(e[a],t),i&&r.push(i);return r}function _(t,n,i){for(var a=e.isArray(t)?t:b(t,i),r=n.getTime()-n.getMilliseconds(),o=0,s=a.length;s>o;o++)if(a[o].getTime()===r)return!0;return!1}function y(e,t){var n,i,a=0,r=[].concat(e);for(n=r.length;n>a;a++)i=r[a],i=W.timezone.convert(i,t||i.getTimezoneOffset(),"Etc/UTC"),r[a]=W.toString(i,lt);return r.join(";")+";"}function k(e,t){var n=new Date(e);switch(t.freq){case"yearly":n.setFullYear(n.getFullYear(),0,1);break;case"monthly":n.setFullYear(n.getFullYear(),n.getMonth(),1);break;case"weekly":K(n,t.weekStart,-1)}return t.hours&&n.setHours(0),t.minutes&&n.setMinutes(0),t.seconds&&n.setSeconds(0),n}function w(e,t){var n=new Date(e);switch(t.freq){case"yearly":n.setFullYear(n.getFullYear(),11,31);break;case"monthly":n.setFullYear(n.getFullYear(),n.getMonth()+1,0);break;case"weekly":K(n,t.weekStart,-1),n.setDate(n.getDate()+6)}return t.hours&&n.setHours(23),t.minutes&&n.setMinutes(59),t.seconds&&n.setSeconds(59),n}function x(e,t,n){var i,a,r,o,s=e.slice(n._startIdx),l=s.length,d=n.positions,c=[];for(r=0,o=d.length;o>r;r++)i=d[r],0>i?i=l+i:i-=1,a=s[i],a&&a.start>=t&&c.push(a);return e=e.slice(0,n._startIdx).concat(c),n._startIdx=e.length,e}function C(e,n,i,a){var r,o,s,l,d,c,u,h,p,f,g,m,v,C,T,S,E,F,A,M,H,z,I=D(e.recurrenceRule,a),R=[];if(!I)return[e];for(M=I.positions,H=M?0:1,f=I.start,g=I.end,(f||g)&&(e=e.clone({start:f?new Date(f.value[0]):t,end:g?new Date(g.value[0]):t})),E=e.start,S=E.getTime(),T=Z(E),C=b(e.recurrenceException,a),!C[0]&&I.exdates&&(C=I.exdates.value,e.set("recurrenceException",y(C,a))),h=n=new Date(n),i=new Date(i),v=I.freq,A=mt[v],F=I.count,I.until&&i>I.until&&(i=new Date(I.until)),m="yearly"===v||"monthly"===v||"weekly"===v,S>n||F||I.interval>1||m?n=new Date(S):(l=n.getHours(),d=n.getMinutes(),c=n.getSeconds(),I.hours||(l=E.getHours()),I.minutes||(d=E.getMinutes()),I.seconds||(c=E.getSeconds()),n.setHours(l,d,c,E.getMilliseconds())),I._startPeriod=new Date(n),M&&(n=k(n,I),i=w(i,I),z=Z(i)-Z(n),0>z&&(l=n.getHours(),i.setHours(l,n.getMinutes(),n.getSeconds(),n.getMilliseconds()),Q.adjustDST(i,l)),I._startPeriod=new Date(n),I._endPeriod=w(n,I),I._startIdx=0),u=e.duration(),I._startTime=r=Q.toInvariantTime(n),A.setup&&A.setup(I,E,n),A.limit(n,i,I);i>=n;)if(s=new Date(n),Y(s,u),p=n>=h||s>h,(p&&!_(C,n,a)||M)&&(r=Q.toUtcTime(Q.getDate(n))+Z(I._startTime),o=r+u,S!==n.getTime()||T!==Z(I._startTime)?R.push(e.toOccurrence({start:new Date(n),end:s,startTime:r,endTime:o})):(e.startTime=r,e.endTime=o,R.push(e))),M){if(A.next(n,I),A.limit(n,i,I),n>I._endPeriod&&(R=x(R,E,I),I._endPeriod=w(n,I),H=R.length),F&&F===H)break}else{if(F&&F===H)break;H++,A.next(n,I),A.limit(n,i,I)}return R}function T(e,t){return e=W.parseDate(e,rt),e&&t&&(e=V.convert(e,e.getTimezoneOffset(),t)),e}function S(e,n){var i,a,r,o,s,l,d,c,u=e.split(";");for(d=0,c=u.length;c>d;d++)if(i=u[d].split(":"),a=i[0],r=i[1],-1!==a.indexOf("TZID")&&(o=a.substring(a.indexOf("TZID")).split("=")[1]),r)for(r=r.split(","),s=0,l=r.length;l>s;s++)r[s]=T(r[s],o||n);return r?{value:r,tzid:o}:t}function D(n,i){var a,r,o,s,l,d,c,u,f,g={},m=0,v=!1,b=function(e,t){var n=e.day,i=t.day;return u>n&&(n+=7),u>i&&(i+=7),n-i};if(!n)return null;for(d=n.split("\n"),d[1]||-1===n.indexOf("DTSTART")&&-1===n.indexOf("DTEND")&&-1===n.indexOf("EXDATE")||(d=n.split(" ")),m=0,o=d.length;o>m;m++)l=d[m],-1!==l.indexOf("DTSTART")?g.start=S(l,i):-1!==l.indexOf("DTEND")?g.end=S(l,i):-1!==l.indexOf("EXDATE")?g.exdates=S(l,i):s=-1!==l.indexOf("RRULE")?l.substring(6):l;for(s=s.split(";"),m=0,o=s.length;o>m;m++)switch(c=s[m],a=c.split("="),r=e.trim(a[1]).split(","),e.trim(a[0]).toUpperCase()){case"FREQ":g.freq=r[0].toLowerCase();break;case"UNTIL":g.until=T(r[0],i);break;case"COUNT":g.count=parseInt(r[0],10);break;case"INTERVAL":g.interval=parseInt(r[0],10);break;case"BYSECOND":g.seconds=h(r,{start:0,end:60}),v=!0;break;case"BYMINUTE":g.minutes=h(r,{start:0,end:59}),v=!0;break;case"BYHOUR":g.hours=h(r,{start:0,end:23}),v=!0;break;case"BYMONTHDAY":g.monthDays=h(r,{start:-31,end:31}),v=!0;break;case"BYYEARDAY":g.yearDays=h(r,{start:-366,end:366}),v=!0;break;case"BYMONTH":g.months=h(r,{start:1,end:12}),v=!0;break;case"BYDAY":g.weekDays=f=p(r),v=!0;break;case"BYWEEKNO":g.weeks=h(r,{start:-53,end:53}),v=!0;break;case"BYSETPOS":g.positions=h(r,{start:-366,end:366});break;case"WKST":g.weekStart=u=at[r[0]]}return g.freq===t||g.count!==t&&g.until?null:(g.interval||(g.interval=1),u===t&&(g.weekStart=u=W.culture().calendar.firstDay),f&&(g.weekDays=f.sort(b)),g.positions&&!v&&(g.positions=null),g._hasRuleValue=v,g)}function E(e,t){for(var n,i=e.value,a=e.tzid||"",r=i.length,o=0;r>o;o++)n=i[o],n=V.convert(n,a||t||n.getTimezoneOffset(),"Etc/UTC"),i[o]=W.toString(n,"yyyyMMddTHHmmssZ");return a&&(a=";TZID="+a),a+":"+i.join(",")+" "}function F(e,n){var i=e.weekStart,a="FREQ="+e.freq.toUpperCase(),r=e.exdates||"",o=e.start||"",s=e.end||"",l=e.until;return e.interval>1&&(a+=";INTERVAL="+e.interval),e.count&&(a+=";COUNT="+e.count),l&&(l=V.convert(l,n||l.getTimezoneOffset(),"Etc/UTC"),a+=";UNTIL="+W.toString(l,"yyyyMMddTHHmmssZ")),e.months&&(a+=";BYMONTH="+e.months),e.weeks&&(a+=";BYWEEKNO="+e.weeks),e.yearDays&&(a+=";BYYEARDAY="+e.yearDays),e.monthDays&&(a+=";BYMONTHDAY="+e.monthDays),e.weekDays&&(a+=";BYDAY="+f(e.weekDays)),e.hours&&(a+=";BYHOUR="+e.hours),e.minutes&&(a+=";BYMINUTE="+e.minutes),e.seconds&&(a+=";BYSECOND="+e.seconds),e.positions&&(a+=";BYSETPOS="+e.positions),i!==t&&(a+=";WKST="+it[i]),o&&(o="DTSTART"+E(o,n)),s&&(s="DTEND"+E(s,n)),r&&(r="EXDATE"+E(r,n)),(o||s||r)&&(a=o+s+r+"RRULE:"+a),a}var A,M,H,z,I,R,N,P,O,L,B,j,W=window.kendo,V=W.timezone,q=W.Class,$=W.ui,U=$.Widget,G=$.DropDownList,Q=W.date,Y=Q.setTime,K=Q.setDayOfWeek,X=Q.adjustDST,J=Q.firstDayOfMonth,Z=Q.getMilliseconds,et=[0,31,60,91,121,152,182,213,244,274,305,335,366],tt=[0,31,59,90,120,151,181,212,243,273,304,334,365],nt=[31,28,30,31,30,31,30,31,30,31,30,31],it={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},at={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},rt=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],ot=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],st=ot.length,lt="yyyyMMddTHHmmssZ",dt={months:function(e,t,n){var i=n.months,a=u(i,e.getMonth()+1),r=!1;return null!==a&&(a.length?e.setMonth(a[0]-1,1):e.setFullYear(e.getFullYear()+1,i[0]-1,1),r=!0),r},monthDays:function(e,t,n){for(var i,a,r,o=!1,s=e.getHours(),l=function(e){return 0>e&&(e=i+e),e};t>=e;){if(a=e.getMonth(),i=g(e),r=u(n.monthDays,e.getDate(),l),null===r)return o;if(o=!0,r.length){if(e.setMonth(a,r.sort(v)[0]),X(e,s),a===e.getMonth())break}else e.setMonth(a+1,1)}return o},yearDays:function(e,t,n){for(var a,r,o=!1,s=e.getHours(),l=function(e){return 0>e&&(e=a+e),e};t>e;){if(a=m(e)?366:365,r=u(n.yearDays,i(e),l),null===r)return o;if(o=!0,a=e.getFullYear(),r.length){e.setFullYear(a,0,r.sort(v)[0]),X(e,s);break}e.setFullYear(a+1,0,1)}return o},weeks:function(e,t,n){for(var i,r,o,s=n.weekStart,l=!1,d=e.getHours(),c=function(e){return 0>e&&(e=53+e),e};t>e;){if(r=u(n.weeks,a(e,s),c),null===r)return l;if(l=!0,i=e.getFullYear(),r.length){o=7*r.sort(v)[0]-1,e.setFullYear(i,0,o),K(e,s,-1),X(e,d);break}e.setFullYear(i+1,0,1)}return l},weekDays:function(e,t,n){var i,a,o=n.weekDays,s=n.weekStart,u=c(o,e,s),h=e.getHours();if(null===u)return!1;if(i=u[0],i||(i=o[0],K(e,s)),a=i.day,i.offset)for(;t>=e&&!d(e,i,s);)r(e,s)===l(e,s)?(e.setMonth(e.getMonth()+1,1),X(e,h)):(e.setDate(e.getDate()+7),X(e,h),K(e,s,-1));return e.getDay()!==a&&K(e,a),!0},hours:function(e,t,n){var i=n.hours,a=n._startTime,r=a.getHours(),o=u(i,r),s=!1;return null!==o&&(s=!0,e.setHours(r),X(e,r),o.length?(o=o[0],e.setHours(o)):(o=e.getHours(),e.setDate(e.getDate()+1),X(e,o),o=i[0],e.setHours(o),X(e,o)),n.minutes&&e.setMinutes(0),a.setHours(o,e.getMinutes())),s},minutes:function(e,t,n){var i=n.minutes,a=e.getMinutes(),r=u(i,a),o=n._startTime.getHours(),s=!1;return null!==r&&(s=!0,r.length?r=r[0]:(o+=1,r=i[0]),n.seconds&&e.setSeconds(0),e.setHours(o,r),o%=24,X(e,o),n._startTime.setHours(o,r,e.getSeconds())),s},seconds:function(e,t,n){var i=n.seconds,a=n._startTime.getHours(),r=u(i,e.getSeconds()),o=e.getMinutes(),s=!1;return null!==r&&(s=!0,r.length?e.setSeconds(r[0]):(o+=1,e.setMinutes(o,i[0]),o>59&&(o%=60,a=(a+1)%24)),n._startTime.setHours(a,o,e.getSeconds())),s}},ct=q.extend({next:function(e,t){var n,i,a=t._startTime,r=a.getDate();if(t.seconds)i=e.getSeconds()+1,e.setSeconds(i),a.setSeconds(i),a.setDate(r);else{if(!t.minutes)return!1;n=e.getMinutes()+1,e.setMinutes(n),a.setMinutes(n),a.setDate(r)}return!0},normalize:function(e){var t=e.rule;4===e.idx&&t.hours&&(t._startTime.setHours(0),this._hour(e.date,t))},limit:function(e,n,i){for(var a,r,o,s,l,d=i.interval;n>=e;){for(o=r=t,l=e.getDate(),s=0;st>s;s++){if(a=ot[s],i[a]){if(o=dt[a](e,n,i),r!==t&&o)break;r=o}o&&this.normalize({date:e,rule:i,day:l,idx:s})}if((1===d||!this.interval(i,e))&&s===st)break}},interval:function(e,t){var i,r,o=new Date(e._startPeriod),s=new Date(t),l=t.getHours(),d=e.weekStart,c=e.interval,u=e.freq,h=!1,p=0,f=0,g=1;return"hourly"===u?(i=s.getTimezoneOffset()-o.getTimezoneOffset(),r=e._startTime.getHours(),s=s.getTime(),l!==r&&(s+=(r-l)*Q.MS_PER_HOUR),s-=o,i&&(s-=i*Q.MS_PER_MINUTE),i=Math.floor(s/Q.MS_PER_HOUR),p=n(i,c),0!==p&&(this._hour(t,e,p),h=!0)):"daily"===u?(Q.setTime(s,-o),i=Math.floor(s/Q.MS_PER_DAY),p=n(i,c),0!==p&&(this._date(t,e,p),h=!0)):"weekly"===u?(i=52*(t.getFullYear()-o.getFullYear()),p=a(t,d)-a(o,d)+i,p=n(p,c),0!==p&&(Q.setDayOfWeek(t,e.weekStart,-1),t.setDate(t.getDate()+7*p),X(t,l),h=!0)):"monthly"===u?(i=t.getFullYear()-o.getFullYear(),i=t.getMonth()-o.getMonth()+12*i,p=n(i,c),0!==p&&(g=e._hasRuleValue?1:t.getDate(),t.setFullYear(t.getFullYear(),t.getMonth()+p,g),X(t,l),h=!0)):"yearly"===u&&(i=t.getFullYear()-o.getFullYear(),p=n(i,c),e.months||(f=t.getMonth()),e.yearDays||e.monthDays||e.weekDays||(g=t.getDate()),0!==p&&(t.setFullYear(t.getFullYear()+p,f,g),X(t,l),h=!0)),h},_hour:function(e,t,n){var i=t._startTime,a=i.getHours();n&&(a+=n),e.setHours(a),a%=24,i.setHours(a),X(e,a)},_date:function(e,t,n){var i=e.getHours();
e.setDate(e.getDate()+n),X(e,i)||this._hour(e,t)}}),ut=ct.extend({next:function(e,t){ct.fn.next(e,t)||this._hour(e,t,1)},normalize:function(e){var t=e.rule;4===e.idx&&(t._startTime.setHours(0),this._hour(e.date,t))}}),ht=ct.extend({next:function(e,t){ct.fn.next(e,t)||this[t.hours?"_hour":"_date"](e,t,1)}}),pt=ht.extend({setup:function(e,t){e.weekDays||(e.weekDays=[{day:t.getDay(),offset:0}])}}),ft=ct.extend({next:function(e,t){var n,i;if(!ct.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else{for(n=e.getDate(),i=e.getHours(),e.setMonth(e.getMonth()+1),X(e,i);e.getDate()!==n;)e.setDate(n),X(e,i);this._hour(e,t)}},normalize:function(e){var t=e.rule,n=e.date,i=n.getHours();0!==e.idx||t.monthDays||t.weekDays?ct.fn.normalize(e):(n.setDate(e.day),X(n,i))},setup:function(e,t,n){e.monthDays||e.weekDays||n.setDate(t.getDate())}}),gt=ft.extend({next:function(e,t){var n,i=e.getHours();if(!ct.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else if(t.months){for(n=e.getDate(),e.setMonth(e.getMonth()+1),X(e,i);e.getDate()!==n;)e.setDate(n),X(e,i);this._hour(e,t)}else e.setFullYear(e.getFullYear()+1),X(e,i),this._hour(e,t)},setup:function(){}}),mt={hourly:new ut,daily:new ht,weekly:new pt,monthly:new ft,yearly:new gt},vt="click";W.recurrence={rule:{parse:D,serialize:F},expand:C,dayInYear:i,weekInYear:a,weekInMonth:r,numberOfWeeks:l,isException:_,toExceptionString:y},A=function(e){for(var t=W.culture().calendar.days.namesShort,n=t.length,i="",a=0,r=[];n>a;a++)r.push(a);for(t=t.slice(e).concat(t.slice(0,e)),r=r.slice(e).concat(r.slice(0,e)),a=0;n>a;a++)i+='<label class="k-check"><input class="k-recur-weekday-checkbox" type="checkbox" value="'+r[a]+'" /> '+t[a]+"</label>";return i},M=W.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-month-radio" type="radio" name="month" value="monthday" />#:messages.day#</label><input class="k-recur-monthday" /></li><li><input class="k-recur-month-radio" type="radio" name="month" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" /></li></ul></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><input class="k-recur-year-radio" type="radio" name="year" value="monthday" /><input class="k-recur-month" /><input class="k-recur-monthday" /></li><li><input class="k-recur-year-radio" type="radio" name="year" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" />#:messages.of#<input class="k-recur-month" /></li></ul></div># } ## if (frequency !== "never") { #<div class="k-edit-label"><label>#:end.label#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-end-never" type="radio" name="end" value="never" />#:end.never#</label></li><li><label><input class="k-recur-end-count" type="radio" name="end" value="count" />#:end.after#</label><input class="k-recur-count" />#:end.occurrence#</li><li><label><input class="k-recur-end-until" type="radio" name="end" value="until" />#:end.on#</label><input class="k-recur-until" /></li></ul></div># } #'),H=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}],z=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}],I=[{day:0,offset:0},{day:6,offset:0}],R=U.extend({init:function(e,t){var n,i=this,a=t&&t.frequencies;U.fn.init.call(i,e,t),i.wrapper=i.element,t=i.options,t.start=n=t.start||Q.today(),a&&(t.frequencies=a),"string"==typeof n&&(t.start=W.parseDate(n,"yyyyMMddTHHmmss")),null===t.firstWeekDay&&(t.firstWeekDay=W.culture().calendar.firstDay),i._namespace="."+t.name},options:{value:"",start:"",timezone:"",spinners:!0,firstWeekDay:null,frequencies:["never","daily","weekly","monthly","yearly"],mobile:!1,messages:{frequencies:{never:"Never",hourly:"Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},hourly:{repeatEvery:"Repeat every: ",interval:" hour(s)"},daily:{repeatEvery:"Repeat every: ",interval:" day(s)"},weekly:{interval:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" month(s)",day:"Day "},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" year(s)",of:" of "},end:{label:"End:",mobileLabel:"Ends",never:"Never",after:"After ",occurrence:" occurrence(s)",on:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},weekdays:{day:"day",weekday:"weekday",weekend:"weekend day"}}},events:["change"],_initInterval:function(){var e=this,t=e._value;e._container.find(".k-recur-interval").kendoNumericTextBox({spinners:e.options.spinners,value:t.interval||1,decimals:0,format:"#",min:1,change:function(){t.interval=this.value(),e._trigger()}})},_weekDayRule:function(e){var t=this,n=(t._weekDay.element||t._weekDay).val(),i=+(t._weekDayOffset.element||t._weekDayOffset).val(),a=null,r=null;e||("day"===n?(a=H,r=i):"weekday"===n?(a=z,r=i):"weekend"===n?(a=I,r=i):a=[{offset:i,day:+n}]),t._value.weekDays=a,t._value.positions=r},_weekDayView:function(){var e,t,n,i,a=this,r=a._value.weekDays,o=a._value.positions,s=a._weekDayOffset;r&&(n=r.length,o&&(7===n?(t="day",e=o):5===n?(t="weekday",e=o):2===n&&(t="weekend",e=o)),t||(r=r[0],t=r.day,e=r.offset||""),i=s.value?"value":"val",s[i](e),a._weekDay[i](t))},_initWeekDay:function(){var t,n=this,i=n.options.messages.weekdays,a=n.options.messages.offsetPositions,r=n._container.find(".k-recur-weekday"),o=function(){n._weekDayRule(),n._trigger()};r[0]&&(n._weekDayOffset=new G(n._container.find(".k-recur-weekday-offset"),{change:o,dataTextField:"text",dataValueField:"value",dataSource:[{text:a.first,value:"1"},{text:a.second,value:"2"},{text:a.third,value:"3"},{text:a.fourth,value:"4"},{text:a.last,value:"-1"}]}),t=[{text:i.day,value:"day"},{text:i.weekday,value:"weekday"},{text:i.weekend,value:"weekend"}],n._weekDay=new G(r,{value:n.options.start.getDay(),change:o,dataTextField:"text",dataValueField:"value",dataSource:t.concat(e.map(W.culture().calendar.days.names,function(e,t){return{text:e,value:t}}))}),n._weekDayView())},_initWeekDays:function(){var t,n,i,a,r,o=this,s=o._value,l=o._container.find(".k-recur-weekday-checkbox");if(l[0]&&(l.on(vt+o._namespace,function(){s.weekDays=e.map(l.filter(":checked"),function(e){return{day:+e.value,offset:0}}),o.options.mobile||o._trigger()}),s.weekDays))for(i=0,a=l.length,r=s.weekDays.length;a>i;i++)for(n=l[i],t=0;r>t;t++)n.value==s.weekDays[t].day&&(n.checked=!0)},_initMonthDay:function(){var e=this,t=e._value,n=e._container.find(".k-recur-monthday");n[0]&&(e._monthDay=new W.ui.NumericTextBox(n,{spinners:e.options.spinners,min:1,max:31,decimals:0,format:"#",value:t.monthDays?t.monthDays[0]:e.options.start.getDate(),change:function(){var n=this.value();t.monthDays=n?[n]:n,e._trigger()}}))},_initCount:function(){var e=this,t=e._container.find(".k-recur-count"),n=e._value;e._count=t.kendoNumericTextBox({spinners:e.options.spinners,value:n.count||1,decimals:0,format:"#",min:1,change:function(){n.count=this.value(),e._trigger()}}).data("kendoNumericTextBox")},_initUntil:function(){var e=this,t=e._container.find(".k-recur-until"),n=e.options.start,i=e._value,a=i.until;e._until=t.kendoDatePicker({min:a&&n>a?a:n,value:a||n,change:function(){i.until=this.value(),e._trigger()}}).data("kendoDatePicker")},_trigger:function(){this.options.mobile||this.trigger("change")}}),N=R.extend({init:function(e,t){var n=this;R.fn.init.call(n,e,t),n._initFrequency(),n._initContainer(),n.value(n.options.value)},options:{name:"RecurrenceEditor"},events:["change"],destroy:function(){var e=this;e._frequency.destroy(),e._container.find("input[type=radio],input[type=checkbox]").off(vt+e._namespace),W.destroy(e._container),R.fn.destroy.call(e)},value:function(e){var n=this,i=n.options.timezone;return e===t?n._value.freq?F(n._value,i):"":(n._value=D(e,i)||{},n._frequency.value(n._value.freq||""),n._initView(n._frequency.value()),t)},_initContainer:function(){var t=this.element,n=e('<div class="k-recur-view" />'),i=t.parent(".k-edit-field");i[0]?n.insertAfter(i):t.append(n),this._container=n},_initFrequency:function(){var t,n=this,i=n.options,a=i.frequencies,r=i.messages.frequencies,o=e("<input />");a=e.map(a,function(e){return{text:r[e],value:e}}),t=a[0],t&&"never"===t.value&&(t.value=""),n.element.append(o),n._frequency=new G(o,{dataTextField:"text",dataValueField:"value",dataSource:a,change:function(){n._value={},n._initView(n._frequency.value()),n.trigger("change")}})},_initView:function(e){var n=this,i=n._value,a=n.options,r={frequency:e||"never",weekDayCheckBoxes:A,firstWeekDay:a.firstWeekDay,messages:a.messages[e],end:a.messages.end};return W.destroy(n._container),n._container.html(M(r)),e?(i.freq=e,"weekly"!==e||i.weekDays||(i.weekDays=[{day:a.start.getDay(),offset:0}]),n._initInterval(),n._initWeekDays(),n._initMonthDay(),n._initWeekDay(),n._initMonth(),n._initCount(),n._initUntil(),n._period(),n._end(),t):(n._value={},t)},_initMonth:function(){var t,n=this,i=n._value,a=i.months||[n.options.start.getMonth()+1],r=n._container.find(".k-recur-month");r[0]&&(t={change:function(){i.months=[+this.value()],n.trigger("change")},dataTextField:"text",dataValueField:"value",dataSource:e.map(W.culture().calendar.months.names,function(e,t){return{text:e,value:t+1}})},n._month1=new G(r[0],t),n._month2=new G(r[1],t),a&&(a=a[0],n._month1.value(a),n._month2.value(a)))},_end:function(){var e,t=this,n=t._value,i=t._container,a=t._namespace,r=function(e){t._toggleEnd(e.currentTarget.value),t.trigger("change")};t._buttonNever=i.find(".k-recur-end-never").on(vt+a,r),t._buttonCount=i.find(".k-recur-end-count").on(vt+a,r),t._buttonUntil=i.find(".k-recur-end-until").on(vt+a,r),n.count?e="count":n.until&&(e="until"),t._toggleEnd(e)},_period:function(){var e=this,t=e._value,n="monthly"===t.freq,i=n?e._toggleMonthDay:e._toggleYear,a=".k-recur-"+(n?"month":"year")+"-radio",r=e._container.find(a);(n||"yearly"===t.freq)&&(r.on(vt+e._namespace,function(t){i.call(e,t.currentTarget.value),e.trigger("change")}),e._buttonMonthDay=r.eq(0),e._buttonWeekDay=r.eq(1),i.call(e,t.weekDays?"weekday":"monthday"))},_toggleEnd:function(e){var t,n,i,a,r=this;"count"===e?(r._buttonCount.prop("checked",!0),i=!0,a=!1,t=r._count.value(),n=null):"until"===e?(r._buttonUntil.prop("checked",!0),i=!1,a=!0,t=null,n=r._until.value()):(r._buttonNever.prop("checked",!0),i=a=!1,t=n=null),r._count.enable(i),r._until.enable(a),r._value.count=t,r._value.until=n},_toggleMonthDay:function(e){var t,n=this,i=!1,a=!0,r=!1;"monthday"===e?(n._buttonMonthDay.prop("checked",!0),t=[n._monthDay.value()],i=!0,a=!1,r=!0):(n._buttonWeekDay.prop("checked",!0),t=null),n._weekDay.enable(a),n._weekDayOffset.enable(a),n._monthDay.enable(i),n._value.monthDays=t,n._weekDayRule(r)},_toggleYear:function(e){var t,n=this,i=!1,a=!0;"monthday"===e?(i=!0,a=!1,t=n._month1.value()):t=n._month2.value(),n._month1.enable(i),n._month2.enable(a),n._value.months=[t],n._toggleMonthDay(e)}}),$.plugin(N),P=W.template('<div class="k-edit-label"><label>#:headerTitle#</label></div><div class="k-edit-field k-recur-pattern k-scheduler-toolbar"></div><div class="k-recur-view"></div>'),O=W.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval" pattern="\\\\d*"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div><div class="k-edit-label"><label>#:messages.month#</label></div><div class="k-edit-field"><select class="k-recur-month"></select></div># } #'),L=W.template('# if (endPattern === "count") { #<div class="k-edit-label"><label>#:messages.after#</label></div><div class="k-edit-field"><input class="k-recur-count" pattern="\\\\d*" /></div># } else if (endPattern === "until") { #<div class="k-edit-label"><label>#:messages.on#</label></div><div class="k-edit-field"><input type="date" class="k-recur-until" /></div># } #'),B=W.template('<ul class="k-reset k-header k-toolbar k-scheduler-navigation">#for (var i = 0, length = dataSource.length; i < length; i++) {#<li class="k-state-default #= value === dataSource[i].value ? "k-state-selected" : "" #"><a role="button" href="\\#" class="k-link" data-#=ns#value="#=dataSource[i].value#">#:dataSource[i].text#</a></li>#}#</ul>'),j=R.extend({init:function(e,t){var n=this;R.fn.init.call(n,e,t),t=n.options,n._optionTemplate=W.template('<option value="#:value#">#:text#</option>'),n.value(t.value),n._pane=t.pane,n._initRepeatButton(),n._initRepeatEnd(),n._defaultValue=n._value},options:{name:"MobileRecurrenceEditor",animations:{left:"slide",right:"slide:right"},mobile:!0,messages:{cancel:"Cancel",update:"Save",endTitle:"Repeat ends",repeatTitle:"Repeat pattern",headerTitle:"Repeat event",end:{patterns:{never:"Never",after:"After...",on:"On..."},never:"Never",after:"End repeat after",on:"End repeat on"},daily:{interval:""},hourly:{interval:""},weekly:{interval:""},monthly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every",every:"Every",day:"Day "},yearly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every: ",every:"Every",month:"Month",day:"Day"}}},events:["change"],value:function(e){var n=this,i=n.options.timezone;return e===t?n._value.freq?F(n._value,i):"":(n._value=D(e,i)||{},t)},destroy:function(){this._destroyView(),W.destroy(this._endFields),this._repeatButton.off(vt+this._namespace),R.fn.destroy.call(this)},_initRepeatButton:function(){var t=this,n=t.options.messages.frequencies[this._value.freq||"never"];t._repeatButton=e('<a href="#" class="k-button k-scheduler-recur">'+n+"</a>").on(vt+t._namespace,function(e){e.preventDefault(),t._createView("repeat"),t._pane.navigate("recurrence",t.options.animations.left)}),t.element.append(t._repeatButton)},_initRepeatEnd:function(){var t=this,n=e('<div class="k-edit-label"><label>'+t.options.messages.end.mobileLabel+"</label></div>").insertAfter(t.element.parent(".k-edit-field")),i=e('<div class="k-edit-field"><a href="#" class="k-button k-scheduler-recur-end"></a></div>').on(vt+t._namespace,function(e){e.preventDefault(),t._value.freq&&(t._createView("end"),t._pane.navigate("recurrence",t.options.animations.left))}).insertAfter(n);t._endFields=n.add(i).toggleClass("k-state-disabled",!t._value.freq),t._endButton=i.find(".k-scheduler-recur-end").text(t._endText())},_endText:function(){var e=this._value,t=this.options.messages.end,n=t.never;return e.count?n=W.format("{0} {1}",t.after,e.count):e.until&&(n=W.format("{0} {1:d}",t.on,e.until)),n},_initFrequency:function(){var t=this,n=t.options.messages.frequencies,i=B({dataSource:e.map(this.options.frequencies,function(e){return{text:n[e],value:"never"!==e?e:""}}),value:t._value.freq||"",ns:W.ns});t._view.element.find(".k-recur-pattern").append(i).on(vt+t._namespace,".k-scheduler-navigation li",function(n){var i=e(this);n.preventDefault(),i.addClass("k-state-selected").siblings().removeClass("k-state-selected"),t._value={freq:i.children("a").attr(W.attr("value"))},t._initRepeatView()})},_initEndNavigation:function(){var t,n=this,i=n.options.messages.end.patterns,a=n._value,r="";a.count?r="count":a.until&&(r="until"),t=B({dataSource:[{text:i.never,value:""},{text:i.after,value:"count"},{text:i.on,value:"until"}],value:r,ns:W.ns}),n._view.element.find(".k-recur-pattern").append(t).on(vt+n._namespace,".k-scheduler-navigation li",function(t){var i=e(this),r=null,o=null;t.preventDefault(),i.addClass("k-state-selected").siblings().removeClass("k-state-selected"),n._initEndView(i.children("a").attr(W.attr("value"))),n._count?(r=n._count.value(),o=null):n._until&&(r=null,o=n._until.val?W.parseDate(n._until.val(),"yyyy-MM-dd"):n._until.value()),a.count=r,a.until=o})},_createView:function(t){var n=this,i=n.options,a=i.messages,r=a["repeat"===t?"repeatTitle":"endTitle"],o='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="recurrence"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+a.cancel+"</a>"+a.headerTitle+'<a href="#" class="k-button k-scheduler-update">'+a.update+"</a></div>",s=n._pane.view().id;n._view=n._pane.append(o+P({headerTitle:r})),n._view.element.on(vt+n._namespace,"a.k-scheduler-cancel, a.k-scheduler-update",function(t){t.preventDefault(),t.stopPropagation(),e(this).hasClass("k-scheduler-update")?(n.trigger("change"),n._defaultValue=e.extend({},n._value)):n._value=n._defaultValue;var i=n._value.freq;n._endButton.text(n._endText()),n._endFields.toggleClass("k-state-disabled",!i),n._repeatButton.text(a.frequencies[i||"never"]),n._pane.one("viewShow",function(){n._destroyView()}),n._pane.navigate(s,n.options.animations.right)}),n._container=n._view.element.find(".k-recur-view"),"repeat"===t?(n._initFrequency(),n._initRepeatView()):(n._initEndNavigation(),n._initEndView())},_destroyView:function(){this._view&&(this._view.destroy(),this._view.element.remove()),this._view=null},_initRepeatView:function(){var e=this,n=e._value.freq||"never",i={frequency:n,weekDayCheckBoxes:A,firstWeekDay:e.options.firstWeekDay,messages:e.options.messages[n]},a=O(i),r=e._container,o=e._value;return W.destroy(r),r.html(a),a?("weekly"!==n||o.weekDays||(o.weekDays=[{day:e.options.start.getDay(),offset:0}]),e._initInterval(),e._initMonthDay(),e._initWeekDays(),e._initWeekDay(),e._initMonth(),e._period(),t):(e._value={},t)},_initEndView:function(e){var n,i=this,a=i._value;e===t&&(a.count?e="count":a.until&&(e="until")),n={endPattern:e,messages:i.options.messages.end},W.destroy(i._container),i._container.html(L(n)),i._initCount(),i._initUntil()},_initWeekDay:function(){var t,n=this,i=n.options.messages.weekdays,a=n.options.messages.offsetPositions,r=n._container.find(".k-recur-weekday"),o=function(){n._weekDayRule(),n.trigger("change")};r[0]&&(n._weekDayOffset=n._container.find(".k-recur-weekday-offset").html(n._options([{text:a.first,value:"1"},{text:a.second,value:"2"},{text:a.third,value:"3"},{text:a.fourth,value:"4"},{text:a.last,value:"-1"}])).change(o),t=[{text:i.day,value:"day"},{text:i.weekday,value:"weekday"},{text:i.weekend,value:"weekend"}],t=t.concat(e.map(W.culture().calendar.days.names,function(e,t){return{text:e,value:t}})),n._weekDay=r.html(n._options(t)).change(o).val(n.options.start.getDay()),n._weekDayView())},_initMonth:function(){var t,n=this,i=n._value,a=n.options.start,r=i.months||[a.getMonth()+1],o=n._container.find(".k-recur-month"),s=W.culture().calendar.months.names;o[0]&&(t=e.map(s,function(e,t){return{text:e,value:t+1}}),o.html(n._options(t)).change(function(){i.months=[+this.value]}),n._monthSelect=o,r&&o.val(r[0]))},_period:function(){var t,n,i,a=this,r=a._value,o=a._container,s=a.options.messages[r.freq],l=o.find(".k-repeat-rule"),d=o.find(".k-weekday-view"),c=o.find(".k-monthday-view");l[0]&&(t=r.weekDays?"weekday":"monthday",n=B({value:t,dataSource:[{text:s.dayOfMonth,value:"monthday"},{text:s.dayOfWeek,value:"weekday"}],ns:W.ns}),i=function(e){var t=a._weekDay.val(),n=a._weekDayOffset.val(),i=a._monthDay.value(),o=a._monthSelect?a._monthSelect.val():null;"monthday"===e?(r.weekDays=null,r.monthDays=i?[i]:i,r.months=o?[+o]:o,d.hide(),c.show()):(r.monthDays=null,r.months=o?[+o]:o,r.weekDays=[{offset:+n,day:+t}],d.show(),c.hide())},l.append(n).on(vt+a._namespace,".k-scheduler-navigation li",function(t){var n,a=e(this).addClass("k-state-selected");t.preventDefault(),a.siblings().removeClass("k-state-selected"),n=a.children("a").attr(W.attr("value")),i(n)}),i(t))},_initUntil:function(){var e=this,t=e._container.find(".k-recur-until"),n=e.options.start,i=e._value,a=i.until,r=a&&n>a?a:n;e._until=W.support.input.date?t.attr("min",W.toString(r,"yyyy-MM-dd")).val(W.toString(a||n,"yyyy-MM-dd")).on("change",function(){i.until=W.parseDate(this.value,"yyyy-MM-dd")}):t.kendoDatePicker({min:r,value:a||n,change:function(){i.until=this.value()}}).data("kendoDatePicker")},_options:function(e,t){var n=0,i="",a=e.length,r=this._optionTemplate;for(t&&(i+=r({value:"",text:t}));a>n;n++)i+=r(e[n]);return i}}),$.plugin(j)}(window.kendo.jQuery),function(e,t){function n(e,t){return t=t||"",e.startTimezone&&(t=e.startTimezone,e.endTimezone&&(t+=" | "+e.endTimezone)),t}function i(e,t){var n=t.timezone;n&&(e[E.attr("timezone")]=n)}function a(e,t){var n,i=t.model.fields[t.field].validation;i&&(n=i.dateCompare,n&&W(n)&&n.message&&(e[E.attr("dateCompare-msg")]=n.message))}function r(e,t){return function(n){return n=e(n),s(n,"apply",t),n||[]}}function o(e,t){return function(n){return n&&("[object Array]"===$.call(n)||n instanceof E.data.ObservableArray||(n=[n])),s(n,"remove",t,!0),n=e(n),n||[]}}function s(e,t,n,i){var a,r,o;for(e=e||[],r=0,o=e.length;o>r;r++)a=e[r],i?a.startTimezone||a.endTimezone?n?(a.start=E.timezone.convert(a.start,a.startTimezone||a.endTimezone,n),a.end=E.timezone.convert(a.end,a.endTimezone||a.startTimezone,n),a.start=E.timezone[t](a.start,n),a.end=E.timezone[t](a.end,n)):(a.start=E.timezone[t](a.start,a.startTimezone||a.endTimezone),a.end=E.timezone[t](a.end,a.endTimezone||a.startTimezone)):n&&(a.start=E.timezone[t](a.start,n),a.end=E.timezone[t](a.end,n)):a.startTimezone||a.endTimezone?(a.start=E.timezone[t](a.start,a.startTimezone||a.endTimezone),a.end=E.timezone[t](a.end,a.endTimezone||a.startTimezone),n&&(a.start=E.timezone.convert(a.start,a.startTimezone||a.endTimezone,n),a.end=E.timezone.convert(a.end,a.endTimezone||a.startTimezone,n))):n&&(a.start=E.timezone[t](a.start,n),a.end=E.timezone[t](a.end,n)),i&&delete a.uid;return e}function l(e,t){for(var n,i=e.length,a=0;i>a;a++)if(n=e[a],n.uid===t)return n}function d(e,t,n){return e=n?E.timezone.convert(e,t,n):E.timezone.remove(e,t)}function c(e){var t,n,i,a,r,o,s,l,c,u,h,p;return e.filter("[name=end]").length&&(t=e.closest(".k-scheduler-edit-form"),n=t.find("[name=start]:visible"),i=t.find("[name=end]:visible"),i[0]&&n[0]&&(o=E.widgetInstance(n,E.ui),s=E.widgetInstance(i,E.ui),l=t.data("kendoEditable"),c=l?l.options.model:null,o&&s?(a=o.value(),r=s.value()):(a=E.parseDate(n.val()),r=E.parseDate(i.val())),a&&r))?(c&&(u=n.attr(E.attr("timezone")),h=c.startTimezone,p=c.endTimezone,h=h||p,p=p||h,h&&(a=d(a,h,u),r=d(r,p,u))),r>=a):!0}function u(e,t,n,i){for(var a=e.length,r=[],o=0;a>o;o++)r=r.concat(e[o].expand(t,n,i));return r}function h(e){return delete e.name,delete e.prefix,delete e.remove,delete e.edit,delete e.add,delete e.navigate,e}function p(t){return function(n){e(E.format('<select data-{0}bind="value:{1}">',E.ns,t.field)).appendTo(n).kendoDropDownList({dataTextField:t.dataTextField,dataValueField:t.dataValueField,dataSource:t.dataSource,valuePrimitive:t.valuePrimitive,optionLabel:"None",template:E.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField)})}}function f(t){return function(n){e(E.format('<select data-{0}bind="value:{1}">',E.ns,t.field)).appendTo(n).kendoMultiSelect({dataTextField:t.dataTextField,dataValueField:t.dataValueField,dataSource:t.dataSource,valuePrimitive:t.valuePrimitive,itemTemplate:E.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField),tagTemplate:E.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField)})}}function g(t){return function(n){var i,a,r="",o=t.dataSource.view();for(i=0,a=o.length;a>i;i++)r+=E.format('<option value="{0}">{1}</option>',E.getter(t.dataValueField)(o[i]),E.getter(t.dataTextField)(o[i]));e(E.format('<select data-{0}bind="value:{1}" multiple="multiple" data-{0}value-primitive="{3}">{2}</select>',E.ns,t.field,r,t.valuePrimitive)).appendTo(n)}}function m(e,t){var n,i=e.end.getTime()-e.start.getTime(),a=new Date(e.start.getTime());return E.date.setTime(a,t),n=new Date(a.getTime()),E.date.setTime(n,i,!0),{start:a,end:n}}var v,b,_,y,k,w,x,C,T,S,D,E=window.kendo,F=E.date,A=E.support.input,M=F.MS_PER_DAY,H=F.getDate,z=E.date.getMilliseconds,I=E.recurrence,R=E.keys,N=E.ui,P=N.Widget,O="string",L=N.Popup,B=N.Calendar,j=E.data.DataSource,W=e.isPlainObject,V=e.extend,q=e.proxy,$=Object.prototype.toString,U=e.isArray,G=".kendoScheduler",Q="click",Y="change",K="cancel",X="remove",J="save",Z="add",et="edit",tt=/(?:value:start|value:end)(?:,|$)/,nt=H(new Date),it="recurrenceException",at="Are you sure you want to delete this event?",rt="Do you want to delete only this event occurrence or the whole series?",ot="Do you want to edit only this event occurrence or the whole series?",st='<a class="k-button #=className#" #=attr# href="\\#">#=text#</a>',lt=E.template('<div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li><li class="k-state-default k-nav-current"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-calendar"></span><span data-#=ns#bind="text: formattedDate"></span></a></li></ul><ul class="k-reset k-header k-toolbar k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul></div>'),dt=E.template('<div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li></ul><ul class="k-reset k-header k-toolbar k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul></div><div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-current"><span data-#=ns#bind="text: formattedDate"></span></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li></ul></div>'),ct=function(t,n){var r={name:n.field},o=A.date?"":E.attr("role")+'="datepicker" ',s=E.attr("role")+'="datetimepicker" ',l=n.model.isAllDay,d=E.attr("validate")+"='"+!l+"'",c=E.attr("validate")+"='"+l+"'";i(r,n),a(r,n),e('<input type="datetime-local" required '+E.attr("type")+'="date" '+s+E.attr("bind")+'="value:'+n.field+',invisible:isAllDay" '+d+"/>").attr(r).appendTo(t),e('<input type="date" required '+E.attr("type")+'="date" '+o+E.attr("bind")+'="value:'+n.field+',visible:isAllDay" '+c+"/>").attr(r).appendTo(t),e("<span "+E.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},ut=function(t,n){var r={name:n.field},o=n.model.isAllDay,s=E.attr("validate")+"='"+!o+"' ",l=E.attr("validate")+"='"+o+"' ";i(r,n),a(r,n),e('<input type="text" required '+E.attr("type")+'="date" '+E.attr("role")+'="datetimepicker" '+E.attr("bind")+'="value:'+n.field+',invisible:isAllDay" '+s+"/>").attr(r).appendTo(t),e('<input type="text" required '+E.attr("type")+'="date" '+E.attr("role")+'="datepicker" '+E.attr("bind")+'="value:'+n.field+',visible:isAllDay" '+l+"/>").attr(r).appendTo(t),e("<span "+E.attr("bind")+'="text: '+n.field+'Timezone"></span>').appendTo(t),"end"===n.field&&e("<span "+E.attr("bind")+'="text: startTimezone, invisible: endTimezone"></span>').appendTo(t),e("<span "+E.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},ht=function(t,n){e("<div "+E.attr("bind")+'="value:'+n.field+'" />').attr({name:n.field}).appendTo(t).kendoRecurrenceEditor({start:n.model.start,timezone:n.timezone,messages:n.messages})},pt=function(t,n){e("<div "+E.attr("bind")+'="value:'+n.field+'" />').attr({name:n.field}).appendTo(t).kendoMobileRecurrenceEditor({start:n.model.start,timezone:n.timezone,messages:n.messages,pane:n.pane,value:n.model[n.field]})},ft=function(t,i){var a=n(i.model,i.messages.noTimezone);e('<a href="#" class="k-button k-timezone-button" data-bind="invisible:isAllDay">'+a+"</a>").click(i.click).appendTo(t)},gt=function(t,n){e('<a href="#" class="k-button" data-bind="invisible:isAllDay">'+n.messages.timezoneEditorButton+"</a>").click(n.click).appendTo(t)},mt=function(t,n){e("<div "+E.attr("bind")+'="value:'+n.field+'" />').attr({name:n.field}).toggle(n.visible).appendTo(t).kendoMobileTimezoneEditor({optionLabel:n.noTimezone})},vt=function(t,n){e("<div "+E.attr("bind")+'="value:'+n.field+'" />').attr({name:n.field}).toggle(n.visible).appendTo(t).kendoTimezoneEditor({optionLabel:n.noTimezone})},bt=E.Class.extend({init:function(t,n){var i=t.timezone;this.reader=n,n.model&&(this.model=n.model),this.timezone=i,this.data=r(e.proxy(this.data,this),i),this.serialize=o(e.proxy(this.serialize,this),i)},errors:function(e){return this.reader.errors(e)},parse:function(e){return this.reader.parse(e)},data:function(e){return this.reader.data(e)},total:function(e){return this.reader.total(e)},groups:function(e){return this.reader.groups(e)},aggregates:function(e){return this.reader.aggregates(e)},serialize:function(e){return this.reader.serialize(e)}}),_t=E.data.Model.define({init:function(e){var t=this;E.data.Model.fn.init.call(t,e),t._defaultId=t.defaults[t.idField]},_time:function(e){var t=this[e],n=e+"Time";return this[n]?this[n]-E.date.toUtcTime(E.date.getDate(t)):z(t)},_date:function(e){var t=e+"Time";return this[t]?this[t]-this._time(e):E.date.getDate(this[e])},clone:function(t,n){var i=this.uid,a=new this.constructor(e.extend({},this.toJSON(),t));return n||(a.uid=i),a},duration:function(){var e=this.end,t=this.start,n=(e.getTimezoneOffset()-t.getTimezoneOffset())*E.date.MS_PER_MINUTE;return e-t-n},expand:function(e,t,n){return I?I.expand(this,e,t,n):[this]},update:function(e){for(var t in e)this.set(t,e[t]);this.startTime&&this.set("startTime",E.date.toUtcTime(this.start)),this.endTime&&this.set("endTime",E.date.toUtcTime(this.end))},isMultiDay:function(){return this.isAllDay||this.duration()>=E.date.MS_PER_DAY
},isException:function(){return!this.isNew()&&this.recurrenceId},isOccurrence:function(){return this.isNew()&&this.recurrenceId},isRecurring:function(){return!(!this.recurrenceRule&&!this.recurrenceId)},isRecurrenceHead:function(){return!(!this.id||!this.recurrenceRule)},toOccurrence:function(t){return t=e.extend(t,{recurrenceException:null,recurrenceRule:null,recurrenceId:this.id||this.recurrenceId}),t[this.idField]=this.defaults[this.idField],this.clone(t,!0)},toJSON:function(){var e=E.data.Model.fn.toJSON.call(this);return e.uid=this.uid,delete e.startTime,delete e.endTime,e},shouldSerialize:function(e){return E.data.Model.fn.shouldSerialize.call(this,e)&&"_defaultId"!==e},set:function(e,t){var n,i,a,r=this.isAllDay||!1;E.data.Model.fn.set.call(this,e,t),"isAllDay"==e&&t!=r&&(n=E.date.getDate(this.start),i=new Date(this.end),a=E.date.getMilliseconds(i),0===a&&t&&(a=M),this.set("start",n),t===!0?(E.date.setTime(i,-a),n>i&&(i=n)):E.date.setTime(i,M-a),this.set("end",i))},id:"id",fields:{id:{type:"number"},title:{defaultValue:"",type:"string"},start:{type:"date",validation:{required:!0}},startTimezone:{type:"string"},end:{type:"date",validation:{required:!0,dateCompare:{value:c,message:"End date should be greater than or equal to the start date"}}},endTimezone:{type:"string"},recurrenceRule:{defaultValue:"",type:"string"},recurrenceException:{defaultValue:"",type:"string"},isAllDay:{type:"boolean",defaultValue:!1},description:{type:"string"}}}),yt=j.extend({init:function(e){j.fn.init.call(this,V(!0,{},{schema:{modelBase:_t,model:_t}},e)),this.reader=new bt(this.options.schema,this.reader)},expand:function(e,t){var n=this.view(),i={};return e&&t&&(t=new Date(t.getTime()+M-1),i={logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:e},{field:"end",operator:"gte",value:e},{field:"start",operator:"lte",value:t}]},{logic:"and",filters:[{field:"start",operator:"lte",value:new Date(e.getTime()+M-1)},{field:"end",operator:"gte",value:e}]}]},n=new E.data.Query(u(n,e,t,this.reader.timezone)).filter(i).toArray()),n},cancelChanges:function(e){e&&e.isOccurrence()&&this._removeExceptionDate(e),j.fn.cancelChanges.call(this,e)},insert:function(e,t){if(t){if(!(t instanceof _t)){var n=t;t=this._createNewModel(),t.accept(n)}return(t.isRecurrenceHead()||t.recurrenceId)&&(t=t.recurrenceId?t:t.toOccurrence(),this._addExceptionDate(t)),j.fn.insert.call(this,e,t)}},remove:function(e){return e.isRecurrenceHead()?this._removeExceptions(e):e.isRecurring()&&this._addExceptionDate(e),j.fn.remove.call(this,e)},_removeExceptions:function(e){for(var t=this.data().slice(0),n=t.shift(),i=e.id;n;)n.recurrenceId===i&&j.fn.remove.call(this,n),n=t.shift();e.set(it,"")},_removeExceptionDate:function(e){var t,n;e.recurrenceId&&(t=this.get(e.recurrenceId),t&&(n=e.start,t.set(it,t.recurrenceException.replace(I.toExceptionString(n,this.reader.timezone),""))))},_addExceptionDate:function(e){var t=e.start,n=this.reader.timezone,i=this.get(e.recurrenceId),a=i.recurrenceException||"";I.isException(a,t,n)||i.set(it,a+I.toExceptionString(t,n))}});yt.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},n=t.data;if(t.data=n,!(t instanceof yt)&&t instanceof E.data.DataSource)throw Error("Incorrect DataSource type. Only SchedulerDataSource instances are supported");return t instanceof yt?t:new yt(t)},V(!0,E.data,{SchedulerDataSource:yt,SchedulerDataReader:bt,SchedulerEvent:_t}),v={update:{text:"Save",className:"k-scheduler-update"},canceledit:{text:"Cancel",className:"k-scheduler-cancel"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-scheduler-delete",iconClass:"k-icon"}},b={mobile:{dateRange:ct,timezonePopUp:ft,timezone:mt,recurrence:pt,description:'<textarea name="description" class="k-textbox"/>',multipleResources:g,resources:p},desktop:{dateRange:ut,timezonePopUp:gt,timezone:vt,recurrence:ht,description:'<textarea name="description" class="k-textbox"/>',multipleResources:f,resources:p}},_=E.Observable.extend({init:function(e,t){E.Observable.fn.init.call(this),this.element=e,this.options=V(!0,{},this.options,t),this.createButton=this.options.createButton,this.toggleDateValidationHandler=q(this._toggleDateValidation,this)},_toggleDateValidation:function(t){if("isAllDay"==t.field){var n,i,a,r=this.container,o=this.editable.options.model.isAllDay,s=E.attr("bind");r.find("["+s+"*=end],["+s+"*=start]").each(function(){n=e(this),tt.test(n.attr(s))&&(i=n.is("["+E.attr("role")+"=datetimepicker],[type*=datetime]"),a=o!==i,n.attr(E.attr("validate"),a))})}},fields:function(e,t){var n,i,a=this,r=a.options.messages,o=a.options.timezone,s=function(e){e.preventDefault(),a._initTimezoneEditor(t,this)},l=[{field:"title",title:r.editor.title},{field:"start",title:r.editor.start,editor:e.dateRange,timezone:o},{field:"end",title:r.editor.end,editor:e.dateRange,timezone:o},{field:"isAllDay",title:r.editor.allDayEvent}];E.timezone.windows_zones&&(l.push({field:"timezone",title:r.editor.timezone,editor:e.timezonePopUp,click:s,messages:r.editor,model:t}),l.push({field:"startTimezone",title:r.editor.startTimezone,editor:e.timezone,noTimezone:r.editor.noTimezone}),l.push({field:"endTimezone",title:r.editor.endTimezone,editor:e.timezone,noTimezone:r.editor.noTimezone})),t.recurrenceId||l.push({field:"recurrenceRule",title:r.editor.repeat,editor:e.recurrence,timezone:o,messages:r.recurrenceEditor,pane:this.pane}),"description"in t&&l.push({field:"description",title:r.editor.description,editor:e.description});for(n=0;this.options.resources.length>n;n++)i=this.options.resources[n],l.push({field:i.field,title:i.title,editor:i.multiple?e.multipleResources(i):e.resources(i)});return l},end:function(){return this.editable.end()},_buildEditTemplate:function(e,t,n){var i,a,r,o,s=this.options.messages,l=V({},E.Template,this.options.templateSettings),d=l.paramName,c=this.options.editable.template,u="";if(c)typeof c===O&&(c=window.unescape(c)),u+=E.template(c,l)(e);else for(i=0,a=t.length;a>i;i++)r=t[i],"startTimezone"===r.field&&(u+='<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">',u+='<div class="k-edit-form-container">',u+='<div class="k-edit-label"></div>',u+='<div class="k-edit-field"><label class="k-check"><input class="k-timezone-toggle" type="checkbox" />'+s.editor.separateTimezones+"</label></div>"),u+='<div class="k-edit-label"><label for="'+r.field+'">'+(r.title||r.field||"")+"</label></div>",!e.editable||e.editable(r.field)?(n.push(r),u+="<div "+E.attr("container-for")+'="'+r.field+'" class="k-edit-field"></div>'):(o="#:",r.field?(r=E.expr(r.field,d),o+=r+"==null?'':"+r):o+="''",o+="#",o=E.template(o,l),u+='<div class="k-edit-field">'+o(e)+"</div>"),"endTimezone"===r.field&&(u+=this._createEndTimezoneButton());return u},_createEndTimezoneButton:function(){return"</div></div>"},_revertTimezones:function(e){e.set("startTimezone",this._startTimezone),e.set("endTimezone",this._endTimezone),delete this._startTimezone,delete this._endTimezone}}),y=_.extend({init:function(){_.fn.init.apply(this,arguments),this.pane=E.mobile.ui.Pane.wrap(this.element),this.pane.element.parent().css("height",this.options.height),this.view=this.pane.view(),this._actionSheetButtonTemplate=E.template('<li><a #=attr# class="k-button #=className#" href="\\#">#:text#</a></li>'),this._actionSheetPopupOptions=e(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"}},options:{animations:{left:"slide",right:"slide:right"}},destroy:function(){this.close(),this.unbind(),this.pane.destroy()},_initTimezoneEditor:function(t){var i,a=this,r=a.pane,o=a.options.messages,s=a.timezoneView,l=a.container.find(".k-scheduler-timezones"),d=l.find(".k-timezone-toggle"),c=l.find(".k-edit-label:last").add(l.find(".k-edit-field:last")),u=function(e){if("startTimezone"===e.field){var n=t.startTimezone;d.prop("disabled",!n),n||(c.hide(),t.set("endTimezone",""),d.prop("checked",!1))}};a._startTimezone=t.startTimezone||"",a._endTimezone=t.endTimezone||"",s||(i='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+o.cancel+"</a>"+o.editor.timezoneTitle+'<a href="#" class="k-button k-scheduler-update">'+o.save+"</a></div></div>",this.timezoneView=s=r.append(i),s.contentElement().append(l.show()),s.element.on(Q+G,".k-scheduler-cancel, .k-scheduler-update",function(i){var s,l;i.preventDefault(),i.stopPropagation(),e(this).hasClass("k-scheduler-cancel")&&a._revertTimezones(t),t.unbind("change",u),s=r.element.find("#edit").data("kendoMobileView"),l=n(t,o.editor.noTimezone),s.contentElement().find(".k-timezone-button").text(l),r.navigate(s,a.options.animations.right)}),d.click(function(){c.toggle(d.prop("checked")),t.set("endTimezone","")}),t.bind("change",u)),d.prop("checked",t.endTimezone).prop("disabled",!t.startTimezone),t.endTimezone?c.show():c.hide(),r.navigate(s,a.options.animations.left)},_createActionSheetButton:function(e){return e.template=this._actionSheetButtonTemplate,this.createButton(e)},showDialog:function(t){var n,i,a="",r='<ul><li class="km-actionsheet-title">'+t.title+"</li>",o=this.element.find(".k-event["+E.attr("uid")+"='"+t.model.uid+"']");for(this.container&&(o=this.container.find(".k-scheduler-delete"),o[0]&&(a="phone")),n=0;t.buttons.length>n;n++)r+=this._createActionSheetButton(t.buttons[n]);r+="</ul>",i=e(r).appendTo(this.pane.view().element).kendoMobileActionSheet({type:a,cancel:this.options.messages.cancel,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(n){var a=i.element.find("li:not(.km-actionsheet-cancel) > .k-button").index(e(n.currentTarget));a>-1&&(i.close(),t.buttons[a].click())},popup:this._actionSheetPopupOptions}).data("kendoMobileActionSheet"),i.open(o)},editEvent:function(t){var n,i,a,r,o,s=this.pane,l="",d=this.options.messages,c=d.save,u=d.destroy,h=d.cancel,p=d.editor.editorTitle;return l+='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="edit" '+E.attr("uid")+'="'+t.uid+'"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+h+"</a>"+p+'<a href="#" class="k-button k-scheduler-update">'+c+"</a></div>",n=this.fields(b.mobile,t),i=this,a=[],l+=this._buildEditTemplate(t,n,a),!t.isNew()&&this.options.editable&&this.options.editable.destroy!==!1&&(l+='<div class="k-edit-buttons"><a href="#" class="k-scheduler-delete k-button">'+u+"</a></div>"),l+="</div>",r=s.append(l),o=this.container=r.element,this.editable=o.kendoEditable({fields:a,model:t,clearContainer:!1,validateOnBlur:!0}).data("kendoEditable"),o.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){e(this).next().children("input").click()}),this.trigger("edit",{container:o,model:t})?this.trigger("cancel",{container:o,model:t}):(o.on(Q+G,"a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, a.k-scheduler-delete",function(n){var a,r;n.preventDefault(),n.stopPropagation(),a=e(this),a.hasClass("k-scheduler-edit")?s.navigate("#edit",i.options.animations.right):(r="cancel",a.hasClass("k-scheduler-update")?r="save":a.hasClass("k-scheduler-delete")&&(r="remove"),i.trigger(r,{container:o,model:t}))}),s.navigate(r,i.options.animations.left),t.bind("change",i.toggleDateValidationHandler)),this.editable},_views:function(){return this.pane.element.find(E.roleSelector("view")).not(this.view.element)},close:function(){var e,t,n,i;if(this.container){for(this.pane.navigate("",this.options.animations.right),e=this._views(),n=0,i=e.length;i>n;n++)t=e.eq(n).data("kendoMobileView"),t&&t.purge();e.remove(),this.container=null,this.editable&&(this.editable.options.model.unbind("change",this.toggleDateValidationHandler),this.editable.destroy(),this.editable=null),this.timezoneView=null}}}),k=_.extend({destroy:function(){this.close(),this.unbind()},editEvent:function(e){return this.editable=this._createPopupEditor(e)},close:function(){var e=this,t=function(){e.editable&&(e.editable.options.model.unbind("change",e.toggleDateValidationHandler),e.editable.destroy(),e.editable=null,e.container=null),e.popup&&(e.popup.destroy(),e.popup=null)};e.editable?(e._timezonePopup&&e._timezonePopup.data("kendoWindow")&&(e._timezonePopup.data("kendoWindow").destroy(),e._timezonePopup=null),e.container.is(":visible")?e.container.data("kendoWindow").bind("deactivate",t).close():t()):t()},_createEndTimezoneButton:function(){var e=this.options.messages,t="";return t+='<div class="k-edit-buttons k-state-default">',t+=this.createButton({name:"savetimezone",text:e.save})+this.createButton({name:"canceltimezone",text:e.cancel}),t+="</div></div></div>"},showDialog:function(t){var n,i,a,r=E.format("<div class='k-popup-edit-form'><div class='k-edit-form-container'><p class='k-popup-message'>{0}</p>",t.text);for(r+='<div class="k-edit-buttons k-state-default">',n=0;t.buttons.length>n;n++)r+=this.createButton(t.buttons[n]);r+="</div></div></div>",i=this.element,this.popup&&this.popup.destroy(),a=this.popup=e(r).appendTo(i).eq(0).on("click",".k-button",function(n){n.preventDefault(),a.close();var i=e(n.currentTarget).index();t.buttons[i].click()}).kendoWindow({modal:!0,resizable:!1,draggable:!1,title:t.title,visible:!1,close:function(){this.destroy(),i.focus()}}).getKendoWindow(),a.center().open()},_createPopupEditor:function(t){var n,i,a,r,o=this,s=o.options.editable,l="<div "+E.attr("uid")+'="'+t.uid+'" class="k-popup-edit-form k-scheduler-edit-form"><div class="k-edit-form-container">',d=o.options.messages,c=d.save,u=d.cancel,h=d.destroy,p=this.fields(b.desktop,t),f=[];return l+=this._buildEditTemplate(t,p,f),i=W(s)?s.window:{},l+='<div class="k-edit-buttons k-state-default">',l+=this.createButton({name:"update",text:c,attr:n})+this.createButton({name:"canceledit",text:u,attr:n}),t.isNew()||s.destroy===!1||(l+=this.createButton({name:"delete",text:h,attr:n})),l+="</div></div></div>",a=this.container=e(l).appendTo(o.element).eq(0).kendoWindow(V({modal:!0,resizable:!1,draggable:!0,title:d.editor.editorTitle,visible:!1,close:function(e){e.userTriggered&&o.trigger(K,{container:a,model:t})&&e.preventDefault()}},i)),r=a.kendoEditable({fields:f,model:t,clearContainer:!1,validateOnBlur:!0}).data("kendoEditable"),o.trigger(et,{container:a,model:t})?o.trigger(K,{container:a,model:t}):(a.data("kendoWindow").center().open(),a.on(Q+G,"a.k-scheduler-cancel",function(e){e.preventDefault(),e.stopPropagation(),o.trigger(K,{container:a,model:t})}),a.on(Q+G,"a.k-scheduler-update",function(e){e.preventDefault(),e.stopPropagation(),o.trigger("save",{container:a,model:t})}),a.on(Q+G,"a.k-scheduler-delete",function(e){e.preventDefault(),e.stopPropagation(),o.trigger(X,{container:a,model:t})}),t.bind("change",o.toggleDateValidationHandler)),r},_initTimezoneEditor:function(e,t){var n,i=this,a=i.container.find(".k-scheduler-timezones"),r=a.find(".k-timezone-toggle"),o=a.find(".k-edit-label:last").add(a.find(".k-edit-field:last")),s=a.find(".k-scheduler-savetimezone"),l=a.find(".k-scheduler-canceltimezone"),d=i._timezonePopup,c=function(t){if("startTimezone"===t.field){var n=e.startTimezone;r.prop("disabled",!n),n||(o.hide(),e.set("endTimezone",""),r.prop("checked",!1))}};i._startTimezone=e.startTimezone,i._endTimezone=e.endTimezone,d||(i._timezonePopup=d=a.kendoWindow({modal:!0,resizable:!1,draggable:!0,title:i.options.messages.editor.timezoneEditorTitle,visible:!1,close:function(n){e.unbind("change",c),n.userTriggered&&i._revertTimezones(e),t&&t.focus()}}),r.click(function(){o.toggle(r.prop("checked")),e.set("endTimezone","")}),s.click(function(e){e.preventDefault(),n.close()}),l.click(function(t){t.preventDefault(),i._revertTimezones(e),n.close()}),e.bind("change",c)),r.prop("checked",e.endTimezone).prop("disabled",!e.startTimezone),e.endTimezone?o.show():o.hide(),n=d.data("kendoWindow"),n.center().open()}}),w=P.extend({init:function(t,n){var i=this;P.fn.init.call(i,t,n),i.options.views&&i.options.views.length||(i.options.views=["day","week"]),i.resources=[],i._initModel(),i._wrapper(),i._views(),i._toolbar(),i._dataSource(),i._resources(),i._resizeHandler=q(i.resize,i),i.wrapper.on("mousedown"+G+" selectstart"+G,function(e){e.preventDefault()}),i.options.editable&&i.options.editable.resize!==!1&&i._resizable(),i._movable(),e(window).on("resize"+G,i._resizeHandler),i.options.messages&&i.options.messages.recurrence&&(I.options=i.options.messages.recurrence),i._selectable(),i._ariaId=E.guid(),i._createEditor()},_isMobile:function(){var e=this.options;return e.mobile===!0&&E.support.mobileOS||"phone"===e.mobile||"tablet"===e.mobile},_isMobilePhoneView:function(){var e=this.options;return e.mobile===!0&&E.support.mobileOS&&!E.support.mobileOS.tablet||"phone"===e.mobile},_selectable:function(){var t,n=this,i=n.wrapper,a=E.support.mobileOS?"touchend":"mousedown";n.options.selectable&&(n._tabindex(),i.on(a+G,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",function(e){var t=e.which,a=e.button,r=E.support.browser,o=t&&3===t||a&&2==a;E.support.mobileOS&&e.isDefaultPrevented()||(o||n._createSelection(e.currentTarget),i.focus(),r.msie&&9>r.version&&setTimeout(function(){i.focus()}))}),t=e.proxy(n._mouseMove,n),i.on("mousedown"+G,".k-scheduler-header-all-day td, .k-scheduler-content td",function(e){var n=e.which,a=e.button,r=n&&3===n||a&&2==a;r||i.on("mousemove"+G,".k-scheduler-header-all-day td, .k-scheduler-content td",t)}),i.on("mouseup"+G+" mouseleave"+G,function(){i.off("mousemove"+G,".k-scheduler-header-all-day td, .k-scheduler-content td",t)}),i.on("focus"+G,function(){n._selection||n._createSelection(e(".k-scheduler-content").find("td:first")),n._select()}),i.on("focusout"+G,function(){n.view().clearSelection(),n._ctrlKey=n._shiftKey=!1}),i.on("keydown"+G,q(n._keydown,n)),i.on("keyup"+G,function(e){n._ctrlKey=e.ctrlKey,n._shiftKey=e.shiftKey}))},_select:function(){var e,t,n,i,a=this,r=a.view(),o=a.wrapper,s=r.current(),l=a._selection;s&&(s.removeAttribute("id"),s.removeAttribute("aria-label"),o.removeAttr("aria-activedescendant")),r.select(l),s=r.current(),s&&a._old!==s&&(t=l,n=a._selectedEvents(),i=r._selectedSlots,n[0]?(t=n[0]||l,e=E.format(a.options.messages.ariaEventLabel,t.title,t.start,t.start)):e=E.format(a.options.messages.ariaSlotLabel,t.start,t.end),s.setAttribute("id",a._ariaId),s.setAttribute("aria-label",e),o.attr("aria-activedescendant",a._ariaId),a._old=s,a.trigger("change",{start:l.start,end:l.end,events:n,slots:i,resources:r._resourceBySlot(l)}))},_selectedEvents:function(){for(var e,t=this._selection.events,n=t.length,i=0,a=[];n>i;i++)e=this.occurrenceByUid(t[i]),e&&a.push(e);return a},_mouseMove:function(t){var n=this;clearTimeout(n._moveTimer),n._moveTimer=setTimeout(function(){var i,a,r,o=n.view(),s=n._selection;s&&(i=o.selectionByElement(e(t.currentTarget)),i&&s.groupIndex===i.groupIndex&&(a=i.startDate(),r=i.endDate(),a>=s.end?s.backward=!1:s.start>=r&&(s.backward=!0),s.backward?s.start=a:s.end=r,n._select()))},5)},_viewByIndex:function(e){var t,n=this.views;for(t in n){if(!e)return t;e--}},_keydown:function(t){var n=this,i=t.keyCode,a=n.view(),r=a.options.editable,o=n._selection,s=t.shiftKey;n._ctrlKey=t.ctrlKey,n._shiftKey=t.shiftKey,i===R.TAB?a.moveToEvent(o,s)&&(n._select(),t.preventDefault()):r&&i===R.ENTER?o.events.length?r.update!==!1&&n.editEvent(o.events[0]):r.create!==!1&&(o.isAllDay&&(o=e.extend({},o,{end:E.date.addDays(o.end,-1)})),n.addEvent(V({},o,a._resourceBySlot(o)))):i===R.DELETE&&r!==!1&&r.destroy!==!1?n.removeEvent(o.events[0]):i>=49&&57>=i?n.view(n._viewByIndex(i-49)):a.move(o,i,s)&&(a.inRange(o)?n._select():n.date(o.start),t.preventDefault()),n._adjustSelectedDate()},_createSelection:function(t){var n,i,a;this._selection&&(this._ctrlKey||this._shiftKey)||(this._selection={events:[],groupIndex:0}),t=e(t),a=this._selection,n=t.attr(E.attr("uid")),i=this.view().selectionByElement(t),i&&(a.groupIndex=i.groupIndex||0),n&&(i=l(this._data,n)),i&&i.uid&&(n=[i.uid]),this._updateSelection(i,n),this._adjustSelectedDate()},_updateSelection:function(e,t){var n,i,a=this._selection;e&&a&&(this._shiftKey&&a.start&&a.end?(n=a.end>e.end,i=this.view(),a.end=e.endDate?e.endDate():e.end,n&&i._timeSlotInterval&&E.date.setTime(a.end,-i._timeSlotInterval())):(a.start=e.startDate?e.startDate():e.start,a.end=e.endDate?e.endDate():e.end),a.isAllDay="isDaySlot"in e?e.isDaySlot:e.isAllDay,a.index=e.index,a.events=this._ctrlKey?a.events.concat(t||[]):t||[])},options:{name:"Scheduler",date:nt,editable:!0,autoBind:!0,snap:!0,mobile:!1,timezone:"",min:new Date(1900,0,1),max:new Date(2099,11,31),messages:{today:"Today",save:"Save",cancel:"Cancel",destroy:"Delete",deleteWindowTitle:"Delete event",ariaSlotLabel:"Selected from {0:t} to {1:t}",ariaEventLabel:"{0} on {1:D} at {2:t}",views:{day:"Day",week:"Week",workWeek:"Work Week",agenda:"Agenda",month:"Month"},recurrenceMessages:{deleteWindowTitle:"Delete Recurring Item",deleteWindowOccurrence:"Delete current occurrence",deleteWindowSeries:"Delete the series",editWindowTitle:"Edit Recurring Item",editWindowOccurrence:"Edit current occurrence",editWindowSeries:"Edit the series"},editor:{title:"Title",start:"Start",end:"End",allDayEvent:"All day event",description:"Description",repeat:"Repeat",timezone:" ",startTimezone:"Start timezone",endTimezone:"End timezone",separateTimezones:"Use separate start and end time zones",timezoneEditorTitle:"Timezones",timezoneEditorButton:"Time zone",timezoneTitle:"Time zones",noTimezone:"No timezone",editorTitle:"Event"}},height:null,width:null,resources:[],group:{resources:[],direction:"horizontal"},views:[],selectable:!1},events:[X,et,K,J,"add","dataBinding","dataBound","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","navigate","change"],destroy:function(){var t,n=this;P.fn.destroy.call(n),n.dataSource&&n.dataSource.unbind(Y,n._refreshHandler),n.calendar&&(n.calendar.destroy(),n.popup.destroy()),n.view()&&n.view().destroy(),n._editor&&n._editor.destroy(),this._moveDraggable&&this._moveDraggable.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),t=n.element.add(n.wrapper).add(n.toolbar).add(n.popup),t.off(G),clearTimeout(n._moveTimer),n._model=null,n.toolbar=null,n.element=null,e(window).off("resize"+G,n._resizeHandler),E.destroy(n.wrapper)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch()},items:function(){return this.wrapper.children(".k-event, .k-task")},_movable:function(){var n,i,a,r,o,s=this,l=s._isMobile(),d=s.options.editable&&s.options.editable.move!==!1,c=s.options.editable&&s.options.editable.resize!==!1;(d||c&&l)&&(s._moveDraggable=new E.ui.Draggable(s.element,{distance:0,filter:".k-event",holdToDrag:l}),d&&s._moveDraggable.bind("dragstart",function(e){var r=s.view(),d=e.currentTarget;return r.options.editable&&r.options.editable.move!==!1?l&&!d.hasClass("k-event-active")?(s.element.find(".k-event-active").removeClass("k-event-active"),e.preventDefault(),t):(o=s.occurrenceByUid(d.attr(E.attr("uid"))),n=r._slotByPosition(e.x.location,e.y.location),a=n.startOffset(e.x.location,e.y.location,s.options.snap),i=n,(!n||s.trigger("moveStart",{event:o}))&&e.preventDefault(),t):(e.preventDefault(),t)}).bind("drag",function(e){var t,n,l=s.view(),d=l._slotByPosition(e.x.location,e.y.location);d&&(r=d.startOffset(e.x.location,e.y.location,s.options.snap),t=r-a,l._updateMoveHint(o,d.groupIndex,t),n=m(o,t),s.trigger("move",{event:o,slot:{element:d.element,start:d.startDate(),end:d.endDate()},resources:l._resourceBySlot(d),start:n.start,end:n.end})?l._updateMoveHint(o,d.groupIndex,t):i=d)}).bind("dragend",function(t){var l,d,c,u,h,p,f;s.view()._removeMoveHint(),l=r-a,d=m(o,l),c=d.start,u=d.end,h=s.view()._resourceBySlot(i),p=s.view()._resourceBySlot(n),f=s.trigger("moveEnd",{event:o,slot:{element:i.element,start:i.startDate(),end:i.endDate()},start:c,end:u,resources:h}),f||o.start.getTime()==c.getTime()&&o.end.getTime()==u.getTime()&&E.stringify(h)==E.stringify(p)||s._updateEvent(null,o,e.extend({start:c,end:u},h)),t.currentTarget.removeClass("k-event-active"),this.cancelHold()}).bind("dragcancel",function(){s.view()._removeMoveHint(),this.cancelHold()}),l&&(s._moveDraggable.bind("hold",function(e){s.element.find(".k-scheduler-monthview").length&&e.preventDefault(),s.element.find(".k-event-active").removeClass("k-event-active"),e.currentTarget.addClass("k-event-active")}),s._moveDraggable.userEvents.bind("press",function(e){e.preventDefault()})))},_resizable:function(){function t(e){var t,n={"k-resize-e":"east","k-resize-w":"west","k-resize-n":"north","k-resize-s":"south"};for(t in n)if(e.hasClass(t))return n[t]}var n,i,a,r,o=this;o._resizeDraggable=new E.ui.Draggable(o.element,{distance:0,filter:".k-resize-handle",dragstart:function(t){var s=e(t.currentTarget),l=s.closest(".k-event"),d=l.attr(E.attr("uid"));a=o.occurrenceByUid(d),r=o.view()._slotByPosition(t.x.location,t.y.location),o.trigger("resizeStart",{event:a})&&t.preventDefault(),n=E.date.toUtcTime(a.start),i=E.date.toUtcTime(a.end)},drag:function(s){var l,d,c,u,h,p;r&&(l=e(s.currentTarget),d=t(l),c=o.view(),u=c._slotByPosition(s.x.location,s.y.location),u&&r.groupIndex==u.groupIndex&&(r=u,h=n,p=i,"south"==d?!r.isDaySlot&&r.end-E.date.toUtcTime(a.start)>=c._timeSlotInterval()&&(i=a.isAllDay?r.startOffset(s.x.location,s.y.location,o.options.snap):r.endOffset(s.x.location,s.y.location,o.options.snap)):"north"==d?!r.isDaySlot&&E.date.toUtcTime(a.end)-r.start>=c._timeSlotInterval()&&(n=r.startOffset(s.x.location,s.y.location,o.options.snap)):"east"==d?r.isDaySlot&&E.date.toUtcTime(E.date.getDate(r.endDate()))>=E.date.toUtcTime(E.date.getDate(a.start))&&(i=a.isAllDay?r.startOffset(s.x.location,s.y.location,o.options.snap):r.endOffset(s.x.location,s.y.location,o.options.snap)):"west"==d&&r.isDaySlot&&E.date.toUtcTime(E.date.getDate(a.end))>=E.date.toUtcTime(E.date.getDate(r.startDate()))&&(n=r.startOffset(s.x.location,s.y.location,o.options.snap)),o.trigger("resize",{event:a,slot:{element:r.element,start:r.startDate(),end:r.endDate()},start:E.timezone.toLocalDate(n),end:E.timezone.toLocalDate(i),resources:c._resourceBySlot(r)})?(n=h,i=p):c._updateResizeHint(a,r.groupIndex,n,i)))},dragend:function(s){var l,d=e(s.currentTarget),c=new Date(a.start.getTime()),u=new Date(a.end.getTime()),h=t(d);o.view()._removeResizeHint(),"south"==h?u=E.timezone.toLocalDate(i):"north"==h?c=E.timezone.toLocalDate(n):"east"==h?u=E.date.getDate(E.timezone.toLocalDate(i)):"west"==h&&(c=new Date(E.timezone.toLocalDate(n)),c.setHours(0),c.setMinutes(0)),l=o.trigger("resizeEnd",{event:a,slot:{element:r.element,start:r.startDate(),end:r.endDate()},start:c,end:u,resources:o.view()._resourceBySlot(r)}),!l&&u.getTime()>=c.getTime()&&(a.start.getTime()!=c.getTime()||a.end.getTime()!=u.getTime())&&o._updateEvent(h,a,{start:c,end:u}),r=null,a=null},dragcancel:function(){o.view()._removeResizeHint(),r=null,a=null}})},_updateEvent:function(e,t,n){var i=this,a=function(e,t){try{i._preventRefresh=!0,e.update(n),i._convertDates(e)}finally{i._preventRefresh=!1}i.trigger(J,{event:e})||(t&&t(),i._updateSelection(e),i.dataSource.sync())},r=function(e){return e.recurrenceRule?i.dataSource.getByUid(e.uid):i.dataSource.get(e.recurrenceId)},o=function(){var o,s,l=r(t);("south"==e||"north"==e)&&(n.start&&(o=E.date.getDate(l.start),E.date.setTime(o,z(n.start)),n.start=o),n.end&&(s=E.date.getDate(l.end),E.date.setTime(s,z(n.end)),n.end=s)),i.dataSource._removeExceptions(l),a(l)},s=function(){var e=r(t),n=function(){i._convertDates(e)},o=e.toOccurrence({start:t.start,end:t.end});a(i.dataSource.add(o),n)},l=i.options.messages.recurrenceMessages;t.recurrenceRule||t.isOccurrence()?i.showDialog({model:t,title:l.editWindowTitle,text:l.editRecurring?l.editRecurring:ot,buttons:[{text:l.editWindowOccurrence,click:s},{text:l.editWindowSeries,click:o}]}):a(i.dataSource.getByUid(t.uid))},_modelForContainer:function(t){return t=e(t).closest("["+E.attr("uid")+"]"),this.dataSource.getByUid(t.attr(E.attr("uid")))},showDialog:function(e){this._editor.showDialog(e)},focus:function(){this.wrapper.focus()},_confirmation:function(e,t){var n,i,a,r=this.options.editable;r===!0||r.confirmation!==!1?(n=this.options.messages,i=typeof r.confirmation===O?r.confirmation:at,a=[{name:"destroy",text:n.destroy,click:function(){e()}}],this._isMobile()&&E.mobile.ui.Pane||a.push({name:"canceledit",text:n.cancel,click:function(){e(!0)}}),this.showDialog({model:t,text:i,title:n.deleteWindowTitle,buttons:a})):e()},addEvent:function(e){var t,n,i=this._editor.editable,a=this.dataSource;e=e||{},n=this.trigger("add",{event:e}),!n&&(i&&i.end()||!i)&&(this.cancelEvent(),e&&e.toJSON&&(e=e.toJSON()),t=a.add(e),t&&(this.cancelEvent(),this._editEvent(t)))},saveEvent:function(){var e,t,n,i=this._editor;i&&(e=i.editable,t=i.container,n=this._modelForContainer(t),t&&e&&e.end()&&!this.trigger(J,{container:t,event:n})&&(n.isRecurrenceHead()&&this.dataSource._removeExceptions(n),n.dirty||n.isOccurrence()||this._convertDates(n,"remove"),this.dataSource.sync()))},cancelEvent:function(){var e,t=this._editor,n=t.container;n&&(e=this._modelForContainer(n),e&&e.isOccurrence()&&(this._convertDates(e,"remove"),this._convertDates(this.dataSource.get(e.recurrenceId),"remove")),this.dataSource.cancelChanges(e),t.close())},editEvent:function(e){var t="string"==typeof e?this.occurrenceByUid(e):e;t&&(this.cancelEvent(),t.isRecurring()?this._editRecurringDialog(t):this._editEvent(t))},_editEvent:function(e){this._createPopupEditor(e)},_editRecurringDialog:function(e){var t=this,n=function(){e.isException()?t._editEvent(e):t.addEvent(e)},i=function(){e.recurrenceId&&(e=t.dataSource.get(e.recurrenceId)),t._editEvent(e)},a=t.options.messages.recurrenceMessages;t.showDialog({model:e,title:a.editWindowTitle,text:a.editRecurring?a.editRecurring:ot,buttons:[{text:a.editWindowOccurrence,click:n},{text:a.editWindowSeries,click:i}]})},_createButton:function(e){var t=e.template||st,n=typeof e===O?e:e.name||e.text,i={className:"k-scheduler-"+(n||"").replace(/\s/g,""),text:n,attr:""};if(!(n||W(e)&&e.template))throw Error("Custom commands should have name specified");return W(e)?(e.className&&(e.className+=" "+i.className),"edit"===n&&W(e.text)&&(e=V(!0,{},e),e.text=e.text.edit),i=V(!0,i,v[n],e)):i=V(!0,i,v[n]),E.template(t)(i)},_convertDates:function(e,t){var n=this.dataSource.reader.timezone,i=e.startTimezone,a=e.endTimezone,r=e.start,o=e.start;t=t||"apply",i=i||a,a=a||i,i&&(n?"apply"===t?(r=E.timezone.convert(e.start,n,i),o=E.timezone.convert(e.end,n,a)):(r=E.timezone.convert(e.start,i,n),o=E.timezone.convert(e.end,a,n)):(r=E.timezone[t](e.start,i),o=E.timezone[t](e.end,a)),e._set("start",r),e._set("end",o))},_createEditor:function(){var e,n=this;e=n._editor=this._isMobile()&&E.mobile.ui.Pane?new y(this.wrapper,V({},this.options,{timezone:n.dataSource.reader.timezone,resources:n.resources,createButton:q(this._createButton,this)})):new k(this.wrapper,V({},this.options,{createButton:q(this._createButton,this),timezone:n.dataSource.reader.timezone,resources:n.resources})),e.bind("cancel",function(e){return n.trigger("cancel",{container:e.container,event:e.model})?(e.preventDefault(),t):(n.cancelEvent(),n.focus(),t)}),e.bind("edit",function(e){n.trigger(et,{container:e.container,event:e.model})&&e.preventDefault()}),e.bind("save",function(){n.saveEvent()}),e.bind("remove",function(e){n.removeEvent(e.model)})},_createPopupEditor:function(e){var t=this._editor;(!e.isNew()||e.isOccurrence())&&(e.isOccurrence()&&this._convertDates(e.recurrenceId?this.dataSource.get(e.recurrenceId):e),this._convertDates(e)),this.editable=t.editEvent(e)},removeEvent:function(e){var t=this,n="string"==typeof e?t.occurrenceByUid(e):e;n&&(n.isRecurring()?t._deleteRecurringDialog(n):t._confirmation(function(e){e||t._removeEvent(n)},n))},occurrenceByUid:function(e){var t=this.dataSource.getByUid(e);return t||(t=l(this._data,e)),t},occurrencesInRange:function(e,t){return new E.data.Query(this._data).filter({logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:e},{field:"end",operator:"gte",value:e},{field:"start",operator:"lt",value:t}]},{logic:"and",filters:[{field:"start",operator:"lte",value:e},{field:"end",operator:"gt",value:e}]}]}).toArray()},_removeEvent:function(e){this.trigger(X,{event:e})||this.dataSource.remove(e)&&this.dataSource.sync()},_deleteRecurringDialog:function(e){var t=this,n=e,i=function(){var e=n.recurrenceId?n:n.toOccurrence(),i=t.dataSource.get(e.recurrenceId);t._convertDates(i),t._removeEvent(e)},a=function(){n.recurrenceId&&(n=t.dataSource.get(n.recurrenceId)),t._removeEvent(n)
},r=t.options.messages.recurrenceMessages;t.showDialog({model:e,title:r.deleteWindowTitle,text:r.deleteRecurring?r.deleteRecurring:rt,buttons:[{text:r.deleteWindowOccurrence,click:i},{text:r.deleteWindowSeries,click:a}]})},_unbindView:function(e){e.destroy()},_bindView:function(e){var t=this;t.options.editable&&(t._viewRemoveHandler&&e.unbind(X,t._viewRemoveHandler),t._viewRemoveHandler=function(e){t.removeEvent(e.uid)},e.bind(X,t._viewRemoveHandler),t._viewAddHandler&&e.unbind(Z,t._viewAddHandler),t._viewAddHandler=function(e){t.addEvent(e.eventInfo)},e.bind(Z,this._viewAddHandler),t._viewEditHandler&&e.unbind(et,t._viewEditHandler),t._viewEditHandler=function(e){t.editEvent(e.uid)},e.bind(et,this._viewEditHandler)),t._viewNavigateHandler&&e.unbind("navigate",t._viewNavigateHandler),t._viewNavigateHandler=function(e){var n,i;e.view&&(n="isWorkDay"in e,i=n?"changeWorkDay":"changeView",t.trigger("navigate",{view:e.view,isWorkDay:e.isWorkDay,action:i,date:e.date})||(n&&(t._workDayMode=e.isWorkDay),t._selectView(e.view),t.date(e.date)))},e.bind("navigate",t._viewNavigateHandler),t._viewActivateHandler&&e.unbind("activate",t._viewActivateHandler),t._viewActivateHandler=function(){var e=this;t._selection&&(e.constrainSelection(t._selection),t._select(),t._adjustSelectedDate())},e.bind("activate",t._viewActivateHandler)},_selectView:function(e){var t=this;e&&t.views[e]&&(t._selectedView&&t._unbindView(t._selectedView),t._selectedView=t._renderView(e),t._selectedViewName=e,t.toolbar.find(".k-scheduler-views li").removeClass("k-state-selected").end().find(".k-view-"+e.replace(/\./g,"\\.").toLowerCase()).addClass("k-state-selected"))},view:function(e){var n=this;return e?(n._selectView(e),n.rebind(),t):n._selectedView},_renderView:function(e){var t=this._initializeView(e);return this._bindView(t),this._model.set("formattedDate",t.dateForTitle()),t},resize:function(e){var t=this.getSize(),n=this._size,i=this.view();i&&i.groups&&(e||!n||t.width!==n.width||t.height!==n.height)&&(this.refresh({action:"resize"}),this._size=t)},_adjustSelectedDate:function(){var e=this._model.selectedDate,t=this._selection,n=t.start;n&&!E.date.isInDateRange(e,H(n),H(t.end))&&e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate())},_initializeView:function(e){var t,n,i=this.views[e];if(i){if(t=W(i),n=i.type,typeof n===O&&(n=E.getter(i.type)(window)),!n)throw Error("There is no such view");i=new n(this.wrapper,h(V(!0,{},this.options,t?i:{},{resources:this.resources,date:this.date(),showWorkHours:this._workDayMode})))}return i},_views:function(){var e,t,n,i,a,r,o,s,l,d=this.options.views;for(this.views={},o=0,s=d.length;s>o;o++)l=!1,e=d[o],i=W(e),i?(r=a=e.type?e.type:e,typeof r!==O&&(a=e.title,l=!0)):r=a=e,t=x[a],t&&!l&&(e.type=t.type,t.title=this.options.messages.views[a],"day"===t.type?t.messages={allDay:this.options.messages.allDay}:"agenda"===t.type&&(t.messages={event:this.options.messages.event,date:this.options.messages.date,time:this.options.messages.time})),e=V({title:a},t,i?e:{}),a&&(this.views[a]=e,(!n||e.selected)&&(n=a));n&&(this._selectedViewName=n)},rebind:function(){this.dataSource.fetch()},_dataSource:function(){var e=this,t=e.options,n=t.dataSource;n=U(n)?{data:n}:n,!t.timezone||n instanceof yt||(n=V(!0,n,{schema:{timezone:t.timezone}})),e.dataSource&&e._refreshHandler?e.dataSource.unbind(Y,e._refreshHandler).unbind("progress",e._progressHandler).unbind("error",e._errorHandler):(e._refreshHandler=q(e.refresh,e),e._progressHandler=q(e._requestStart,e),e._errorHandler=q(e._error,e)),e.dataSource=E.data.SchedulerDataSource.create(n).bind(Y,e._refreshHandler).bind("progress",e._progressHandler).bind("error",e._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_progress:function(e){var t=this.element.find(".k-scheduler-content");E.ui.progress(t,e)},_resources:function(){var t,n,i,a,r,o=this,s=o.options.resources;for(t=0;s.length>t;t++){if(n=s[t],i=n.field,a=n.dataSource,!i||!a)throw Error('The "field" and "dataSource" options of the scheduler resource are mandatory.');o.resources.push({field:i,name:n.name||i,title:n.title||i,dataTextField:n.dataTextField||"text",dataValueField:n.dataValueField||"value",dataColorField:n.dataColorField||"color",valuePrimitive:null!=n.valuePrimitive?n.valuePrimitive:!0,multiple:n.multiple||!1,dataSource:E.data.DataSource.create(a)})}r=e.map(o.resources,function(e){return e.dataSource.fetch()}),e.when.apply(null,r).then(function(){o.options.autoBind?o.view(o._selectedViewName):o._selectView(o._selectedViewName)})},_initModel:function(){var e=this;e._model=E.observable({selectedDate:new Date(this.options.date),formattedDate:""}),e._model.bind("change",function(t){"selectedDate"===t.field&&e.view(e._selectedViewName)})},_wrapper:function(){var e=this,t=e.options,n=t.height,i=t.width;e.wrapper=e.element.addClass("k-widget k-scheduler k-floatwrap").attr("role","grid").attr("aria-multiselectable",!0),e._isMobile()&&e.wrapper.addClass("k-scheduler-mobile"),e._isMobilePhoneView()&&e.wrapper.addClass("k-scheduler-phone"),n&&e.wrapper.height(n),i&&e.wrapper.width(i)},date:function(e){return null!=e&&H(e)>=H(this.options.min)&&H(e)<=H(this.options.max)&&this._model.set("selectedDate",e),H(this._model.get("selectedDate"))},_toolbar:function(){var n=this,i=n.options,a=this._isMobilePhoneView()?dt:lt,r=e(a({messages:i.messages,ns:E.ns,views:n.views}));n.wrapper.append(r),n.toolbar=r,E.bind(n.toolbar,n._model),r.on(Q+G,".k-scheduler-navigation li",function(i){var a=e(this),r=new Date(n.date()),o="";if(i.preventDefault(),a.hasClass("k-nav-today"))o="today",r=new Date;else if(a.hasClass("k-nav-next"))o="next",r=n.view().nextDate();else if(a.hasClass("k-nav-prev"))o="previous",r=n.view().previousDate();else if(a.hasClass("k-nav-current")&&!n._isMobilePhoneView())return n._showCalendar(),t;n.trigger("navigate",{view:n._selectedViewName,action:o,date:r})||n.date(r)}),r.on(Q+G,".k-scheduler-views li",function(t){t.preventDefault();var i=e(this).attr(E.attr("name"));n.trigger("navigate",{view:i,action:"changeView",date:n.date()})||n.view(i)}),r.find("li").hover(function(){e(this).addClass("k-state-hover")},function(){e(this).removeClass("k-state-hover")})},_showCalendar:function(){var t=this,n=t.toolbar.find(".k-nav-current"),i=e('<div class="k-calendar-container"><div class="k-scheduler-calendar"/></div>');t.popup||(t.popup=new L(i,{anchor:n,activate:function(){t.calendar||(t.calendar=new B(this.element.find(".k-scheduler-calendar"),{change:function(){var e=this.value();t.trigger("navigate",{view:t._selectedViewName,action:"changeDate",date:e})||(t.date(e),t.popup.close())},min:t.options.min,max:t.options.max})),t.calendar.value(t.date())},copyAnchorStyles:!1})),t.popup.open()},refresh:function(e){var t=this.view();this._progress(!1),e=e||{},t&&(e&&"itemchange"===e.action&&(this._editor.editable||this._preventRefresh)||this.trigger("dataBinding",{action:e.action||"rebind",index:e.index,items:e.items})||(e&&"resize"===e.action||!this._editor||this._editor.close(),this._data=this.dataSource.expand(t.startDate(),t.endDate()),t.render(this._data),this.trigger("dataBound")))},slotByPosition:function(e,t){var n,i=this.view();return i._slotByPosition?(n=i._slotByPosition(e,t),n?{startDate:n.startDate(),endDate:n.endDate(),groupIndex:n.groupIndex,element:n.element,isDaySlot:n.isDaySlot}:null):null},slotByElement:function(t){var n=e(t).offset();return this.slotByPosition(n.left,n.top)},resourcesBySlot:function(e){return this.view()._resourceBySlot(e)}}),x={day:{type:"kendo.ui.DayView"},week:{type:"kendo.ui.WeekView"},workWeek:{type:"kendo.ui.WorkWeekView"},agenda:{type:"kendo.ui.AgendaView"},month:{type:"kendo.ui.MonthView"}},N.plugin(w),C=P.extend({init:function(e,t){var n=this,i=E.timezone.windows_zones;if(!i||!E.timezone.zones_titles)throw Error("kendo.timezones.min.js is not included.");P.fn.init.call(n,e,t),n.wrapper=n.element,n._zonesQuery=new E.data.Query(i),n._zoneTitleId=E.guid(),n._zoneTitlePicker(),n._zonePicker(),n.value(n.options.value)},options:{name:"TimezoneEditor",value:"",optionLabel:"No timezone"},events:["change"],_zoneTitlePicker:function(){var t=this,n=e('<input id="'+t._zoneTitleId+'"/>').appendTo(t.wrapper);t._zoneTitle=new E.ui.DropDownList(n,{dataSource:E.timezone.zones_titles,dataValueField:"other_zone",dataTextField:"name",optionLabel:t.options.optionLabel,cascade:function(){this.value()||t._zone.wrapper.hide()}})},_zonePicker:function(){var t=this,n=e("<input />").appendTo(this.wrapper);t._zone=new E.ui.DropDownList(n,{dataValueField:"zone",dataTextField:"territory",dataSource:t._zonesQuery.data,cascadeFrom:t._zoneTitleId,cascade:function(){t._value=this.value(),t.trigger("change")},dataBound:function(){t._value=this.value(),this.wrapper.toggle(this.dataSource.view().length>1)}}),t._zone.wrapper.hide()},destroy:function(){P.fn.destroy.call(this),E.destroy(this.wrapper)},value:function(e){var n,i=this;return e===t?i._value:(n=i._zonesQuery.filter({field:"zone",operator:"eq",value:e}).data[0],n?(i._zoneTitle.value(n.other_zone),i._zone.value(n.zone)):i._zoneTitle.value(""),t)}}),N.plugin(C),T=E.template('<option value="#=other_zone#">#=name#</option>'),S=E.template('<option value="#=zone#">#=territory#</option>'),D=P.extend({init:function(e,t){var n=this,i=E.timezone.windows_zones;if(!i||!E.timezone.zones_titles)throw Error("kendo.timezones.min.js is not included.");P.fn.init.call(n,e,t),n.wrapper=n.element,n._zonesQuery=new E.data.Query(i),n._zoneTitlePicker(),n._zonePicker(),n.value(n.options.value)},options:{name:"MobileTimezoneEditor",optionLabel:"No timezone",value:""},events:["change"],_bindZones:function(e){var t=e?this._filter(e):[];this._zone.html(this._options(t,S))},_filter:function(e){return this._zonesQuery.filter({field:"other_zone",operator:"eq",value:e}).data},_options:function(e,t,n){var i=0,a="",r=e.length;for(n&&(a+=t({other_zone:"",name:n}));r>i;i++)a+=t(e[i]);return a},_zoneTitlePicker:function(){var t=this,n=t._options(E.timezone.zones_titles,T,t.options.optionLabel);t._zoneTitle=e("<select>"+n+"</select>").appendTo(t.wrapper).change(function(){var e=this.value,n=t._zone;t._bindZones(e),e&&n[0].children.length>1?n.show():n.hide(),t._value=n[0].value,t.trigger("change")})},_zonePicker:function(){var t=this;t._zone=e('<select style="display:none"></select>').appendTo(this.wrapper).change(function(){t._value=this.value,t.trigger("change")}),t._bindZones(t._zoneTitle.val()),t._value=t._zone[0].value},destroy:function(){P.fn.destroy.call(this),E.destroy(this.wrapper)},value:function(e){var n,i=this,a=i._zone,r="",o="";return e===t?i._value:(n=i._zonesQuery.filter({field:"zone",operator:"eq",value:e}).data[0],n&&(o=n.zone,r=n.other_zone),i._zoneTitle.val(r),i._bindZones(r),a.val(o),o=a[0].value,o&&a[0].children.length>1?a.show():a.hide(),i._value=o,t)}}),N.plugin(D)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t){t()}),$(function(){var e=(kendo.data.Model.define({id:"id"}),"/psr"),t=new kendo.data.DataSource({transport:{read:{url:e,dataType:"json"},update:{url:function(t){return e+"/"+t.id},dataType:"json",contentType:"application/json",type:"PUT"},destroy:{url:function(t){return e+"/"+t.id},dataType:"json",type:"DELETE"},create:{url:e,dataType:"json",contentType:"application/json",type:"POST"},parameterMap:function(e,t){return"create"===t||"update"===t?JSON.stringify({job:e}):void 0}},pageSize:10,schema:{model:{id:"id",fields:{id:{editable:!1},number:{editable:!1},precon_number:{editable:!1},sqft:{type:"number"},state:{defaultValue:{id:1,name:"Michigan"}},sachse_group:{defaultValue:{id:1,name:"Commercial"}},project_type:{defaultValue:{id:1,name:"Retail"}},contract_type:{defaultValue:{id:1,name:"Cost Plus"}},project_phase:{defaultValue:{id:1,name:"01. Sales"}}}}}});$("#grid").kendoGrid({dataSource:t,columnMenu:!0,filterable:!0,sortable:!0,resizable:!0,navigatable:!0,toolbar:["create","save","cancel"],pageable:{refresh:!0,pageSizes:!0,buttonCount:5},columns:[{field:"project_phase",title:"Project Phase",editor:projPhaseDropDownEditor,template:"#=project_phase.name#",width:150},{field:"precon_number",title:"Precon #",width:110},{field:"number",title:"Job #",width:100},{field:"name",title:"Project Name",editor:jobNameAutoFill,width:300},{field:"building",title:"Proj Bldg/Location",editor:buildingNameAutoFill,width:250},{field:"sachse_group",title:"Sachse Group",editor:sachseGroupDropDownEditor,template:"#=sachse_group.name#",width:250},{field:"address",title:"Address",width:200},{field:"city",title:"City",width:150},{field:"state",title:"State",width:160,editor:stateDropDownEditor,template:"#=state.name#"},{field:"sqft",title:"Sq. Ft.",width:160},{field:"project_type",title:"Project Type",width:160,editor:projTypeDropDownEditor,template:"#=project_type.name#"},{field:"contract_type",title:"Contract Type",width:160,editor:contractTypeDropDownEditor,template:"#=contract_type.name#"},{field:"start_date",title:"Start Date",editor:datePickerEditor,width:150},{field:"turnover_date",title:"Turnover Date",editor:datePickerEditor,width:150},{command:"destroy",title:"&nbsp;",width:120}],editable:!0})}),function(){jQuery(function(){return $(".best_in_place").best_in_place()})}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),$(document).ready(function(){$("#staff_assignment_project_role_id").change(function(){selected=$(this).find("option:selected").text(),$("#staff_assignment_user_id optgroup").each(function(){null==$(this).attr("label").match(selected)&&$(this).appendTo("#parkingLot")}),$("#parkingLot optgroup").each(function(){($(this).attr("label").match(selected)||"Any"==selected)&&$(this).appendTo("#staff_assignment_user_id")})}),$("body").after('<select id="parkingLot"></select>'),$("#parkingLot").hide()}),function(){}.call(this),function(){}.call(this),function(){}.call(this),$.sound_path="sound/",$(document).ready(function(){$("body").append("<div id='divSmallBoxes'></div>"),$("body").append("<div id='divMiniIcons'></div><div id='divbigBoxes'></div>")});var ExistMsg=0,SmartMSGboxCount=0,PrevTop=0;!function(e){e.SmartMessageBox=function(t,n){var i,a;t=e.extend({title:"",content:"",NormalButton:void 0,ActiveButton:void 0,buttons:void 0,input:void 0,inputValue:void 0,placeholder:"",options:void 0},t);var r=0;if(r=1,0==isIE8orlower()){var o=document.createElement("audio");o.setAttribute("src",e.sound_path+"messagebox.mp3"),e.get(),o.addEventListener("load",function(){o.play()},!0),o.pause(),o.play()}SmartMSGboxCount+=1,0==ExistMsg&&(ExistMsg=1,i="<div class='divMessageBox animated fadeIn fast' id='MsgBoxBack'></div>",e("body").append(i),1==isIE8orlower()&&e("#MsgBoxBack").addClass("MessageIE"));var s="",l=0;if(void 0!=t.input)switch(l=1,t.input=t.input.toLowerCase(),t.inputValue=t.inputValue?t.inputValue.replace(/'/g,"&#x27;"):"",t.input){case"text":s="<input class='form-control' type='"+t.input+"' id='txt"+SmartMSGboxCount+"' placeholder='"+t.placeholder+"' value='"+t.inputValue+"'/><br/><br/>";break;case"password":s="<input class='form-control' type='"+t.input+"' id='txt"+SmartMSGboxCount+"' placeholder='"+t.placeholder+"'/><br/><br/>";break;case"select":if(void 0==t.options)alert("For this type of input, the options parameter is required.");else{s="<select class='form-control' id='txt"+SmartMSGboxCount+"'>";for(var d=0;d<=t.options.length-1;d++)"["==t.options[d]?c="":"]"==t.options[d]?(u+=1,c="<option>"+c+"</option>",s+=c):c+=t.options[d];s+="</select>"}break;default:alert("That type of input is not handled yet")}a="<div class='MessageBoxContainer animated fadeIn fast' id='Msg"+SmartMSGboxCount+"'>",a+="<div class='MessageBoxMiddle'>",a+="<span class='MsgTitle'>"+t.title+"</span class='MsgTitle'>",a+="<p class='pText'>"+t.content+"</p>",a+=s,a+="<div class='MessageBoxButtonSection'>",void 0==t.buttons&&(t.buttons="[Accept]"),t.buttons=e.trim(t.buttons),t.buttons=t.buttons.split("");var c="",u=0;void 0==t.NormalButton&&(t.NormalButton="#232323"),void 0==t.ActiveButton&&(t.ActiveButton="#ed145b");for(var d=0;d<=t.buttons.length-1;d++)"["==t.buttons[d]?c="":"]"==t.buttons[d]?(u+=1,c="<button id='bot"+u+"-Msg"+SmartMSGboxCount+"' class='btn btn-default btn-sm botTempo'> "+c+"</button>",a+=c):c+=t.buttons[d];a+="</div>",a+="</div>",a+="</div>",SmartMSGboxCount>1&&(e(".MessageBoxContainer").hide(),e(".MessageBoxContainer").css("z-index",99999)),e(".divMessageBox").append(a),1==l&&e("#txt"+SmartMSGboxCount).focus(),e(".botTempo").hover(function(){e(this).attr("id")},function(){e(this).attr("id")}),e(".botTempo").click(function(){var t=e(this).attr("id"),i=t.substr(t.indexOf("-")+1),a=e.trim(e(this).text());if(1==l){if("function"==typeof n){var r=i.replace("Msg",""),o=e("#txt"+r).val();n&&n(a,o)}}else"function"==typeof n&&n&&n(a);e("#"+i).addClass("animated fadeOut fast"),SmartMSGboxCount-=1,0==SmartMSGboxCount&&e("#MsgBoxBack").removeClass("fadeIn").addClass("fadeOut").delay(300).queue(function(){ExistMsg=0,e(this).remove()})})}}(jQuery);var BigBoxes=0;!function(e){e.bigBox=function(t,n){var i;if(t=e.extend({title:"",content:"",icon:void 0,number:void 0,color:void 0,sound:!0,timeout:void 0,colortime:1500,colors:void 0},t),t.sound===!0&&0==isIE8orlower()){var a=document.createElement("audio");navigator.userAgent.match("Firefox/")?a.setAttribute("src",e.sound_path+"bigbox.ogg"):a.setAttribute("src",e.sound_path+"bigbox.mp3"),e.get(),a.addEventListener("load",function(){a.play()},!0),a.pause(),a.play()}BigBoxes+=1,i="<div id='bigBox"+BigBoxes+"' class='bigBox animated fadeIn fast'><div id='bigBoxColor"+BigBoxes+"'><i class='botClose fa fa-times' id='botClose"+BigBoxes+"'></i>",i+="<span>"+t.title+"</span>",i+="<p>"+t.content+"</p>",i+="<div class='bigboxicon'>",void 0==t.icon&&(t.icon="fa fa-cloud"),i+="<i class='"+t.icon+"'></i>",i+="</div>",i+="<div class='bigboxnumber'>",void 0!=t.number&&(i+=t.number),i+="</div></div>",i+="</div>",e("#divbigBoxes").append(i),void 0==t.color&&(t.color="#004d60"),e("#bigBox"+BigBoxes).css("background-color",t.color),e("#divMiniIcons").append("<div id='miniIcon"+BigBoxes+"' class='cajita animated fadeIn' style='background-color: "+t.color+";'><i class='"+t.icon+"'/></i></div>"),e("#miniIcon"+BigBoxes).bind("click",function(){var t=e(this).attr("id"),n=t.replace("miniIcon","bigBox"),i=t.replace("miniIcon","bigBoxColor");e(".cajita").each(function(){var t=e(this).attr("id"),n=t.replace("miniIcon","bigBox");e("#"+n).css("z-index",9998)}),e("#"+n).css("z-index",9999),e("#"+i).removeClass("animated fadeIn").delay(1).queue(function(){e(this).show(),e(this).addClass("animated fadeIn"),e(this).clearQueue()})});var r,o=e("#botClose"+BigBoxes),s=e("#bigBox"+BigBoxes),l=e("#miniIcon"+BigBoxes);if(void 0!=t.colors&&t.colors.length>0&&(o.attr("colorcount","0"),r=setInterval(function(){var e=o.attr("colorcount");o.animate({backgroundColor:t.colors[e].color}),s.animate({backgroundColor:t.colors[e].color}),l.animate({backgroundColor:t.colors[e].color}),e<t.colors.length-1?o.attr("colorcount",1*e+1):o.attr("colorcount",0)},t.colortime)),o.bind("click",function(){clearInterval(r),"function"==typeof n&&n&&n();var t=e(this).attr("id"),i=t.replace("botClose","bigBox"),a=t.replace("botClose","miniIcon");e("#"+i).removeClass("fadeIn fast"),e("#"+i).addClass("fadeOut fast").delay(300).queue(function(){e(this).clearQueue(),e(this).remove()}),e("#"+a).removeClass("fadeIn fast"),e("#"+a).addClass("fadeOut fast").delay(300).queue(function(){e(this).clearQueue(),e(this).remove()})}),void 0!=t.timeout){var d=BigBoxes;setTimeout(function(){clearInterval(r),e("#bigBox"+d).removeClass("fadeIn fast"),e("#bigBox"+d).addClass("fadeOut fast").delay(300).queue(function(){e(this).clearQueue(),e(this).remove()}),e("#miniIcon"+d).removeClass("fadeIn fast"),e("#miniIcon"+d).addClass("fadeOut fast").delay(300).queue(function(){e(this).clearQueue(),e(this).remove()})},t.timeout)}}}(jQuery);var SmallBoxes=0,SmallCount=0,SmallBoxesAnchos=0;!function(e){e.smallBox=function(t,n){var i;if(t=e.extend({title:"",content:"",icon:void 0,iconSmall:void 0,sound:!0,color:void 0,timeout:void 0,colortime:1500,colors:void 0},t),t.sound===!0&&0==isIE8orlower()){var a=document.createElement("audio");navigator.userAgent.match("Firefox/")?a.setAttribute("src",e.sound_path+"smallbox.ogg"):a.setAttribute("src",e.sound_path+"smallbox.mp3"),e.get(),a.addEventListener("load",function(){a.play()},!0),a.pause(),a.play()}SmallBoxes+=1,i="";var r="",o="smallbox"+SmallBoxes;if(r=void 0==t.iconSmall?"<div class='miniIcono'></div>":"<div class='miniIcono'><i class='miniPic "+t.iconSmall+"'></i></div>",i=void 0==t.icon?"<div id='smallbox"+SmallBoxes+"' class='SmallBox animated fadeInRight fast'><div class='textoFull'><span>"+t.title+"</span><p>"+t.content+"</p></div>"+r+"</div>":"<div id='smallbox"+SmallBoxes+"' class='SmallBox animated fadeInRight fast'><div class='foto'><i class='"+t.icon+"'></i></div><div class='textoFoto'><span>"+t.title+"</span><p>"+t.content+"</p></div>"+r+"</div>",1==SmallBoxes)e("#divSmallBoxes").append(i),SmallBoxesAnchos=e("#smallbox"+SmallBoxes).height()+40;else{var s=e(".SmallBox").size();0==s?(e("#divSmallBoxes").append(i),SmallBoxesAnchos=e("#smallbox"+SmallBoxes).height()+40):(e("#divSmallBoxes").append(i),e("#smallbox"+SmallBoxes).css("top",SmallBoxesAnchos),SmallBoxesAnchos=SmallBoxesAnchos+e("#smallbox"+SmallBoxes).height()+20,e(".SmallBox").each(function(t){0==t?(e(this).css("top",20),heightPrev=e(this).height()+40,SmallBoxesAnchos=e(this).height()+40):(e(this).css("top",heightPrev),heightPrev=heightPrev+e(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+e(this).height()+20)}))}var l=e("#smallbox"+SmallBoxes);void 0==t.color?l.css("background-color","#004d60"):l.css("background-color",t.color);var d;void 0!=t.colors&&t.colors.length>0&&(l.attr("colorcount","0"),d=setInterval(function(){var e=l.attr("colorcount");l.animate({backgroundColor:t.colors[e].color}),e<t.colors.length-1?l.attr("colorcount",1*e+1):l.attr("colorcount",0)},t.colortime)),void 0!=t.timeout&&setTimeout(function(){clearInterval(d);{var t=e(this).height()+20;e("#"+o).css("top")}0!=e("#"+o+":hover").length?e("#"+o).on("mouseleave",function(){SmallBoxesAnchos-=t,e("#"+o).remove(),"function"==typeof n&&n&&n();var i=0;e(".SmallBox").each(function(t){0==t?(e(this).animate({top:20},300),i=e(this).height()+40,SmallBoxesAnchos=e(this).height()+40):(e(this).animate({top:i},350),i=i+e(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+e(this).height()+20)})}):(clearInterval(d),SmallBoxesAnchos-=t,"function"==typeof n&&n&&n(),e("#"+o).removeClass().addClass("SmallBox").animate({opacity:0},300,function(){e(this).remove();var t=0;e(".SmallBox").each(function(n){0==n?(e(this).animate({top:20},300),t=e(this).height()+40,SmallBoxesAnchos=e(this).height()+40):(e(this).animate({top:t}),t=t+e(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+e(this).height()+20)})}))},t.timeout),e("#smallbox"+SmallBoxes).bind("click",function(){clearInterval(d),"function"==typeof n&&n&&n();{var t=e(this).height()+20;e(this).attr("id"),e(this).css("top")}SmallBoxesAnchos-=t,e(this).removeClass().addClass("SmallBox").animate({opacity:0},300,function(){e(this).remove();var t=0;e(".SmallBox").each(function(n){0==n?(e(this).animate({top:20},300),t=e(this).height()+40,SmallBoxesAnchos=e(this).height()+40):(e(this).animate({top:t},350),t=t+e(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+e(this).height()+20)})})})}}(jQuery),$.throttle_delay=350,$.menu_speed=235,$.navbar_height=49,$.root_=$("body"),$.left_panel=$("#left-panel"),$.shortcut_dropdown=$("#shortcut"),$.bread_crumb=$("#ribbon ol.breadcrumb"),$.device=null,$.navAsAjax=!1,$.enableJarvisWidgets=!0,$.enableMobileWidgets=!1;var ismobile=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase());ismobile?($.root_.addClass("mobile-detected"),$.device="mobile"):($.root_.addClass("desktop-detected"),$.device="desktop"),$(document).ready(function(){function e(){$this=$("#activity > .badge"),parseInt($this.text())>0&&$this.addClass("bg-color-red bounceIn animated")}function t(){window.location=$.loginURL}function n(){$.shortcut_dropdown.animate({height:"hide"},300,"easeOutCirc"),$.root_.removeClass("shortcut-on")}function i(){$.shortcut_dropdown.animate({height:"show"},200,"easeOutCirc"),$.root_.addClass("shortcut-on")}$("[rel=tooltip]").length&&$("[rel=tooltip]").tooltip(),nav_page_height(),$("nav ul").jarvismenu({accordion:!0,speed:$.menu_speed,closedSign:'<em class="fa fa-expand-o"></em>',openedSign:'<em class="fa fa-collapse-o"></em>'}),$(".minifyme").click(function(e){$("body").toggleClass("minified"),$(this).effect("highlight",{},500),e.preventDefault()}),$("#hide-menu >:first-child > a").click(function(e){$("body").toggleClass("hidden-menu"),e.preventDefault()}),$("#show-shortcut").click(function(e){$.shortcut_dropdown.is(":visible")?n():i(),e.preventDefault()}),$("#search-mobile").click(function(){$.root_.addClass("search-mobile")}),$("#cancel-search-js").click(function(){$.root_.removeClass("search-mobile")}),$("#activity").click(function(e){var t=$(this);t.find(".badge").hasClass("bg-color-red")&&(t.find(".badge").removeClassPrefix("bg-color-"),t.find(".badge").text("0")),t.next(".ajax-dropdown").is(":visible")?(t.next(".ajax-dropdown").fadeOut(150),t.removeClass("active")):(t.next(".ajax-dropdown").fadeIn(150),t.addClass("active"));t.next(".ajax-dropdown").find(".btn-group > .active > input").attr("id");e.preventDefault()}),$('input[name="activity"]').change(function(){var e=$(this);url=e.attr("id"),container=$(".ajax-notifications"),loadURL(url,container)}),$(document).mouseup(function(e){$(".ajax-dropdown").is(e.target)||0!==$(".ajax-dropdown").has(e.target).length||($(".ajax-dropdown").fadeOut(150),$(".ajax-dropdown").prev().removeClass("active"))}),$("button[data-loading-text]").on("click",function(){var e=$(this);e.button("loading"),setTimeout(function(){e.button("reset")},3e3)}),e(),$("#refresh").click(function(e){$.SmartMessageBox({title:"<i class='fa fa-refresh' style='color:green'></i> Clear Local Storage",content:"Would you like to RESET all your saved widgets and clear LocalStorage?",buttons:"[No][Yes]"},function(e){"Yes"==e&&localStorage&&(localStorage.clear(),location.reload())}),e.preventDefault()}),$("#logout a").click(function(e){var n=$(this);$.loginURL=n.attr("href"),$.logoutMSG=n.data("logout-msg"),$.SmartMessageBox({title:"<i class='fa fa-sign-out txt-color-orangeDark'></i> Logout <span class='txt-color-orangeDark'><strong>"+$("#show-shortcut").text()+"</strong></span> ?",content:$.logoutMSG||"You can improve your security further after logging out by closing this opened browser",buttons:"[No][Yes]"},function(e){"Yes"==e&&($.root_.addClass("animated fadeOutUp"),setTimeout(t,1e3))}),e.preventDefault()}),$.shortcut_dropdown.find("a").click(function(e){e.preventDefault(),window.location=$(this).attr("href"),setTimeout(n,300)}),$(document).mouseup(function(e){$.shortcut_dropdown.is(e.target)||0!==$.shortcut_dropdown.has(e.target).length||n()})}),function(e,t,n){function i(){a=t[s](function(){r.each(function(){var t=e(this),n=t.width(),i=t.height(),a=e.data(this,d);(n!==a.w||i!==a.h)&&t.trigger(l,[a.w=n,a.h=i])}),i()},o[c])}var a,r=e([]),o=e.resize=e.extend(e.resize,{}),s="setTimeout",l="resize",d=l+"-special-event",c="delay",u="throttleWindow";o[c]=e.throttle_delay,o[u]=!0,e.event.special[l]={setup:function(){if(!o[u]&&this[s])return!1;var t=e(this);r=r.add(t),e.data(this,d,{w:t.width(),h:t.height()}),1===r.length&&i()},teardown:function(){if(!o[u]&&this[s])return!1;var t=e(this);r=r.not(t),t.removeData(d),r.length||clearTimeout(a)},add:function(t){function i(t,i,r){var o=e(this),s=e.data(this,d);s.w=i!==n?i:o.width(),s.h=r!==n?r:o.height(),a.apply(this,arguments)}if(!o[u]&&this[s])return!1;var a;return e.isFunction(t)?(a=t,i):(a=t.handler,void(t.handler=i))}}}(jQuery,this),$("#main").resize(function(){nav_page_height(),check_if_mobile_width()}),$("nav").resize(function(){nav_page_height()});var ie=function(){for(var e,t=3,n=document.createElement("div"),i=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",i[0];);return t>4?t:e}();$.fn.extend({jarvismenu:function(e){var t={accordion:"true",speed:200,closedSign:"[+]",openedSign:"[-]"},n=$.extend(t,e),i=$(this);i.find("li").each(function(){0!=$(this).find("ul").size()&&($(this).find("a:first").append("<b class='collapse-sign'>"+n.closedSign+"</b>"),"#"==$(this).find("a:first").attr("href")&&$(this).find("a:first").click(function(){return!1}))}),i.find("li.active").each(function(){$(this).parents("ul").slideDown(n.speed),$(this).parents("ul").parent("li").find("b:first").html(n.openedSign),$(this).parents("ul").parent("li").addClass("open")}),i.find("li a").click(function(){0!=$(this).parent().find("ul").size()&&(n.accordion&&($(this).parent().find("ul").is(":visible")||(parents=$(this).parent().parents("ul"),visible=i.find("ul:visible"),visible.each(function(e){var t=!0;parents.each(function(n){return parents[n]==visible[e]?(t=!1,!1):void 0}),t&&$(this).parent().find("ul")!=visible[e]&&$(visible[e]).slideUp(n.speed,function(){$(this).parent("li").find("b:first").html(n.closedSign),$(this).parent("li").removeClass("open")})}))),$(this).parent().find("ul:first").is(":visible")&&!$(this).parent().find("ul:first").hasClass("active")?$(this).parent().find("ul:first").slideUp(n.speed,function(){$(this).parent("li").removeClass("open"),$(this).parent("li").find("b:first").delay(n.speed).html(n.closedSign)}):$(this).parent().find("ul:first").slideDown(n.speed,function(){$(this).parent("li").addClass("open"),$(this).parent("li").find("b:first").delay(n.speed).html(n.openedSign)}))})}}),jQuery.fn.doesExist=function(){return jQuery(this).length>0};var gMapsLoaded=!1;window.gMapsCallback=function(){gMapsLoaded=!0,$(window).trigger("gMapsLoaded")},window.loadGoogleMaps=function(){if(gMapsLoaded)return window.gMapsCallback();var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","http://maps.google.com/maps/api/js?sensor=false&callback=gMapsCallback"),(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(e)};var jsArray={};$.navAsAjax&&($("nav").length&&checkURL(),$(document).on("click",'nav a[href!="#"]',function(e){e.preventDefault();var t=$(e.currentTarget);t.parent().hasClass("active")||t.attr("target")||($.root_.hasClass("mobile-view-activated")?($.root_.removeClass("hidden-menu"),window.setTimeout(function(){window.location.search?window.location.href=window.location.href.replace(window.location.search,"").replace(window.location.hash,"")+"#"+t.attr("href"):window.location.hash=t.attr("href")},150)):window.location.search?window.location.href=window.location.href.replace(window.location.search,"").replace(window.location.hash,"")+"#"+t.attr("href"):window.location.hash=t.attr("href"))}),$(document).on("click",'nav a[target="_blank"]',function(e){e.preventDefault();var t=$(e.currentTarget);window.open(t.attr("href"))}),$(document).on("click",'nav a[target="_top"]',function(e){e.preventDefault();var t=$(e.currentTarget);window.location=t.attr("href")}),$(document).on("click",'nav a[href="#"]',function(e){e.preventDefault()}),$(window).on("hashchange",function(){checkURL()})),$("body").on("click",function(e){$('[rel="popover"]').each(function(){$(this).is(e.target)||0!==$(this).has(e.target).length||0!==$(".popover").has(e.target).length||$(this).popover("hide")})}),!function(e){var t=function(t,n){this.element=e(t),this.picker=e('<div class="slider"><div class="slider-track"><div class="slider-selection"></div><div class="slider-handle"></div><div class="slider-handle"></div></div><div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div></div>').insertBefore(this.element).prepend(this.element),this.id=this.element.data("slider-id")||n.id,this.id&&(this.picker[0].id=this.id),"undefined"!=typeof Modernizr&&Modernizr.touch&&(this.touchCapable=!0);var i=this.element.data("slider-tooltip")||n.tooltip;switch(this.tooltip=this.picker.find(".tooltip"),this.tooltipInner=this.tooltip.find("div.tooltip-inner"),this.orientation=this.element.data("slider-orientation")||n.orientation,this.orientation){case"vertical":this.picker.addClass("slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",this.element.outerWidth()),this.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px"
}this.min=this.element.data("slider-min")||n.min,this.max=this.element.data("slider-max")||n.max,this.step=this.element.data("slider-step")||n.step,this.value=this.element.data("slider-value")||n.value,this.value[1]&&(this.range=!0),this.selection=this.element.data("slider-selection")||n.selection,this.selectionEl=this.picker.find(".slider-selection"),"none"===this.selection&&this.selectionEl.addClass("hide"),this.selectionElStyle=this.selectionEl[0].style,this.handle1=this.picker.find(".slider-handle:first"),this.handle1Stype=this.handle1[0].style,this.handle2=this.picker.find(".slider-handle:last"),this.handle2Stype=this.handle2[0].style;var a=this.element.data("slider-handle")||n.handle;switch(a){case"round":this.handle1.addClass("round"),this.handle2.addClass("round");break;case"triangle":this.handle1.addClass("triangle"),this.handle2.addClass("triangle")}this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],this.formater=n.formater,this.layout(),this.picker.on(this.touchCapable?{touchstart:e.proxy(this.mousedown,this)}:{mousedown:e.proxy(this.mousedown,this)}),"show"===i?this.picker.on({mouseenter:e.proxy(this.showTooltip,this),mouseleave:e.proxy(this.hideTooltip,this)}):this.tooltip.addClass("hide")};t.prototype={constructor:t,over:!1,inDrag:!1,showTooltip:function(){this.tooltip.addClass("in"),this.over=!0},hideTooltip:function(){this.inDrag===!1&&this.tooltip.removeClass("in"),this.over=!1},layout:function(){this.handle1Stype[this.stylePos]=this.percentage[0]+"%",this.handle2Stype[this.stylePos]=this.percentage[1]+"%","vertical"==this.orientation?(this.selectionElStyle.top=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.height=Math.abs(this.percentage[0]-this.percentage[1])+"%"):(this.selectionElStyle.left=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.width=Math.abs(this.percentage[0]-this.percentage[1])+"%"),this.range?(this.tooltipInner.text(this.formater(this.value[0])+" : "+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=this.size*(this.percentage[0]+(this.percentage[1]-this.percentage[0])/2)/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=this.size*this.percentage[0]/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px")},mousedown:function(t){this.touchCapable&&"touchstart"===t.type&&(t=t.originalEvent),this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos];var n=this.getPercentage(t);if(this.range){var i=Math.abs(this.percentage[0]-n),a=Math.abs(this.percentage[1]-n);this.dragged=a>i?0:1}else this.dragged=0;this.percentage[this.dragged]=n,this.layout(),e(document).on(this.touchCapable?{touchmove:e.proxy(this.mousemove,this),touchend:e.proxy(this.mouseup,this)}:{mousemove:e.proxy(this.mousemove,this),mouseup:e.proxy(this.mouseup,this)}),this.inDrag=!0;var r=this.calculateValue();return this.element.trigger({type:"slideStart",value:r}).trigger({type:"slide",value:r}),!1},mousemove:function(e){this.touchCapable&&"touchmove"===e.type&&(e=e.originalEvent);var t=this.getPercentage(e);this.range&&(0===this.dragged&&this.percentage[1]<t?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>t&&(this.percentage[1]=this.percentage[0],this.dragged=0)),this.percentage[this.dragged]=t,this.layout();var n=this.calculateValue();return this.element.trigger({type:"slide",value:n}).data("value",n).prop("value",n),!1},mouseup:function(){e(document).off(this.touchCapable?{touchmove:this.mousemove,touchend:this.mouseup}:{mousemove:this.mousemove,mouseup:this.mouseup}),this.inDrag=!1,0==this.over&&this.hideTooltip(),this.element;var t=this.calculateValue();return this.element.trigger({type:"slideStop",value:t}).data("value",t).prop("value",t),!1},calculateValue:function(){var e;return this.range?(e=[this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step],this.value=e):(e=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.value=[e,this.value[1]]),e},getPercentage:function(e){this.touchCapable&&(e=e.touches[0]);var t=100*(e[this.mousePos]-this.offset[this.stylePos])/this.size;return t=Math.round(t/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,t))},getValue:function(){return this.range?this.value:this.value[0]},setValue:function(e){this.value=e,this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.layout()}},e.fn.slider=function(n,i){return this.each(function(){var a=e(this),r=a.data("slider"),o="object"==typeof n&&n;r||a.data("slider",r=new t(this,e.extend({},e.fn.slider.defaults,o))),"string"==typeof n&&r[n](i)})},e.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,selection:"before",tooltip:"show",handle:"round",formater:function(e){return e}},e.fn.slider.Constructor=t}(window.jQuery),+function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){r.trigger("closed.bs.alert").remove()}var i=e(this),a=i.attr("data-target");a||(a=i.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,""));var r=e(a);t&&t.preventDefault(),r.length||(r=i.hasClass("alert")?i:i.parent()),r.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one(e.support.transition.end,n).emulateTransitionEnd(150):n())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),a=i.data("bs.alert");a||i.data("bs.alert",a=new n(this)),"string"==typeof t&&a[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery),+function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i),this.isLoading=!1};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var n="disabled",i=this.$element,a=i.is("input")?"val":"html",r=i.data();t+="Text",r.resetText||i.data("resetText",i[a]()),i[a](r[t]||this.options[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var i=e(this),a=i.data("bs.button"),r="object"==typeof n&&n;a||i.data("bs.button",a=new t(this,r)),"toggle"==n?a.toggle():n&&a.setState(n)})},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),t.preventDefault()})}(jQuery),+function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},t.prototype.to=function(t){var n=this,i=this.getActiveIndex();if(!(t>this.$items.length-1||0>t))return this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){return this.sliding?void 0:this.slide("next")},t.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},t.prototype.slide=function(t,n){var i=this.$element.find(".item.active"),a=n||i[t](),r=this.interval,o="next"==t?"left":"right",s="next"==t?"first":"last",l=this;if(!a.length){if(!this.options.wrap)return;a=this.$element.find(".item")[s]()}if(a.hasClass("active"))return this.sliding=!1;var d=e.Event("slide.bs.carousel",{relatedTarget:a[0],direction:o});return this.$element.trigger(d),d.isDefaultPrevented()?void 0:(this.sliding=!0,r&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var t=e(l.$indicators.children()[l.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")?(a.addClass(t),a[0].offsetWidth,i.addClass(o),a.addClass(o),i.one(e.support.transition.end,function(){a.removeClass([t,o].join(" ")).addClass("active"),i.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*i.css("transition-duration").slice(0,-1))):(i.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),r&&this.cycle(),this)};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var i=e(this),a=i.data("bs.carousel"),r=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n),o="string"==typeof n?n:r.slide;a||i.data("bs.carousel",a=new t(this,r)),"number"==typeof n?a.to(n):o?a[o]():r.interval&&a.pause().cycle()})},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,i=e(this),a=e(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),r=e.extend({},a.data(),i.data()),o=i.attr("data-slide-to");o&&(r.interval=!1),a.carousel(r),(o=i.attr("data-slide-to"))&&a.data("bs.carousel").to(o),t.preventDefault()}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);t.carousel(t.data())})})}(jQuery),+function(e){function t(t){e(i).remove(),e(a).each(function(){var i=n(e(this)),a={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown",a)),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",a))})}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}var i=".dropdown-backdrop",a="[data-toggle=dropdown]",r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.prototype.toggle=function(i){var a=e(this);if(!a.is(".disabled, :disabled")){var r=n(a),o=r.hasClass("open");if(t(),!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(r.trigger(i=e.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown",s),a.focus()}return!1}},r.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),o=r.hasClass("open");if(!o||o&&27==t.keyCode)return 27==t.which&&r.find(a).focus(),i.click();var s=" li:not(.divider):visible a",l=r.find("[role=menu]"+s+", [role=listbox]"+s);if(l.length){var d=l.index(l.filter(":focus"));38==t.keyCode&&d>0&&d--,40==t.keyCode&&d<l.length-1&&d++,~d||(d=0),l.eq(d).focus()}}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",a,r.prototype.toggle).on("keydown.bs.dropdown.data-api",a+", [role=menu], [role=listbox]",r.prototype.keydown)}(jQuery),+function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var i=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show().scrollTop(0),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var a=e.Event("shown.bs.modal",{relatedTarget:t});i?n.$element.find(".modal-dialog").one(e.support.transition.end,function(){n.$element.focus().trigger(a)}).emulateTransitionEnd(300):n.$element.focus().trigger(a)}))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]!==e.target&&!this.$element.has(e.target).length&&this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,i){return this.each(function(){var a=e(this),r=a.data("bs.modal"),o=e.extend({},t.DEFAULTS,a.data(),"object"==typeof n&&n);r||a.data("bs.modal",r=new t(this,o)),"string"==typeof n?r[n](i):o.show&&r.show(i)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),a=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=a.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},a.data(),n.data());n.is("a")&&t.preventDefault(),a.modal(r,this).one("hide",function(){n.is(":visible")&&n.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(jQuery),+function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,i){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i);for(var a=this.options.trigger.split(" "),r=a.length;r--;){var o=a[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var n=this,i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,o=r.test(a);o&&(a=a.replace(r,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(a),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var s=this.getPosition(),l=i[0].offsetWidth,d=i[0].offsetHeight;if(o){var c=this.$element.parent(),u=a,h=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:c.outerWidth(),f="body"==this.options.container?window.innerHeight:c.outerHeight(),g="body"==this.options.container?0:c.offset().left;a="bottom"==a&&s.top+s.height+d-h>f?"top":"top"==a&&s.top-h-d<0?"bottom":"right"==a&&s.right+l>p?"left":"left"==a&&s.left-l<g?"right":a,i.removeClass(u).addClass(a)}var m=this.getCalculatedOffset(a,s,l,d);this.applyPlacement(m,a),this.hoverState=null;var v=function(){n.$element.trigger("shown.bs."+n.type)};e.support.transition&&this.$tip.hasClass("fade")?i.one(e.support.transition.end,v).emulateTransitionEnd(150):v()}},t.prototype.applyPlacement=function(t,n){var i,a=this.tip(),r=a[0].offsetWidth,o=a[0].offsetHeight,s=parseInt(a.css("margin-top"),10),l=parseInt(a.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(l)&&(l=0),t.top=t.top+s,t.left=t.left+l,e.offset.setOffset(a[0],e.extend({using:function(e){a.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),a.addClass("in");var d=a[0].offsetWidth,c=a[0].offsetHeight;if("top"==n&&c!=o&&(i=!0,t.top=t.top+o-c),/bottom|top/.test(n)){var u=0;t.left<0&&(u=-2*t.left,t.left=0,a.offset(t),d=a[0].offsetWidth,c=a[0].offsetHeight),this.replaceArrow(u-r+d,d,"left")}else this.replaceArrow(c-o,c,"top");i&&a.offset(t)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function t(){"in"!=n.hoverState&&i.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,i=this.tip(),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i.one(e.support.transition.end,t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),a=i.data("bs.tooltip"),r="object"==typeof n&&n;(a||"destroy"!=n)&&(a||i.data("bs.tooltip",a=new t(this,r)),"string"==typeof n&&a[n]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),a=i.data("bs.popover"),r="object"==typeof n&&n;(a||"destroy"!=n)&&(a||i.data("bs.popover",a=new t(this,r)),"string"==typeof n&&a[n]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),+function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var a=n.find(".active:last a")[0],r=e.Event("show.bs.tab",{relatedTarget:a});if(t.trigger(r),!r.isDefaultPrevented()){var o=e(i);this.activate(t.parent("li"),n),this.activate(o,o.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:a})})}}},t.prototype.activate=function(t,n,i){function a(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var r=n.find("> .active"),o=i&&e.support.transition&&r.hasClass("fade");o?r.one(e.support.transition.end,a).emulateTransitionEnd(150):a(),r.removeClass("in")};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var i=e(this),a=i.data("bs.tab");a||i.data("bs.tab",a=new t(this)),"string"==typeof n&&a[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(jQuery),+function(e){"use strict";var t=function(n,i){this.options=e.extend({},t.DEFAULTS,i),this.$window=e(window).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$window.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=e(document).height(),i=this.$window.scrollTop(),a=this.$element.offset(),r=this.options.offset,o=r.top,s=r.bottom;"top"==this.affixed&&(a.top+=i),"object"!=typeof r&&(s=o=r),"function"==typeof o&&(o=r.top(this.$element)),"function"==typeof s&&(s=r.bottom(this.$element));var l=null!=this.unpin&&i+this.unpin<=a.top?!1:null!=s&&a.top+this.$element.height()>=n-s?"bottom":null!=o&&o>=i?"top":!1;if(this.affixed!==l){this.unpin&&this.$element.css("top","");var d="affix"+(l?"-"+l:""),c=e.Event(d+".bs.affix");this.$element.trigger(c),c.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(d).trigger(e.Event(d.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:n-s-this.$element.height()}))}}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var i=e(this),a=i.data("bs.affix"),r="object"==typeof n&&n;a||i.data("bs.affix",a=new t(this,r)),"string"==typeof n&&a[n]()})},e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(jQuery),+function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=e.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var i=n.data("bs.collapse");if(i&&i.transitioning)return;n.collapse("hide"),i||n.data("bs.collapse",null)}var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var o=e.camelCase(["scroll",a].join("-"));this.$element.one(e.support.transition.end,e.proxy(r,this)).emulateTransitionEnd(350)[a](this.$element[0][o])}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[n](0).one(e.support.transition.end,e.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var i=e(this),a=i.data("bs.collapse"),r=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);!a&&r.toggle&&"show"==n&&(n=!n),a||i.data("bs.collapse",a=new t(this,r)),"string"==typeof n&&a[n]()})},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),a=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=e(a),o=r.data("bs.collapse"),s=o?"toggle":i.data(),l=i.attr("data-parent"),d=l&&e(l);o&&o.transitioning||(d&&d.find('[data-toggle=collapse][data-parent="'+l+'"]').not(i).addClass("collapsed"),i[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),r.collapse(s)})}(jQuery),+function(e){function t(n,i){var a,r=e.proxy(this.process,this);this.$element=e(e(n).is("body")?window:n),this.$body=e("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",r),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||(a=e(n).attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=e([]),this.targets=e([]),this.activeTarget=null,this.refresh(),this.process()}t.DEFAULTS={offset:10},t.prototype.refresh=function(){var t=this.$element[0]==window?"offset":"position";this.offsets=e([]),this.targets=e([]);{var n=this;this.$body.find(this.selector).map(function(){var i=e(this),a=i.data("target")||i.attr("href"),r=/^#./.test(a)&&e(a);return r&&r.length&&r.is(":visible")&&[[r[t]().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),a]]||null
}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})}},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),a=this.offsets,r=this.targets,o=this.activeTarget;if(t>=i)return o!=(e=r.last()[0])&&this.activate(e);if(o&&t<=a[0])return o!=(e=r[0])&&this.activate(e);for(e=a.length;e--;)o!=r[e]&&t>=a[e]&&(!a[e+1]||t<=a[e+1])&&this.activate(r[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),a=i.data("bs.scrollspy"),r="object"==typeof n&&n;a||i.data("bs.scrollspy",a=new t(this,r)),"string"==typeof n&&a[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(jQuery),+function(e){function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one(e.support.transition.end,function(){n=!0});var a=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(a,t),this},e(function(){e.support.transition=t()})}(jQuery),$("#ribbon").append('<div class="demo"><span id="demo-setting"><i class="fa fa-cog txt-color-blueDark"></i></span> <form><legend class="no-padding margin-bottom-10">Layout Options</legend><section><label><input name="subscription" id="smart-fixed-nav" type="checkbox" class="checkbox style-0"><span>Fixed header</span></label><label><input type="checkbox" name="terms" id="smart-fixed-ribbon" class="checkbox style-0"><span>Fixed Ribbon</span></label><label><input type="checkbox" name="terms" id="smart-fixed-navigation" class="checkbox style-0"><span>Fixed Navigation</span></label><label><input type="checkbox" name="terms" id="smart-fixed-container" class="checkbox style-0"><span>Inside <b>.container</b> <div class="font-xs text-right">(non-responsive)</div></span></label><label style="display:none;"><input type="checkbox" name="terms" id="smart-rtl" class="checkbox style-0"><span>Right to left <b>(rtl)</b></span></label> <span id="smart-bgimages"></span></section><section><h6 class="margin-top-10 semi-bold margin-bottom-5">Clear Localstorage</h6><a href="javascript:void(0);" class="btn btn-xs btn-block btn-primary" id="reset-smart-widget"><i class="fa fa-refresh"></i> Widget Reset</a></section> <h6 class="margin-top-10 semi-bold margin-bottom-5">SmartAdmin Skins</h6><section id="smart-styles"><a href="javascript:void(0);" id="smart-style-0" data-skinlogo="img/logo.png" class="btn btn-block btn-xs txt-color-white margin-right-5" style="background-color:#4E463F;"><i class="fa fa-check fa-fw" id="skin-checked"></i>Smart Default</a><a href="javascript:void(0);" id="smart-style-1" data-skinlogo="img/logo-white.png" class="btn btn-block btn-xs txt-color-white" style="background:#3A4558;">Dark Elegance</a><a href="javascript:void(0);" id="smart-style-2" data-skinlogo="img/logo-blue.png" class="btn btn-xs btn-block txt-color-darken margin-top-5" style="background:#fff;">Ultra Light</a><a href="javascript:void(0);" id="smart-style-3" data-skinlogo="img/logo-pale.png" class="btn btn-xs btn-block txt-color-white margin-top-5" style="background:#f78c40">Google Skin</a></section></form> </div>');var smartbgimage="<h6 class='margin-top-10 semi-bold'>Background</h6><img src='img/pattern/graphy-xs.png' data-htmlbg-url='img/pattern/graphy.png' width='22' height='22' class='margin-right-5 bordered cursor-pointer'><img src='img/pattern/tileable_wood_texture-xs.png' width='22' height='22' data-htmlbg-url='img/pattern/tileable_wood_texture.png' class='margin-right-5 bordered cursor-pointer'><img src='img/pattern/sneaker_mesh_fabric-xs.png' width='22' height='22' data-htmlbg-url='img/pattern/sneaker_mesh_fabric.png' class='margin-right-5 bordered cursor-pointer'><img src='img/pattern/nistri-xs.png' data-htmlbg-url='img/pattern/nistri.png' width='22' height='22' class='margin-right-5 bordered cursor-pointer'><img src='img/pattern/paper-xs.png' data-htmlbg-url='img/pattern/paper.png' width='22' height='22' class='bordered cursor-pointer'>";$("#smart-bgimages").fadeOut(),$("#demo-setting").click(function(){$("#ribbon .demo").toggleClass("activate")}),$('input[type="checkbox"]#smart-fixed-nav').click(function(){$(this).is(":checked")?($.root_.addClass("fixed-header"),nav_page_height()):($('input[type="checkbox"]#smart-fixed-ribbon').prop("checked",!1),$('input[type="checkbox"]#smart-fixed-navigation').prop("checked",!1),$.root_.removeClass("fixed-header"),$.root_.removeClass("fixed-navigation"),$.root_.removeClass("fixed-ribbon"))}),$('input[type="checkbox"]#smart-fixed-ribbon').click(function(){$(this).is(":checked")?($('input[type="checkbox"]#smart-fixed-nav').prop("checked",!0),$.root_.addClass("fixed-header"),$.root_.addClass("fixed-ribbon"),$('input[type="checkbox"]#smart-fixed-container').prop("checked",!1),$.root_.removeClass("container")):($('input[type="checkbox"]#smart-fixed-navigation').prop("checked",!1),$.root_.removeClass("fixed-ribbon"),$.root_.removeClass("fixed-navigation"))}),$('input[type="checkbox"]#smart-fixed-navigation').click(function(){$(this).is(":checked")?($('input[type="checkbox"]#smart-fixed-nav').prop("checked",!0),$('input[type="checkbox"]#smart-fixed-ribbon').prop("checked",!0),$.root_.addClass("fixed-header"),$.root_.addClass("fixed-ribbon"),$.root_.addClass("fixed-navigation"),$('input[type="checkbox"]#smart-fixed-container').prop("checked",!1),$.root_.removeClass("container")):$.root_.removeClass("fixed-navigation")}),$('input[type="checkbox"]#smart-rtl').click(function(){$(this).is(":checked")?$.root_.addClass("smart-rtl"):$.root_.removeClass("smart-rtl")}),$('input[type="checkbox"]#smart-fixed-container').click(function(){$(this).is(":checked")?($.root_.addClass("container"),$('input[type="checkbox"]#smart-fixed-ribbon').prop("checked",!1),$.root_.removeClass("fixed-ribbon"),$('input[type="checkbox"]#smart-fixed-navigation').prop("checked",!1),$.root_.removeClass("fixed-navigation"),smartbgimage?($("#smart-bgimages").append(smartbgimage).fadeIn(1e3),$("#smart-bgimages img").bind("click",function(){var e=$(this),t=$("html");bgurl=e.data("htmlbg-url"),t.css("background-image","url("+bgurl+")")}),smartbgimage=null):$("#smart-bgimages").fadeIn(1e3)):($.root_.removeClass("container"),$("#smart-bgimages").fadeOut())}),$("#reset-smart-widget").bind("click",function(){return $("#refresh").click(),!1}),$("#smart-styles > a").bind("click",function(){var e=$(this),t=$("#logo img");$.root_.removeClassPrefix("smart-style").addClass(e.attr("id")),t.attr("src",e.data("skinlogo")),$("#smart-styles > a #skin-checked").remove(),e.prepend("<i class='fa fa-check fa-fw' id='skin-checked'></i>")}),FastClick.prototype.deviceIsAndroid=0<navigator.userAgent.indexOf("Android"),FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},FastClick.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=function(e,t){var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},FastClick.prototype.focus=function(e){var t;this.deviceIsIOS&&e.setSelectionRange?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},FastClick.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FastClick.prototype.onTouchStart=function(e){var t,n,i;if(1<e.targetTouches.length)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],this.deviceIsIOS){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,200>e.timeStamp-this.lastClickTime&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){return e=e.changedTouches[0],10<Math.abs(e.pageX-this.touchStartX)||10<Math.abs(e.pageY-this.touchStartY)?!0:!1},FastClick.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){var t,n,i;if(i=this.targetElement,this.touchHasMoved(e)&&(this.trackingClick=!1,this.targetElement=null),!this.trackingClick)return!0;if(200>e.timeStamp-this.lastClickTime)return this.cancelNextClick=!0;if(this.lastClickTime=e.timeStamp,t=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(i=e.changedTouches[0],i=document.elementFromPoint(i.pageX-window.pageXOffset,i.pageY-window.pageYOffset)),n=i.tagName.toLowerCase(),"label"===n){if(t=this.findControl(i)){if(this.focus(i),this.deviceIsAndroid)return!1;i=t}}else if(this.needsFocus(i))return 100<e.timeStamp-t||this.deviceIsIOS&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(i),this.deviceIsIOS4&&"select"===n||(this.targetElement=null,e.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(t=i.fastClickScrollParent)&&t.fastClickLastScrollTop!==t.scrollTop?!0:(this.needsClick(i)||(e.preventDefault(),this.sendClick(i,e)),!1)},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(e){return this.targetElement&&!e.forwardedTouchEvent&&e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0},FastClick.prototype.onClick=function(e){return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(e=this.onMouse(e),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){var e=this.layer;this.deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(e){var t;if("undefined"==typeof window.ontouchstart)return!0;if(/Chrome\/[0-9]+/.test(navigator.userAgent)){if(!FastClick.prototype.deviceIsAndroid)return!0;if((t=document.querySelector("meta[name=viewport]"))&&-1!==t.content.indexOf("user-scalable=no"))return!0}return"none"===e.style.msTouchAction?!0:!1},FastClick.attach=function(e){return new FastClick(e)},"undefined"!=typeof define&&define.amd?define(function(){return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(e,t,n,i){function a(t,n){this.obj=e(t),this.o=e.extend({},e.fn[r].defaults,n),this.objId=this.obj.attr("id"),this.pwCtrls=".jarviswidget-ctrls",this.widget=this.obj.find(this.o.widgets),this.toggleClass=this.o.toggleClass.split("|"),this.editClass=this.o.editClass.split("|"),this.fullscreenClass=this.o.fullscreenClass.split("|"),this.customClass=this.o.customClass.split("|"),this.init()}var r="jarvisWidgets";a.prototype={_settings:function(){var e=this;storage=!!function(){var e,t=+new Date;try{return localStorage.setItem(t,t),e=localStorage.getItem(t)==t,localStorage.removeItem(t),e}catch(n){}}()&&localStorage,storage&&e.o.localStorage&&(e.o.ajaxnav===!0?(widget_url=location.hash.replace(/^#/,""),keySettings="Plugin_settings_"+widget_url+"_"+e.objId,getKeySettings=localStorage.getItem(keySettings),keyPosition="Plugin_position_"+widget_url+"_"+e.objId,getKeyPosition=localStorage.getItem(keyPosition)):(keySettings="jarvisWidgets_settings_"+location.pathname+"_"+e.objId,getKeySettings=localStorage.getItem(keySettings),keyPosition="jarvisWidgets_position_"+location.pathname+"_"+e.objId,getKeyPosition=localStorage.getItem(keyPosition))),clickEvent="ontouchstart"in t||t.DocumentTouch&&n instanceof DocumentTouch?"touchstart":"click"},_runLoaderWidget:function(e){var t=this;t.o.indicator===!0&&e.parents(t.o.widgets).find(".jarviswidget-loader").stop(!0,!0).fadeIn(100).delay(t.o.indicatorTime).fadeOut(100)},_getPastTimestamp:function(e){var t=this,n=new Date(e);if(i=n.getMonth()+1,a=n.getDate(),tsYear=n.getFullYear(),r=n.getHours(),o=n.getMinutes(),s=n.getUTCSeconds(),10>i)var i="0"+i;if(10>a)var a="0"+a;if(10>r)var r="0"+r;if(10>o)var o="0"+o;if(10>s)var s="0"+s;var l=t.o.timestampFormat.replace(/%d%/g,a).replace(/%m%/g,i).replace(/%y%/g,tsYear).replace(/%h%/g,r).replace(/%i%/g,o).replace(/%s%/g,s);return l},_loadAjaxFile:function(t,n,i){var a=this;t.find(".widget-body").load(n,function(n,i,r){var o=e(this);if("error"==i&&o.html('<h4 class="alert alert-danger">'+a.o.labelError+"<b> "+r.status+" "+r.statusText+"</b></h4>"),"success"==i){var s=t.find(a.o.timestampPlaceholder);s.length&&s.html(a._getPastTimestamp(new Date)),"function"==typeof a.o.afterLoad&&a.o.afterLoad.call(this,t)}}),a._runLoaderWidget(i)},_saveSettingsWidget:function(){var t=this;if(t._settings(),storage&&t.o.localStorage){var n=[];t.obj.find(t.o.widgets).each(function(){var t={};t.id=e(this).attr("id"),t.style=e(this).attr("data-widget-attstyle"),t.title=e(this).children("header").children("h2").text(),t.hidden=e(this).is(":hidden")?1:0,t.collapsed=e(this).hasClass("jarviswidget-collapsed")?1:0,n.push(t)});var i=JSON.stringify({widget:n});getKeySettings!=i&&localStorage.setItem(keySettings,i)}"function"==typeof t.o.onSave&&t.o.onSave.call(this,null,i)},_savePositionWidget:function(){var t=this;if(t._settings(),storage&&t.o.localStorage){var n=[];t.obj.find(t.o.grid+".sortable-grid").each(function(){var i=[];e(this).children(t.o.widgets).each(function(){var t={};t.id=e(this).attr("id"),i.push(t)});var a={section:i};n.push(a)});var i=JSON.stringify({grid:n});getKeyPosition!=i&&localStorage.setItem(keyPosition,i,null)}"function"==typeof t.o.onSave&&t.o.onSave.call(this,i)},init:function(){var t=this;if(t._settings(),e("#"+t.objId).length||alert("It looks like your using a class instead of an ID, dont do that!"),t.o.rtl===!0&&e("body").addClass("rtl"),e(t.o.grid).each(function(){e(this).find(t.o.widgets).length&&e(this).addClass("sortable-grid")}),storage&&t.o.localStorage&&getKeyPosition){var n=JSON.parse(getKeyPosition);for(var a in n.grid){var r=t.obj.find(t.o.grid+".sortable-grid").eq(a);for(var o in n.grid[a].section)r.append(e("#"+n.grid[a].section[o].id))}}if(storage&&t.o.localStorage&&getKeySettings){var s=JSON.parse(getKeySettings);for(var a in s.widget){var l=e("#"+s.widget[a].id);s.widget[a].style&&l.removeClassPrefix("jarviswidget-color-").addClass(s.widget[a].style).attr("data-widget-attstyle",""+s.widget[a].style),1==s.widget[a].hidden?l.hide(1):l.show(1).removeAttr("data-widget-hidden"),1==s.widget[a].collapsed&&l.addClass("jarviswidget-collapsed").children("div").hide(1),l.children("header").children("h2").text()!=s.widget[a].title&&l.children("header").children("h2").text(s.widget[a].title)}}if(t.widget.each(function(){var n=e(this),a=e(this).children("header");if(!a.parent().attr("role")){if(n.data("widget-hidden")===!0&&n.hide(),n.data("widget-collapsed")===!0&&n.addClass("jarviswidget-collapsed").children("div").hide(),t.o.customButton===!0&&n.data("widget-custombutton")===i&&0!=t.customClass[0].length)var r='<a href="javascript:void(0);" class="button-icon jarviswidget-custom-btn"><i class="'+t.customClass[0]+'"></i></a>';else r="";if(t.o.deleteButton===!0&&n.data("widget-deletebutton")===i)var o='<a href="javascript:void(0);" class="button-icon jarviswidget-delete-btn" rel="tooltip" title="Delete" data-placement="bottom"><i class="'+t.o.deleteClass+'"></i></a>';else o="";if(t.o.editButton===!0&&n.data("widget-editbutton")===i)var s='<a href="javascript:void(0);" class="button-icon jarviswidget-edit-btn" rel="tooltip" title="Edit Title" data-placement="bottom"><i class="'+t.editClass[0]+'"></i></a>';else s="";if(t.o.fullscreenButton===!0&&n.data("widget-fullscreenbutton")===i)var l='<a href="javascript:void(0);" class="button-icon jarviswidget-fullscreen-btn" rel="tooltip" title="Fullscreen" data-placement="bottom"><i class="'+t.fullscreenClass[0]+'"></i></a>';else l="";if(t.o.colorButton===!0&&n.data("widget-colorbutton")===i){var d='<a data-toggle="dropdown" class="dropdown-toggle color-box selector" href="javascript:void(0);"></a><ul class="dropdown-menu arrow-box-up-right color-select pull-right"><li><span class="bg-color-green" data-widget-setstyle="jarviswidget-color-green" rel="tooltip" data-placement="left" data-original-title="Green Grass"></span></li><li><span class="bg-color-greenDark" data-widget-setstyle="jarviswidget-color-greenDark" rel="tooltip" data-placement="top" data-original-title="Dark Green"></span></li><li><span class="bg-color-greenLight" data-widget-setstyle="jarviswidget-color-greenLight" rel="tooltip" data-placement="top" data-original-title="Light Green"></span></li><li><span class="bg-color-purple" data-widget-setstyle="jarviswidget-color-purple" rel="tooltip" data-placement="top" data-original-title="Purple"></span></li><li><span class="bg-color-magenta" data-widget-setstyle="jarviswidget-color-magenta" rel="tooltip" data-placement="top" data-original-title="Magenta"></span></li><li><span class="bg-color-pink" data-widget-setstyle="jarviswidget-color-pink" rel="tooltip" data-placement="right" data-original-title="Pink"></span></li><li><span class="bg-color-pinkDark" data-widget-setstyle="jarviswidget-color-pinkDark" rel="tooltip" data-placement="left" data-original-title="Fade Pink"></span></li><li><span class="bg-color-blueLight" data-widget-setstyle="jarviswidget-color-blueLight" rel="tooltip" data-placement="top" data-original-title="Light Blue"></span></li><li><span class="bg-color-teal" data-widget-setstyle="jarviswidget-color-teal" rel="tooltip" data-placement="top" data-original-title="Teal"></span></li><li><span class="bg-color-blue" data-widget-setstyle="jarviswidget-color-blue" rel="tooltip" data-placement="top" data-original-title="Ocean Blue"></span></li><li><span class="bg-color-blueDark" data-widget-setstyle="jarviswidget-color-blueDark" rel="tooltip" data-placement="top" data-original-title="Night Sky"></span></li><li><span class="bg-color-darken" data-widget-setstyle="jarviswidget-color-darken" rel="tooltip" data-placement="right" data-original-title="Night"></span></li><li><span class="bg-color-yellow" data-widget-setstyle="jarviswidget-color-yellow" rel="tooltip" data-placement="left" data-original-title="Day Light"></span></li><li><span class="bg-color-orange" data-widget-setstyle="jarviswidget-color-orange" rel="tooltip" data-placement="bottom" data-original-title="Orange"></span></li><li><span class="bg-color-orangeDark" data-widget-setstyle="jarviswidget-color-orangeDark" rel="tooltip" data-placement="bottom" data-original-title="Dark Orange"></span></li><li><span class="bg-color-red" data-widget-setstyle="jarviswidget-color-red" rel="tooltip" data-placement="bottom" data-original-title="Red Rose"></span></li><li><span class="bg-color-redLight" data-widget-setstyle="jarviswidget-color-redLight" rel="tooltip" data-placement="bottom" data-original-title="Light Red"></span></li><li><span class="bg-color-white" data-widget-setstyle="jarviswidget-color-white" rel="tooltip" data-placement="right" data-original-title="Purity"></span></li><li><a href="javascript:void(0);" class="jarviswidget-remove-colors" data-widget-setstyle="" rel="tooltip" data-placement="bottom" data-original-title="Reset widget color to default">Remove</a></li></ul>';a.prepend('<div class="widget-toolbar">'+d+"</div>")}else d="";if(t.o.toggleButton===!0&&n.data("widget-togglebutton")===i){if(n.data("widget-collapsed")===!0||n.hasClass("jarviswidget-collapsed"))var c=t.toggleClass[1];else c=t.toggleClass[0];var u='<a href="#" class="button-icon jarviswidget-toggle-btn" rel="tooltip" title="Collapse" data-placement="bottom"><i class="'+c+'"></i></a>'}else u="";if(t.o.refreshButton===!0&&0!=n.data("widget-refreshbutton")&&n.data("widget-load"))var h='<a href="#" class="button-icon jarviswidget-refresh-btn" data-loading-text="&nbsp;&nbsp;Loading...&nbsp;" rel="tooltip" title="Refresh" data-placement="bottom"><i class="'+t.o.refreshButtonClass+'"></i></a>';else h="";var p=t.o.buttonOrder.replace(/%refresh%/g,h).replace(/%delete%/g,o).replace(/%custom%/g,r).replace(/%fullscreen%/g,l).replace(/%edit%/g,s).replace(/%toggle%/g,u);(""!=h||""!=o||""!=r||""!=l||""!=s||""!=u)&&a.prepend('<div class="jarviswidget-ctrls">'+p+"</div>"),t.o.sortable===!0&&n.data("widget-sortable")===i&&n.addClass("jarviswidget-sortable"),n.find(t.o.editPlaceholder).length&&n.find(t.o.editPlaceholder).find("input").val(e.trim(a.children("h2").text())),a.append('<span class="jarviswidget-loader"><i class="fa fa-refresh fa-spin"></i></span>'),n.attr("role","widget").children("div").attr("role","content").prev("header").attr("role","heading").children("div").attr("role","menu")}}),t.o.buttonsHidden===!0&&e(t.o.pwCtrls).hide(),e(".jarviswidget header [rel=tooltip]").tooltip(),t.obj.find("[data-widget-load]").each(function(){{var n=e(this),i=n.children(),a=n.data("widget-load"),r=1e3*n.data("widget-refresh");n.children()}n.find(".jarviswidget-ajax-placeholder").length||(n.children("widget-body").append('<div class="jarviswidget-ajax-placeholder">'+t.o.loadingLabel+"</div>"),n.data("widget-refresh")>0?(t._loadAjaxFile(n,a,i),setInterval(function(){t._loadAjaxFile(n,a,i)},r)):t._loadAjaxFile(n,a,i))}),t.o.sortable===!0&&jQuery.ui){var d=t.obj.find(".sortable-grid").not("[data-widget-excludegrid]");d.sortable({items:d.find(".jarviswidget-sortable"),connectWith:d,placeholder:t.o.placeholderClass,cursor:"move",revert:!0,opacity:t.o.opacity,delay:200,cancel:".button-icon, #jarviswidget-fullscreen-mode > div",zIndex:1e4,handle:t.o.dragHandle,forcePlaceholderSize:!0,forceHelperSize:!0,update:function(e,n){t._runLoaderWidget(n.item.children()),t._savePositionWidget(),"function"==typeof t.o.onChange&&t.o.onChange.call(this,n.item)}})}t.o.buttonsHidden===!0&&t.widget.children("header").hover(function(){e(this).children(t.o.pwCtrls).stop(!0,!0).fadeTo(100,1)},function(){e(this).children(t.o.pwCtrls).stop(!0,!0).fadeTo(100,0)}),t._clickEvents(),e(t.o.deleteSettingsKey).on(clickEvent,this,function(e){if(storage&&t.o.localStorage){var n=confirm(t.o.settingsKeyLabel);n&&localStorage.removeItem(keySettings)}e.preventDefault()}),e(t.o.deletePositionKey).on(clickEvent,this,function(e){if(storage&&t.o.localStorage){var n=confirm(t.o.positionKeyLabel);n&&localStorage.removeItem(keyPosition)}e.preventDefault()}),storage&&t.o.localStorage&&((null===getKeySettings||getKeySettings.length<1)&&t._saveSettingsWidget(),(null===getKeyPosition||getKeyPosition.length<1)&&t._savePositionWidget())},_clickEvents:function(){function n(){if(e("#jarviswidget-fullscreen-mode").length){var n=e(t).height(),a=e("#jarviswidget-fullscreen-mode").find(i.o.widgets).children("header").height();e("#jarviswidget-fullscreen-mode").find(i.o.widgets).children("div").height(n-a-15)}}var i=this;i._settings(),i.widget.on(clickEvent,".jarviswidget-toggle-btn",function(t){var n=e(this),a=n.parents(i.o.widgets);i._runLoaderWidget(n),a.hasClass("jarviswidget-collapsed")?n.children().removeClass(i.toggleClass[1]).addClass(i.toggleClass[0]).parents(i.o.widgets).removeClass("jarviswidget-collapsed").children("[role=content]").slideDown(i.o.toggleSpeed,function(){i._saveSettingsWidget()}):n.children().removeClass(i.toggleClass[0]).addClass(i.toggleClass[1]).parents(i.o.widgets).addClass("jarviswidget-collapsed").children("[role=content]").slideUp(i.o.toggleSpeed,function(){i._saveSettingsWidget()}),"function"==typeof i.o.onToggle&&i.o.onToggle.call(this,a),t.preventDefault()}),i.widget.on(clickEvent,".jarviswidget-fullscreen-btn",function(t){var a=e(this).parents(i.o.widgets),r=a.children("div");i._runLoaderWidget(e(this)),e("#jarviswidget-fullscreen-mode").length?(e(".nooverflow").removeClass("nooverflow"),a.unwrap("<div>").children("div").removeAttr("style").end().find(".jarviswidget-fullscreen-btn").children().removeClass(i.fullscreenClass[1]).addClass(i.fullscreenClass[0]).parents(i.pwCtrls).children("a").show(),r.hasClass("jarviswidget-visible")&&r.hide().removeClass("jarviswidget-visible")):(e("body").addClass("nooverflow"),a.wrap('<div id="jarviswidget-fullscreen-mode"/>').parent().find(".jarviswidget-fullscreen-btn").children().removeClass(i.fullscreenClass[0]).addClass(i.fullscreenClass[1]).parents(i.pwCtrls).children("a:not(.jarviswidget-fullscreen-btn)").hide(),r.is(":hidden")&&r.show().addClass("jarviswidget-visible")),n(),"function"==typeof i.o.onFullscreen&&i.o.onFullscreen.call(this,a),t.preventDefault()}),e(t).resize(function(){n()}),i.widget.on(clickEvent,".jarviswidget-edit-btn",function(t){var n=e(this).parents(i.o.widgets);i._runLoaderWidget(e(this)),n.find(i.o.editPlaceholder).is(":visible")?e(this).children().removeClass(i.editClass[1]).addClass(i.editClass[0]).parents(i.o.widgets).find(i.o.editPlaceholder).slideUp(i.o.editSpeed,function(){i._saveSettingsWidget()}):e(this).children().removeClass(i.editClass[0]).addClass(i.editClass[1]).parents(i.o.widgets).find(i.o.editPlaceholder).slideDown(i.o.editSpeed),"function"==typeof i.o.onEdit&&i.o.onEdit.call(this,n),t.preventDefault()}),e(i.o.editPlaceholder).find("input").keyup(function(){e(this).parents(i.o.widgets).children("header").children("h2").text(e(this).val())}),i.widget.on(clickEvent,"[data-widget-setstyle]",function(t){var n=e(this).data("widget-setstyle"),a="";e(this).parents(i.o.editPlaceholder).find("[data-widget-setstyle]").each(function(){a+=e(this).data("widget-setstyle")+" "}),e(this).parents(i.o.widgets).attr("data-widget-attstyle",""+n).removeClassPrefix("jarviswidget-color-").addClass(n),i._runLoaderWidget(e(this)),i._saveSettingsWidget(),t.preventDefault()}),i.widget.on(clickEvent,".jarviswidget-custom-btn",function(t){var n=e(this).parents(i.o.widgets);i._runLoaderWidget(e(this)),e(this).children("."+i.customClass[0]).length?(e(this).children().removeClass(i.customClass[0]).addClass(i.customClass[1]),"function"==typeof i.o.customStart&&i.o.customStart.call(this,n)):(e(this).children().removeClass(i.customClass[1]).addClass(i.customClass[0]),"function"==typeof i.o.customEnd&&i.o.customEnd.call(this,n)),i._saveSettingsWidget(),t.preventDefault()}),i.widget.on(clickEvent,".jarviswidget-delete-btn",function(t){var n=e(this).parents(i.o.widgets),a=n.attr("id"),r=n.children("header").children("h2").text();e.SmartMessageBox({title:"<i class='fa fa-times' style='color:#ed1c24'></i> "+i.o.labelDelete+' "'+r+'"',content:"Warning: This action cannot be undone",buttons:"[No][Yes]"},function(t){"Yes"==t&&(i._runLoaderWidget(e(this)),e("#"+a).fadeOut(i.o.deleteSpeed,function(){e(this).remove(),"function"==typeof i.o.onDelete&&i.o.onDelete.call(this,n)}))}),t.preventDefault()}),i.widget.on(clickEvent,".jarviswidget-refresh-btn",function(t){var n=e(this).parents(i.o.widgets),a=n.data("widget-load"),r=n.children(),o=e(this);o.button("loading"),r.addClass("widget-body-ajax-loading"),setTimeout(function(){o.button("reset"),r.removeClass("widget-body-ajax-loading"),i._loadAjaxFile(n,a,r)},1e3),t.preventDefault()})},destroy:function(){var e=this;e.widget.off("click",e._clickEvents()),e.obj.removeData(r)}},e.fn[r]=function(t){return this.each(function(){var n=e(this),i=n.data(r),o="object"==typeof t&&t;i||n.data(r,i=new a(this,o)),"string"==typeof t&&i[t]()})},e.fn[r].defaults={grid:"section",widgets:".jarviswidget",localStorage:!0,deleteSettingsKey:"",settingsKeyLabel:"Reset settings?",deletePositionKey:"",positionKeyLabel:"Reset position?",sortable:!0,buttonsHidden:!1,toggleButton:!0,toggleClass:"min-10 | plus-10",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteClass:"trashcan-10",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"pencil-10 | delete-10",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fullscreen-10 | normalscreen-10",fullscreenDiff:3,onFullscreen:function(){},customButton:!0,customClass:"",customStart:function(){},customEnd:function(){},buttonOrder:"%refresh% %delete% %custom% %edit% %fullscreen% %toggle%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,loadingLabel:"loading...",timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"refresh-10",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:!0},e.fn.removeClassPrefix=function(t){return this.each(function(n,i){var a=i.className.split(" ").map(function(e){return 0===e.indexOf(t)?"":e});i.className=e.trim(a.join(" "))}),this}}(jQuery,window,document),function(e){return e.easyPieChart=function(t,n){var i,a,r,o,s,l,d,c,u=this;return this.el=t,this.$el=e(t),this.$el.data("easyPieChart",this),this.init=function(){var t,i;return u.options=e.extend({},e.easyPieChart.defaultOptions,n),t=parseInt(u.$el.data("percent"),10),u.percentage=0,u.canvas=e("<canvas width='"+u.options.size+"' height='"+u.options.size+"'></canvas>").get(0),u.$el.append(u.canvas),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(u.canvas),u.ctx=u.canvas.getContext("2d"),window.devicePixelRatio>1&&(i=window.devicePixelRatio,e(u.canvas).css({width:u.options.size,height:u.options.size}),u.canvas.width*=i,u.canvas.height*=i,u.ctx.scale(i,i)),u.ctx.translate(u.options.size/2,u.options.size/2),u.ctx.rotate(u.options.rotate*Math.PI/180),u.$el.addClass("easyPieChart"),u.$el.css({width:u.options.size,height:u.options.size,lineHeight:""+u.options.size+"px"}),u.update(t),u},this.update=function(e){return e=parseFloat(e)||0,u.options.animate===!1?r(e):a(u.percentage,e),u},d=function(){var e,t,n;for(u.ctx.fillStyle=u.options.scaleColor,u.ctx.lineWidth=1,n=[],e=t=0;24>=t;e=++t)n.push(i(e));return n},i=function(e){var t;t=e%6===0?0:.017*u.options.size,u.ctx.save(),u.ctx.rotate(e*Math.PI/12),u.ctx.fillRect(u.options.size/2-t,0,.05*-u.options.size+t,1),u.ctx.restore()},c=function(){var e;e=u.options.size/2-u.options.lineWidth/2,u.options.scaleColor!==!1&&(e-=.08*u.options.size),u.ctx.beginPath(),u.ctx.arc(0,0,e,0,2*Math.PI,!0),u.ctx.closePath(),u.ctx.strokeStyle=u.options.trackColor,u.ctx.lineWidth=u.options.lineWidth,u.ctx.stroke()
},l=function(){u.options.scaleColor!==!1&&d(),u.options.trackColor!==!1&&c()},r=function(t){var n;l(),u.ctx.strokeStyle=e.isFunction(u.options.barColor)?u.options.barColor(t):u.options.barColor,u.ctx.lineCap=u.options.lineCap,u.ctx.lineWidth=u.options.lineWidth,n=u.options.size/2-u.options.lineWidth/2,u.options.scaleColor!==!1&&(n-=.08*u.options.size),u.ctx.save(),u.ctx.rotate(-Math.PI/2),u.ctx.beginPath(),u.ctx.arc(0,0,n,0,2*Math.PI*t/100,!1),u.ctx.stroke(),u.ctx.restore()},s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),a=function(e,t){var n,i;u.options.onStart.call(u),u.percentage=t,i=Date.now(),n=function(){var a,d;return d=Date.now()-i,d<u.options.animate&&s(n),u.ctx.clearRect(-u.options.size/2,-u.options.size/2,u.options.size,u.options.size),l.call(u),a=[o(d,e,t-e,u.options.animate)],u.options.onStep.call(u,a),r.call(u,a),d>=u.options.animate?u.options.onStop.call(u):void 0},s(n)},o=function(e,t,n,i){var a,r;return a=function(e){return Math.pow(e,2)},r=function(e){return 1>e?a(e):2-a(e/2*-2+2)},e/=i/2,n/2*r(e)+t},this.init()},e.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",rotate:0,size:110,lineWidth:3,animate:!1,onStart:e.noop,onStop:e.noop,onStep:e.noop},void(e.fn.easyPieChart=function(t){return e.each(this,function(n,i){var a,r;return a=e(i),a.data("easyPieChart")?void 0:(r=e.extend({},t,a.data()),a.data("easyPieChart",new e.easyPieChart(i,r)))})})}(jQuery),function(e){function t(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}var n,i=t()+".mask",a=navigator.userAgent,r=/iphone/i.test(a),o=/android/i.test(a);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,a){var s,l,d,c,u,h;return!t&&this.length>0?(s=e(this[0]),s.data(e.mask.dataName)()):(a=e.extend({placeholder:e.mask.placeholder,completed:null},a),l=e.mask.definitions,d=[],c=h=t.length,u=null,e.each(t.split(""),function(e,t){"?"==t?(h--,c=e):l[t]?(d.push(RegExp(l[t])),null===u&&(u=d.length-1)):d.push(null)}),this.trigger("unmask").each(function(){function s(e){for(;h>++e&&!d[e];);return e}function p(e){for(;--e>=0&&!d[e];);return e}function f(e,t){var n,i;if(!(0>e)){for(n=e,i=s(t);h>n;n++)if(d[n]){if(!(h>i&&d[n].test(w[i])))break;w[n]=w[i],w[i]=a.placeholder,i=s(i)}_(),k.caret(Math.max(u,e))}}function g(e){var t,n,i,r;for(t=e,n=a.placeholder;h>t;t++)if(d[t]){if(i=s(t),r=w[t],w[t]=n,!(h>i&&d[i].test(r)))break;n=r}}function m(e){var t,n,i,a=e.which;8===a||46===a||r&&127===a?(t=k.caret(),n=t.begin,i=t.end,0===i-n&&(n=46!==a?p(n):i=s(n-1),i=46===a?s(i):i),b(n,i),f(n,i-1),e.preventDefault()):27==a&&(k.val(x),k.caret(0,y()),e.preventDefault())}function v(t){var n,i,r,l=t.which,c=k.caret();t.ctrlKey||t.altKey||t.metaKey||32>l||l&&(0!==c.end-c.begin&&(b(c.begin,c.end),f(c.begin,c.end-1)),n=s(c.begin-1),h>n&&(i=String.fromCharCode(l),d[n].test(i)&&(g(n),w[n]=i,_(),r=s(n),o?setTimeout(e.proxy(e.fn.caret,k,r),0):k.caret(r),a.completed&&r>=h&&a.completed.call(k))),t.preventDefault())}function b(e,t){var n;for(n=e;t>n&&h>n;n++)d[n]&&(w[n]=a.placeholder)}function _(){k.val(w.join(""))}function y(e){var t,n,i=k.val(),r=-1;for(t=0,pos=0;h>t;t++)if(d[t]){for(w[t]=a.placeholder;pos++<i.length;)if(n=i.charAt(pos-1),d[t].test(n)){w[t]=n,r=t;break}if(pos>i.length)break}else w[t]===i.charAt(pos)&&t!==c&&(pos++,r=t);return e?_():c>r+1?(k.val(""),b(0,h)):(_(),k.val(k.val().substring(0,r+1))),c?t:u}var k=e(this),w=e.map(t.split(""),function(e){return"?"!=e?l[e]?a.placeholder:e:void 0}),x=k.val();k.data(e.mask.dataName,function(){return e.map(w,function(e,t){return d[t]&&e!=a.placeholder?e:null}).join("")}),k.attr("readonly")||k.one("unmask",function(){k.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(n);var e;x=k.val(),e=y(),n=setTimeout(function(){_(),e==t.length?k.caret(0,e):k.caret(e)},10)}).bind("blur.mask",function(){y(),k.val()!=x&&k.change()}).bind("keydown.mask",m).bind("keypress.mask",v).bind(i,function(){setTimeout(function(){var e=y(!0);k.caret(e),a.completed&&e==k.val().length&&a.completed.call(k)},0)}),y()}))}})}(jQuery),function(){if(!jQuery.browser){jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.msie=!1;var e=navigator.userAgent;jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var t,n;-1!=(n=e.indexOf("Opera"))?(jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=e.substring(n+6),-1!=(n=e.indexOf("Version"))&&(jQuery.browser.fullVersion=e.substring(n+8))):-1!=(n=e.indexOf("MSIE"))?(jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=e.substring(n+5)):-1!=(n=e.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=e.substring(n+7)):-1!=(n=e.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=e.substring(n+7),-1!=(n=e.indexOf("Version"))&&(jQuery.browser.fullVersion=e.substring(n+8))):-1!=(n=e.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=e.substring(n+8)):(t=e.lastIndexOf(" ")+1)<(n=e.lastIndexOf("/"))&&(jQuery.browser.name=e.substring(t,n),jQuery.browser.fullVersion=e.substring(n+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName)),-1!=(e=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,e)),-1!=(e=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,e)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";var t,n,i,a,r,o,s,l,d,c,u,h,p,f,g,m,v,b,_,y,k,w,x,C,T,S,D,E,F,A,M,H,z={},I=0;t=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:void 0,normalRangeMax:void 0,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:void 0,chartRangeMax:void 0,chartRangeMinX:void 0,chartRangeMaxX:void 0,tooltipFormat:new i('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:void 0,nullColor:void 0,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,colorMap:void 0,tooltipFormat:new i('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new i('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:void 0,thresholdValue:0,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,tooltipFormat:new i("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:void 0,tooltipFormat:new i("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new i('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:void 0,targetColor:"#4a2",chartRangeMax:void 0,chartRangeMin:void 0,tooltipFormat:new i("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},S='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',n=function(){var t,n;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=e.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&(n=Array.prototype.slice.call(arguments,1,-1),n.unshift(t.prototype),e.extend.apply(e,n))):t.prototype=arguments[0],t.prototype.cls=t,t},e.SPFormatClass=i=n({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(e,t){this.format=e,this.fclass=t},render:function(e,t,n){var i,a,r,o,s,l=this,c=e;return this.format.replace(this.fre,function(){var e;return a=arguments[1],r=arguments[3],i=l.precre.exec(a),i?(s=i[2],a=i[1]):s=!1,o=c[a],void 0===o?"":r&&t&&t[r]?(e=t[r],e.get?t[r].get(o)||o:t[r][o]||o):(d(o)&&(o=n.get("numberFormatter")?n.get("numberFormatter")(o):f(o,s,n.get("numberDigitGroupCount"),n.get("numberDigitGroupSep"),n.get("numberDecimalMark"))),o)})}}),e.spformat=function(e,t){return new i(e,t)},a=function(e,t,n){return t>e?t:e>n?n:e},r=function(e,t){var n;return 2===t?(n=Math.floor(e.length/2),e.length%2?e[n]:(e[n-1]+e[n])/2):e.length%2?(n=(e.length*t+t)/4,n%1?(e[Math.floor(n)]+e[Math.floor(n)-1])/2:e[n-1]):(n=(e.length*t+2)/4,n%1?(e[Math.floor(n)]+e[Math.floor(n)-1])/2:e[n-1])},o=function(e){var t;switch(e){case"undefined":e=void 0;break;case"null":e=null;break;case"true":e=!0;break;case"false":e=!1;break;default:t=parseFloat(e),e==t&&(e=t)}return e},s=function(e){var t,n=[];for(t=e.length;t--;)n[t]=o(e[t]);return n},l=function(e,t){var n,i,a=[];for(n=0,i=e.length;i>n;n++)e[n]!==t&&a.push(e[n]);return a},d=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},f=function(t,n,i,a,r){var o,s;for(t=(n===!1?parseFloat(t).toString():t.toFixed(n)).split(""),o=(o=e.inArray(".",t))<0?t.length:o,o<t.length&&(t[o]=r),s=o-i;s>0;s-=i)t.splice(s,0,a);return t.join("")},c=function(e,t,n){var i;for(i=t.length;i--;)if((!n||null!==t[i])&&t[i]!==e)return!1;return!0},u=function(e){var t,n=0;for(t=e.length;t--;)n+="number"==typeof e[t]?e[t]:0;return n},p=function(t){return e.isArray(t)?t:[t]},h=function(e){var t;document.createStyleSheet?document.createStyleSheet().cssText=e:(t=document.createElement("style"),t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t),t["string"==typeof document.body.style.WebkitAppearance?"innerText":"innerHTML"]=e)},e.fn.simpledraw=function(t,n,i,a){var r,o;if(i&&(r=this.data("_jqs_vcanvas")))return r;if(void 0===t&&(t=e(this).innerWidth()),void 0===n&&(n=e(this).innerHeight()),e.fn.sparkline.hasCanvas)r=new A(t,n,this,a);else{if(!e.fn.sparkline.hasVML)return!1;r=new M(t,n,this)}return o=e(this).data("_jqs_mhandler"),o&&o.registerCanvas(r),r},e.fn.cleardraw=function(){var e=this.data("_jqs_vcanvas");e&&e.reset()},e.RangeMapClass=g=n({init:function(e){var t,n,i=[];for(t in e)e.hasOwnProperty(t)&&"string"==typeof t&&t.indexOf(":")>-1&&(n=t.split(":"),n[0]=0===n[0].length?-1/0:parseFloat(n[0]),n[1]=0===n[1].length?1/0:parseFloat(n[1]),n[2]=e[t],i.push(n));this.map=e,this.rangelist=i||!1},get:function(e){var t,n,i,a=this.rangelist;if(void 0!==(i=this.map[e]))return i;if(a)for(t=a.length;t--;)if(n=a[t],n[0]<=e&&n[1]>=e)return n[2];return void 0}}),e.range_map=function(e){return new g(e)},m=n({init:function(t,n){var i=e(t);this.$el=i,this.options=n,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!n.get("disableTooltips"),this.highlightEnabled=!n.get("disableHighlight")},registerSparkline:function(e){this.splist.push(e),this.over&&this.updateDisplay()},registerCanvas:function(t){var n=e(t.canvas);this.canvas=t,this.$canvas=n,n.mouseenter(e.proxy(this.mouseenter,this)),n.mouseleave(e.proxy(this.mouseleave,this)),n.click(e.proxy(this.mouseclick,this))},reset:function(e){this.splist=[],this.tooltip&&e&&(this.tooltip.remove(),this.tooltip=void 0)},mouseclick:function(t){var n=e.Event("sparklineClick");n.originalEvent=t,n.sparklines=this.splist,this.$el.trigger(n)},mouseenter:function(t){e(document.body).unbind("mousemove.jqs"),e(document.body).bind("mousemove.jqs",e.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new v(this.options),this.tooltip.updatePosition(t.pageX,t.pageY)),this.updateDisplay()},mouseleave:function(){e(document.body).unbind("mousemove.jqs");var t,n,i=this.splist,a=i.length,r=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),n=0;a>n;n++)t=i[n],t.clearRegionHighlight()&&(r=!0);r&&this.canvas.render()},mousemove:function(e){this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,this.tooltip&&this.tooltip.updatePosition(e.pageX,e.pageY),this.updateDisplay()},updateDisplay:function(){var t,n,i,a,r,o=this.splist,s=o.length,l=!1,d=this.$canvas.offset(),c=this.currentPageX-d.left,u=this.currentPageY-d.top;if(this.over){for(i=0;s>i;i++)n=o[i],a=n.setRegionHighlight(this.currentEl,c,u),a&&(l=!0);if(l){if(r=e.Event("sparklineRegionChange"),r.sparklines=this.splist,this.$el.trigger(r),this.tooltip){for(t="",i=0;s>i;i++)n=o[i],t+=n.getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===a&&this.mouseleave()}}}),v=n({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var n,i=t.get("tooltipClassname","jqstooltip"),a=this.sizeStyle;this.container=t.get("tooltipContainer")||document.body,this.tooltipOffsetX=t.get("tooltipOffsetX",10),this.tooltipOffsetY=t.get("tooltipOffsetY",12),e("#jqssizetip").remove(),e("#jqstooltip").remove(),this.sizetip=e("<div/>",{id:"jqssizetip",style:a,"class":i}),this.tooltip=e("<div/>",{id:"jqstooltip","class":i}).appendTo(this.container),n=this.tooltip.offset(),this.offsetLeft=n.left,this.offsetTop=n.top,this.hidden=!0,e(window).unbind("resize.jqs scroll.jqs"),e(window).bind("resize.jqs scroll.jqs",e.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=e(window).scrollTop(),this.scrollLeft=e(window).scrollLeft(),this.scrollRight=this.scrollLeft+e(window).width(),this.updatePosition()},getSize:function(e){this.sizetip.html(e).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(e){return e?(this.getSize(e),this.tooltip.html(e).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition()),void 0):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(e,t){if(void 0===e){if(void 0===this.mousex)return;e=this.mousex-this.offsetLeft,t=this.mousey-this.offsetTop}else this.mousex=e-=this.offsetLeft,this.mousey=t-=this.offsetTop;this.height&&this.width&&!this.hidden&&(t-=this.height+this.tooltipOffsetY,e+=this.tooltipOffsetX,t<this.scrollTop&&(t=this.scrollTop),e<this.scrollLeft?e=this.scrollLeft:e+this.width>this.scrollRight&&(e=this.scrollRight-this.width),this.tooltip.css({left:e,top:t}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=void 0,e(window).unbind("resize.jqs scroll.jqs")}}),D=function(){h(S)},e(D),H=[],e.fn.sparkline=function(t,n){return this.each(function(){var i,a,r=new e.fn.sparkline.options(this,n),o=e(this);if(i=function(){var n,i,a,s,l,d,c;return"html"===t||void 0===t?(c=this.getAttribute(r.get("tagValuesAttribute")),(void 0===c||null===c)&&(c=o.html()),n=c.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):n=t,i="auto"===r.get("width")?n.length*r.get("defaultPixelsPerValue"):r.get("width"),"auto"===r.get("height")?r.get("composite")&&e.data(this,"_jqs_vcanvas")||(s=document.createElement("span"),s.innerHTML="a",o.html(s),a=e(s).innerHeight()||e(s).height(),e(s).remove(),s=null):a=r.get("height"),r.get("disableInteraction")?l=!1:(l=e.data(this,"_jqs_mhandler"),l?r.get("composite")||l.reset():(l=new m(this,r),e.data(this,"_jqs_mhandler",l))),r.get("composite")&&!e.data(this,"_jqs_vcanvas")?void(e.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),e.data(this,"_jqs_errnotify",!0))):(d=new(e.fn.sparkline[r.get("type")])(this,n,r,i,a),d.render(),l&&l.registerSparkline(d),void 0)},e(this).html()&&!r.get("disableHiddenCheck")&&e(this).is(":hidden")||e.fn.jquery<"1.3.0"&&e(this).parents().is(":hidden")||!e(this).parents("body").length){if(!r.get("composite")&&e.data(this,"_jqs_pending"))for(a=H.length;a;a--)H[a-1][0]==this&&H.splice(a-1,1);H.push([this,i]),e.data(this,"_jqs_pending",!0)}else i.call(this)})},e.fn.sparkline.defaults=t(),e.sparkline_display_visible=function(){var t,n,i,a=[];for(n=0,i=H.length;i>n;n++)t=H[n][0],e(t).is(":visible")&&!e(t).parents().is(":hidden")?(H[n][1].call(t),e.data(H[n][0],"_jqs_pending",!1),a.push(n)):!e(t).closest("html").length&&!e.data(t,"_jqs_pending")&&(e.data(H[n][0],"_jqs_pending",!1),a.push(n));for(n=a.length;n;n--)H.splice(a[n-1],1)},e.fn.sparkline.options=n({init:function(t,n){var i,a,r,o;this.userOptions=n=n||{},this.tag=t,this.tagValCache={},a=e.fn.sparkline.defaults,r=a.common,this.tagOptionsPrefix=n.enableTagOptions&&(n.tagOptionsPrefix||r.tagOptionsPrefix),o=this.getTagSetting("type"),i=o===z?a[n.type||r.type]:a[o],this.mergedOptions=e.extend({},r,i,n)},getTagSetting:function(e){var t,n,i,a,r=this.tagOptionsPrefix;if(r===!1||void 0===r)return z;if(this.tagValCache.hasOwnProperty(e))t=this.tagValCache.key;else{if(t=this.tag.getAttribute(r+e),void 0===t||null===t)t=z;else if("["===t.substr(0,1))for(t=t.substr(1,t.length-2).split(","),n=t.length;n--;)t[n]=o(t[n].replace(/(^\s*)|(\s*$)/g,""));else if("{"===t.substr(0,1))for(i=t.substr(1,t.length-2).split(","),t={},n=i.length;n--;)a=i[n].split(":",2),t[a[0].replace(/(^\s*)|(\s*$)/g,"")]=o(a[1].replace(/(^\s*)|(\s*$)/g,""));else t=o(t);this.tagValCache.key=t}return t},get:function(e,t){var n,i=this.getTagSetting(e);return i!==z?i:void 0===(n=this.mergedOptions[e])?t:n}}),e.fn.sparkline._base=n({disabled:!1,init:function(t,n,i,a,r){this.el=t,this.$el=e(t),this.values=n,this.options=i,this.width=a,this.height=r,this.currentRegion=void 0},initTarget:function(){var e=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),e))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(){},setRegionHighlight:function(e,t,n){var i,a=this.currentRegion,r=!this.options.get("disableHighlight");return t>this.canvasWidth||n>this.canvasHeight||0>t||0>n?null:(i=this.getRegion(e,t,n),a!==i?(void 0!==a&&r&&this.removeHighlight(),this.currentRegion=i,void 0!==i&&r&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return void 0!==this.currentRegion?(this.removeHighlight(),this.currentRegion=void 0,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var t,n,a,r,o,s,l,d,c,u,h,p,f,g,m=this.options,v="",b=[];if(void 0===this.currentRegion)return"";if(t=this.getCurrentRegionFields(),h=m.get("tooltipFormatter"))return h(this,m,t);if(m.get("tooltipChartTitle")&&(v+='<div class="jqs jqstitle">'+m.get("tooltipChartTitle")+"</div>\n"),n=this.options.get("tooltipFormat"),!n)return"";if(e.isArray(n)||(n=[n]),e.isArray(t)||(t=[t]),l=this.options.get("tooltipFormatFieldlist"),d=this.options.get("tooltipFormatFieldlistKey"),l&&d){for(c=[],s=t.length;s--;)u=t[s][d],-1!=(g=e.inArray(u,l))&&(c[g]=t[s]);t=c}for(a=n.length,f=t.length,s=0;a>s;s++)for(p=n[s],"string"==typeof p&&(p=new i(p)),r=p.fclass||"jqsfield",g=0;f>g;g++)t[g].isNull&&m.get("tooltipSkipNull")||(e.extend(t[g],{prefix:m.get("tooltipPrefix"),suffix:m.get("tooltipSuffix")}),o=p.render(t[g],m.get("tooltipValueLookups"),m),b.push('<div class="'+r+'">'+o+"</div>"));return b.length?v+b.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(e,t){var n,i,r,o,s=t.get("highlightColor"),l=t.get("highlightLighten");if(s)return s;if(l&&(n=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e))){for(r=[],i=4===e.length?16:1,o=0;3>o;o++)r[o]=a(Math.round(parseInt(n[o+1],16)*i*l),0,255);return"rgb("+r.join(",")+")"}return e}}),b={changeHighlight:function(t){var n,i=this.currentRegion,a=this.target,r=this.regionShapes[i];r&&(n=this.renderRegion(i,t),e.isArray(n)||e.isArray(r)?(a.replaceWithShapes(r,n),this.regionShapes[i]=e.map(n,function(e){return e.id})):(a.replaceWithShape(r,n),this.regionShapes[i]=n.id))},render:function(){var t,n,i,a,r=this.values,o=this.target,s=this.regionShapes;if(this.cls._super.render.call(this)){for(i=r.length;i--;)if(t=this.renderRegion(i))if(e.isArray(t)){for(n=[],a=t.length;a--;)t[a].append(),n.push(t[a].id);s[i]=n}else t.append(),s[i]=t.id;else s[i]=null;o.render()}}},e.fn.sparkline.line=_=n(e.fn.sparkline._base,{type:"line",init:function(e,t,n,i,a){_._super.init.call(this,e,t,n,i,a),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(e,t){var n,i=this.regionMap;for(n=i.length;n--;)if(null!==i[n]&&t>=i[n][0]&&t<=i[n][1])return i[n][2];return void 0},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:null===this.yvalues[e],x:this.xvalues[e],y:this.yvalues[e],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:e}},renderHighlight:function(){var e,t,n=this.currentRegion,i=this.target,a=this.vertices[n],r=this.options,o=r.get("spotRadius"),s=r.get("highlightSpotColor"),l=r.get("highlightLineColor");a&&(o&&s&&(e=i.drawCircle(a[0],a[1],o,void 0,s),this.highlightSpotId=e.id,i.insertAfterShape(this.lastShapeId,e)),l&&(t=i.drawLine(a[0],this.canvasTop,a[0],this.canvasTop+this.canvasHeight,l),this.highlightLineId=t.id,i.insertAfterShape(this.lastShapeId,t)))},removeHighlight:function(){var e=this.target;this.highlightSpotId&&(e.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(e.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var e,t,n,i,a,r=this.values,o=r.length,s=this.xvalues,l=this.yvalues,d=this.yminmax;for(e=0;o>e;e++)t=r[e],n="string"==typeof r[e],i="object"==typeof r[e]&&r[e]instanceof Array,a=n&&r[e].split(":"),n&&2===a.length?(s.push(Number(a[0])),l.push(Number(a[1])),d.push(Number(a[1]))):i?(s.push(t[0]),l.push(t[1]),d.push(t[1])):(s.push(e),null===r[e]||"null"===r[e]?l.push(null):(l.push(Number(t)),d.push(Number(t))));this.options.get("xvalues")&&(s=this.options.get("xvalues")),this.maxy=this.maxyorg=Math.max.apply(Math,d),this.miny=this.minyorg=Math.min.apply(Math,d),this.maxx=Math.max.apply(Math,s),this.minx=Math.min.apply(Math,s),this.xvalues=s,this.yvalues=l,this.yminmax=d},processRangeOptions:function(){var e=this.options,t=e.get("normalRangeMin"),n=e.get("normalRangeMax");void 0!==t&&(t<this.miny&&(this.miny=t),n>this.maxy&&(this.maxy=n)),void 0!==e.get("chartRangeMin")&&(e.get("chartRangeClip")||e.get("chartRangeMin")<this.miny)&&(this.miny=e.get("chartRangeMin")),void 0!==e.get("chartRangeMax")&&(e.get("chartRangeClip")||e.get("chartRangeMax")>this.maxy)&&(this.maxy=e.get("chartRangeMax")),void 0!==e.get("chartRangeMinX")&&(e.get("chartRangeClipX")||e.get("chartRangeMinX")<this.minx)&&(this.minx=e.get("chartRangeMinX")),void 0!==e.get("chartRangeMaxX")&&(e.get("chartRangeClipX")||e.get("chartRangeMaxX")>this.maxx)&&(this.maxx=e.get("chartRangeMaxX"))},drawNormalRange:function(e,t,n,i,a){var r=this.options.get("normalRangeMin"),o=this.options.get("normalRangeMax"),s=t+Math.round(n-n*((o-this.miny)/a)),l=Math.round(n*(o-r)/a);this.target.drawRect(e,s,i,l,void 0,this.options.get("normalRangeColor")).append()},render:function(){var t,n,i,a,r,o,s,l,d,c,u,h,p,f,m,v,b,y,k,w,x,C,T,S,D,E=this.options,F=this.target,A=this.canvasWidth,M=this.canvasHeight,H=this.vertices,z=E.get("spotRadius"),I=this.regionMap;if(_._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),T=this.xvalues,S=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(a=r=0,t=this.maxx-this.minx===0?1:this.maxx-this.minx,n=this.maxy-this.miny===0?1:this.maxy-this.miny,i=this.yvalues.length-1,z&&(4*z>A||4*z>M)&&(z=0),z&&(x=E.get("highlightSpotColor")&&!E.get("disableInteraction"),(x||E.get("minSpotColor")||E.get("spotColor")&&S[i]===this.miny)&&(M-=Math.ceil(z)),(x||E.get("maxSpotColor")||E.get("spotColor")&&S[i]===this.maxy)&&(M-=Math.ceil(z),a+=Math.ceil(z)),(x||(E.get("minSpotColor")||E.get("maxSpotColor"))&&(S[0]===this.miny||S[0]===this.maxy))&&(r+=Math.ceil(z),A-=Math.ceil(z)),(x||E.get("spotColor")||E.get("minSpotColor")||E.get("maxSpotColor")&&(S[i]===this.miny||S[i]===this.maxy))&&(A-=Math.ceil(z))),M--,void 0!==E.get("normalRangeMin")&&!E.get("drawNormalOnTop")&&this.drawNormalRange(r,a,M,A,n),s=[],l=[s],f=m=null,v=S.length,D=0;v>D;D++)d=T[D],u=T[D+1],c=S[D],h=r+Math.round((d-this.minx)*(A/t)),p=v-1>D?r+Math.round((u-this.minx)*(A/t)):A,m=h+(p-h)/2,I[D]=[f||0,m,D],f=m,null===c?D&&(null!==S[D-1]&&(s=[],l.push(s)),H.push(null)):(c<this.miny&&(c=this.miny),c>this.maxy&&(c=this.maxy),s.length||s.push([h,a+M]),o=[h,a+Math.round(M-M*((c-this.miny)/n))],s.push(o),H.push(o));for(b=[],y=[],k=l.length,D=0;k>D;D++)s=l[D],s.length&&(E.get("fillColor")&&(s.push([s[s.length-1][0],a+M]),y.push(s.slice(0)),s.pop()),s.length>2&&(s[0]=[s[0][0],s[1][1]]),b.push(s));for(k=y.length,D=0;k>D;D++)F.drawShape(y[D],E.get("fillColor"),E.get("fillColor")).append();for(void 0!==E.get("normalRangeMin")&&E.get("drawNormalOnTop")&&this.drawNormalRange(r,a,M,A,n),k=b.length,D=0;k>D;D++)F.drawShape(b[D],E.get("lineColor"),void 0,E.get("lineWidth")).append();if(z&&E.get("valueSpots"))for(w=E.get("valueSpots"),void 0===w.get&&(w=new g(w)),D=0;v>D;D++)C=w.get(S[D]),C&&F.drawCircle(r+Math.round((T[D]-this.minx)*(A/t)),a+Math.round(M-M*((S[D]-this.miny)/n)),z,void 0,C).append();z&&E.get("spotColor")&&null!==S[i]&&F.drawCircle(r+Math.round((T[T.length-1]-this.minx)*(A/t)),a+Math.round(M-M*((S[i]-this.miny)/n)),z,void 0,E.get("spotColor")).append(),this.maxy!==this.minyorg&&(z&&E.get("minSpotColor")&&(d=T[e.inArray(this.minyorg,S)],F.drawCircle(r+Math.round((d-this.minx)*(A/t)),a+Math.round(M-M*((this.minyorg-this.miny)/n)),z,void 0,E.get("minSpotColor")).append()),z&&E.get("maxSpotColor")&&(d=T[e.inArray(this.maxyorg,S)],F.drawCircle(r+Math.round((d-this.minx)*(A/t)),a+Math.round(M-M*((this.maxyorg-this.miny)/n)),z,void 0,E.get("maxSpotColor")).append())),this.lastShapeId=F.getLastShapeId(),this.canvasTop=a,F.render()}}}),e.fn.sparkline.bar=y=n(e.fn.sparkline._base,b,{type:"bar",init:function(t,n,i,r,d){var c,u,h,p,f,m,v,b,_,k,w,x,C,T,S,D,E,F,A,M,H,z,I=parseInt(i.get("barWidth"),10),R=parseInt(i.get("barSpacing"),10),N=i.get("chartRangeMin"),P=i.get("chartRangeMax"),O=i.get("chartRangeClip"),L=1/0,B=-1/0;for(y._super.init.call(this,t,n,i,r,d),m=0,v=n.length;v>m;m++)M=n[m],c="string"==typeof M&&M.indexOf(":")>-1,(c||e.isArray(M))&&(S=!0,c&&(M=n[m]=s(M.split(":"))),M=l(M,null),u=Math.min.apply(Math,M),h=Math.max.apply(Math,M),L>u&&(L=u),h>B&&(B=h));this.stacked=S,this.regionShapes={},this.barWidth=I,this.barSpacing=R,this.totalBarWidth=I+R,this.width=r=n.length*I+(n.length-1)*R,this.initTarget(),O&&(C=void 0===N?-1/0:N,T=void 0===P?1/0:P),f=[],p=S?[]:f;var j=[],W=[];for(m=0,v=n.length;v>m;m++)if(S)for(D=n[m],n[m]=A=[],j[m]=0,p[m]=W[m]=0,E=0,F=D.length;F>E;E++)M=A[E]=O?a(D[E],C,T):D[E],null!==M&&(M>0&&(j[m]+=M),0>L&&B>0?0>M?W[m]+=Math.abs(M):p[m]+=M:p[m]+=Math.abs(M-(0>M?B:L)),f.push(M));else M=O?a(n[m],C,T):n[m],M=n[m]=o(M),null!==M&&f.push(M);this.max=x=Math.max.apply(Math,f),this.min=w=Math.min.apply(Math,f),this.stackMax=B=S?Math.max.apply(Math,j):x,this.stackMin=L=S?Math.min.apply(Math,f):w,void 0!==i.get("chartRangeMin")&&(i.get("chartRangeClip")||i.get("chartRangeMin")<w)&&(w=i.get("chartRangeMin")),void 0!==i.get("chartRangeMax")&&(i.get("chartRangeClip")||i.get("chartRangeMax")>x)&&(x=i.get("chartRangeMax")),this.zeroAxis=_=i.get("zeroAxis",!0),k=0>=w&&x>=0&&_?0:0==_?w:w>0?w:x,this.xaxisOffset=k,b=S?Math.max.apply(Math,p)+Math.max.apply(Math,W):x-w,this.canvasHeightEf=_&&0>w?this.canvasHeight-2:this.canvasHeight-1,k>w?(z=S&&x>=0?B:x,H=(z-k)/b*this.canvasHeight,H!==Math.ceil(H)&&(this.canvasHeightEf-=2,H=Math.ceil(H))):H=this.canvasHeight,this.yoffset=H,e.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new g(this.colorMapByValue))),this.range=b},getRegion:function(e,t){var n=Math.floor(t/this.totalBarWidth);return 0>n||n>=this.values.length?void 0:n},getCurrentRegionFields:function(){var e,t,n=this.currentRegion,i=p(this.values[n]),a=[];for(t=i.length;t--;)e=i[t],a.push({isNull:null===e,value:e,color:this.calcColor(t,e,n),offset:n});return a},calcColor:function(t,n,i){var a,r,o=this.colorMapByIndex,s=this.colorMapByValue,l=this.options;return a=l.get(this.stacked?"stackedBarColor":0>n?"negBarColor":"barColor"),0===n&&void 0!==l.get("zeroColor")&&(a=l.get("zeroColor")),s&&(r=s.get(n))?a=r:o&&o.length>i&&(a=o[i]),e.isArray(a)?a[t%a.length]:a},renderRegion:function(t,n){var i,a,r,o,s,l,d,u,h,p,f=this.values[t],g=this.options,m=this.xaxisOffset,v=[],b=this.range,_=this.stacked,y=this.target,k=t*this.totalBarWidth,w=this.canvasHeightEf,x=this.yoffset;if(f=e.isArray(f)?f:[f],d=f.length,u=f[0],o=c(null,f),p=c(m,f,!0),o)return g.get("nullColor")?(r=n?g.get("nullColor"):this.calcHighlightColor(g.get("nullColor"),g),i=x>0?x-1:x,y.drawRect(k,i,this.barWidth-1,0,r,r)):void 0;for(s=x,l=0;d>l;l++){if(u=f[l],_&&u===m){if(!p||h)continue;h=!0}a=b>0?Math.floor(w*(Math.abs(u-m)/b))+1:1,m>u||u===m&&0===x?(i=s,s+=a):(i=x-a,x-=a),r=this.calcColor(l,u,t),n&&(r=this.calcHighlightColor(r,g)),v.push(y.drawRect(k,i,this.barWidth-1,a-1,r,r))}return 1===v.length?v[0]:v}}),e.fn.sparkline.tristate=k=n(e.fn.sparkline._base,b,{type:"tristate",init:function(t,n,i,a,r){var o=parseInt(i.get("barWidth"),10),s=parseInt(i.get("barSpacing"),10);k._super.init.call(this,t,n,i,a,r),this.regionShapes={},this.barWidth=o,this.barSpacing=s,this.totalBarWidth=o+s,this.values=e.map(n,Number),this.width=a=n.length*o+(n.length-1)*s,e.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new g(this.colorMapByValue))),this.initTarget()
},getRegion:function(e,t){return Math.floor(t/this.totalBarWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:void 0===this.values[e],value:this.values[e],color:this.calcColor(this.values[e],e),offset:e}},calcColor:function(e,t){var n,i,a=this.values,r=this.options,o=this.colorMapByIndex,s=this.colorMapByValue;return n=s&&(i=s.get(e))?i:o&&o.length>t?o[t]:r.get(a[t]<0?"negBarColor":a[t]>0?"posBarColor":"zeroBarColor")},renderRegion:function(e,t){var n,i,a,r,o,s,l=this.values,d=this.options,c=this.target;return n=c.pixelHeight,a=Math.round(n/2),r=e*this.totalBarWidth,l[e]<0?(o=a,i=a-1):l[e]>0?(o=0,i=a-1):(o=a-1,i=2),s=this.calcColor(l[e],e),null!==s?(t&&(s=this.calcHighlightColor(s,d)),c.drawRect(r,o,this.barWidth-1,i-1,s,s)):void 0}}),e.fn.sparkline.discrete=w=n(e.fn.sparkline._base,b,{type:"discrete",init:function(t,n,i,a,r){w._super.init.call(this,t,n,i,a,r),this.regionShapes={},this.values=n=e.map(n,Number),this.min=Math.min.apply(Math,n),this.max=Math.max.apply(Math,n),this.range=this.max-this.min,this.width=a="auto"===i.get("width")?2*n.length:this.width,this.interval=Math.floor(a/n.length),this.itemWidth=a/n.length,void 0!==i.get("chartRangeMin")&&(i.get("chartRangeClip")||i.get("chartRangeMin")<this.min)&&(this.min=i.get("chartRangeMin")),void 0!==i.get("chartRangeMax")&&(i.get("chartRangeClip")||i.get("chartRangeMax")>this.max)&&(this.max=i.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===i.get("lineHeight")?Math.round(.3*this.canvasHeight):i.get("lineHeight"))},getRegion:function(e,t){return Math.floor(t/this.itemWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:void 0===this.values[e],value:this.values[e],offset:e}},renderRegion:function(e,t){var n,i,r,o,s=this.values,l=this.options,d=this.min,c=this.max,u=this.range,h=this.interval,p=this.target,f=this.canvasHeight,g=this.lineHeight,m=f-g;return i=a(s[e],d,c),o=e*h,n=Math.round(m-m*((i-d)/u)),r=l.get(l.get("thresholdColor")&&i<l.get("thresholdValue")?"thresholdColor":"lineColor"),t&&(r=this.calcHighlightColor(r,l)),p.drawLine(o,n,o,n+g,r)}}),e.fn.sparkline.bullet=x=n(e.fn.sparkline._base,{type:"bullet",init:function(e,t,n,i,a){var r,o,l;x._super.init.call(this,e,t,n,i,a),this.values=t=s(t),l=t.slice(),l[0]=null===l[0]?l[2]:l[0],l[1]=null===t[1]?l[2]:l[1],r=Math.min.apply(Math,t),o=Math.max.apply(Math,t),r=void 0===n.get("base")?0>r?r:0:n.get("base"),this.min=r,this.max=o,this.range=o-r,this.shapes={},this.valueShapes={},this.regiondata={},this.width=i="auto"===n.get("width")?"4.0em":i,this.target=this.$el.simpledraw(i,a,n.get("composite")),t.length||(this.disabled=!0),this.initTarget()},getRegion:function(e,t,n){var i=this.target.getShapeAt(e,t,n);return void 0!==i&&void 0!==this.shapes[i]?this.shapes[i]:void 0},getCurrentRegionFields:function(){var e=this.currentRegion;return{fieldkey:e.substr(0,1),value:this.values[e.substr(1)],region:e}},changeHighlight:function(e){var t,n=this.currentRegion,i=this.valueShapes[n];switch(delete this.shapes[i],n.substr(0,1)){case"r":t=this.renderRange(n.substr(1),e);break;case"p":t=this.renderPerformance(e);break;case"t":t=this.renderTarget(e)}this.valueShapes[n]=t.id,this.shapes[t.id]=n,this.target.replaceWithShape(i,t)},renderRange:function(e,t){var n=this.values[e],i=Math.round(this.canvasWidth*((n-this.min)/this.range)),a=this.options.get("rangeColors")[e-2];return t&&(a=this.calcHighlightColor(a,this.options)),this.target.drawRect(0,0,i-1,this.canvasHeight-1,a,a)},renderPerformance:function(e){var t=this.values[1],n=Math.round(this.canvasWidth*((t-this.min)/this.range)),i=this.options.get("performanceColor");return e&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(0,Math.round(.3*this.canvasHeight),n-1,Math.round(.4*this.canvasHeight)-1,i,i)},renderTarget:function(e){var t=this.values[0],n=Math.round(this.canvasWidth*((t-this.min)/this.range)-this.options.get("targetWidth")/2),i=Math.round(.1*this.canvasHeight),a=this.canvasHeight-2*i,r=this.options.get("targetColor");return e&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(n,i,this.options.get("targetWidth")-1,a-1,r,r)},render:function(){var e,t,n=this.values.length,i=this.target;if(x._super.render.call(this)){for(e=2;n>e;e++)t=this.renderRange(e).append(),this.shapes[t.id]="r"+e,this.valueShapes["r"+e]=t.id;null!==this.values[1]&&(t=this.renderPerformance().append(),this.shapes[t.id]="p1",this.valueShapes.p1=t.id),null!==this.values[0]&&(t=this.renderTarget().append(),this.shapes[t.id]="t0",this.valueShapes.t0=t.id),i.render()}}}),e.fn.sparkline.pie=C=n(e.fn.sparkline._base,{type:"pie",init:function(t,n,i,a,r){var o,s=0;if(C._super.init.call(this,t,n,i,a,r),this.shapes={},this.valueShapes={},this.values=n=e.map(n,Number),"auto"===i.get("width")&&(this.width=this.height),n.length>0)for(o=n.length;o--;)s+=n[o];this.total=s,this.initTarget(),this.radius=Math.floor(Math.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(e,t,n){var i=this.target.getShapeAt(e,t,n);return void 0!==i&&void 0!==this.shapes[i]?this.shapes[i]:void 0},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:void 0===this.values[e],value:this.values[e],percent:this.values[e]/this.total*100,color:this.options.get("sliceColors")[e%this.options.get("sliceColors").length],offset:e}},changeHighlight:function(e){var t=this.currentRegion,n=this.renderSlice(t,e),i=this.valueShapes[t];delete this.shapes[i],this.target.replaceWithShape(i,n),this.valueShapes[t]=n.id,this.shapes[n.id]=t},renderSlice:function(e,t){var n,i,a,r,o,s=this.target,l=this.options,d=this.radius,c=l.get("borderWidth"),u=l.get("offset"),h=2*Math.PI,p=this.values,f=this.total,g=u?2*Math.PI*(u/360):0;for(r=p.length,a=0;r>a;a++){if(n=g,i=g,f>0&&(i=g+h*(p[a]/f)),e===a)return o=l.get("sliceColors")[a%l.get("sliceColors").length],t&&(o=this.calcHighlightColor(o,l)),s.drawPieSlice(d,d,d-c,n,i,void 0,o);g=i}},render:function(){var e,t,n=this.target,i=this.values,a=this.options,r=this.radius,o=a.get("borderWidth");if(C._super.render.call(this)){for(o&&n.drawCircle(r,r,Math.floor(r-o/2),a.get("borderColor"),void 0,o).append(),t=i.length;t--;)i[t]&&(e=this.renderSlice(t).append(),this.valueShapes[t]=e.id,this.shapes[e.id]=t);n.render()}}}),e.fn.sparkline.box=T=n(e.fn.sparkline._base,{type:"box",init:function(t,n,i,a,r){T._super.init.call(this,t,n,i,a,r),this.values=e.map(n,Number),this.width="auto"===i.get("width")?"4.0em":a,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var e=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return void 0!==this.loutlier&&e.push({field:"lo",value:this.loutlier}),void 0!==this.routlier&&e.push({field:"ro",value:this.routlier}),void 0!==this.lwhisker&&e.push({field:"lw",value:this.lwhisker}),void 0!==this.rwhisker&&e.push({field:"rw",value:this.rwhisker}),e},render:function(){var e,t,n,i,a,o,s,l,d,c,u,h=this.target,p=this.values,f=p.length,g=this.options,m=this.canvasWidth,v=this.canvasHeight,b=void 0===g.get("chartRangeMin")?Math.min.apply(Math,p):g.get("chartRangeMin"),_=void 0===g.get("chartRangeMax")?Math.max.apply(Math,p):g.get("chartRangeMax"),y=0;if(T._super.render.call(this)){if(g.get("raw"))g.get("showOutliers")&&p.length>5?(t=p[0],e=p[1],i=p[2],a=p[3],o=p[4],s=p[5],l=p[6]):(e=p[0],i=p[1],a=p[2],o=p[3],s=p[4]);else if(p.sort(function(e,t){return e-t}),i=r(p,1),a=r(p,2),o=r(p,3),n=o-i,g.get("showOutliers")){for(e=s=void 0,d=0;f>d;d++)void 0===e&&p[d]>i-n*g.get("outlierIQR")&&(e=p[d]),p[d]<o+n*g.get("outlierIQR")&&(s=p[d]);t=p[0],l=p[f-1]}else e=p[0],s=p[f-1];this.quartiles=[i,a,o],this.lwhisker=e,this.rwhisker=s,this.loutlier=t,this.routlier=l,u=m/(_-b+1),g.get("showOutliers")&&(y=Math.ceil(g.get("spotRadius")),m-=2*Math.ceil(g.get("spotRadius")),u=m/(_-b+1),e>t&&h.drawCircle((t-b)*u+y,v/2,g.get("spotRadius"),g.get("outlierLineColor"),g.get("outlierFillColor")).append(),l>s&&h.drawCircle((l-b)*u+y,v/2,g.get("spotRadius"),g.get("outlierLineColor"),g.get("outlierFillColor")).append()),h.drawRect(Math.round((i-b)*u+y),Math.round(.1*v),Math.round((o-i)*u),Math.round(.8*v),g.get("boxLineColor"),g.get("boxFillColor")).append(),h.drawLine(Math.round((e-b)*u+y),Math.round(v/2),Math.round((i-b)*u+y),Math.round(v/2),g.get("lineColor")).append(),h.drawLine(Math.round((e-b)*u+y),Math.round(v/4),Math.round((e-b)*u+y),Math.round(v-v/4),g.get("whiskerColor")).append(),h.drawLine(Math.round((s-b)*u+y),Math.round(v/2),Math.round((o-b)*u+y),Math.round(v/2),g.get("lineColor")).append(),h.drawLine(Math.round((s-b)*u+y),Math.round(v/4),Math.round((s-b)*u+y),Math.round(v-v/4),g.get("whiskerColor")).append(),h.drawLine(Math.round((a-b)*u+y),Math.round(.1*v),Math.round((a-b)*u+y),Math.round(.9*v),g.get("medianColor")).append(),g.get("target")&&(c=Math.ceil(g.get("spotRadius")),h.drawLine(Math.round((g.get("target")-b)*u+y),Math.round(v/2-c),Math.round((g.get("target")-b)*u+y),Math.round(v/2+c),g.get("targetColor")).append(),h.drawLine(Math.round((g.get("target")-b)*u+y-c),Math.round(v/2),Math.round((g.get("target")-b)*u+y+c),Math.round(v/2),g.get("targetColor")).append()),h.render()}}}),function(){document.namespaces&&!document.namespaces.v?(e.fn.sparkline.hasVML=!0,document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML")):e.fn.sparkline.hasVML=!1;var t=document.createElement("canvas");e.fn.sparkline.hasCanvas=!!t.getContext&&!!t.getContext("2d")}(),E=n({init:function(e,t,n,i){this.target=e,this.id=t,this.type=n,this.args=i},append:function(){return this.target.appendShape(this),this}}),F=n({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,n,i){t&&(this.width=t,this.height=n,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),e.data(i,"_jqs_vcanvas",this))},drawLine:function(e,t,n,i,a,r){return this.drawShape([[e,t],[n,i]],a,r)},drawShape:function(e,t,n,i){return this._genShape("Shape",[e,t,n,i])},drawCircle:function(e,t,n,i,a,r){return this._genShape("Circle",[e,t,n,i,a,r])},drawPieSlice:function(e,t,n,i,a,r,o){return this._genShape("PieSlice",[e,t,n,i,a,r,o])},drawRect:function(e,t,n,i,a,r){return this._genShape("Rect",[e,t,n,i,a,r])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,n){e(n).html(t)},_calculatePixelDims:function(t,n,i){var a;a=this._pxregex.exec(n),this.pixelHeight=a?a[1]:e(i).height(),a=this._pxregex.exec(t),this.pixelWidth=a?a[1]:e(i).width()},_genShape:function(e,t){var n=I++;return t.unshift(n),new E(this,n,e,t)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),A=n(F,{init:function(t,n,i,a){A._super.init.call(this,t,n,i),this.canvas=document.createElement("canvas"),i[0]&&(i=i[0]),e.data(i,"_jqs_vcanvas",this),e(this.canvas).css({display:"inline-block",width:t,height:n,verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(t,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=a,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0,e(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(e,t,n){var i=this.canvas.getContext("2d");return void 0!==e&&(i.strokeStyle=e),i.lineWidth=void 0===n?1:n,void 0!==t&&(i.fillStyle=t),i},reset:function(){var e=this._getContext();e.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0},_drawShape:function(e,t,n,i,a){var r,o,s=this._getContext(n,i,a);for(s.beginPath(),s.moveTo(t[0][0]+.5,t[0][1]+.5),r=1,o=t.length;o>r;r++)s.lineTo(t[r][0]+.5,t[r][1]+.5);void 0!==n&&s.stroke(),void 0!==i&&s.fill(),void 0!==this.targetX&&void 0!==this.targetY&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawCircle:function(e,t,n,i,a,r,o){var s=this._getContext(a,r,o);s.beginPath(),s.arc(t,n,i,0,2*Math.PI,!1),void 0!==this.targetX&&void 0!==this.targetY&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e),void 0!==a&&s.stroke(),void 0!==r&&s.fill()},_drawPieSlice:function(e,t,n,i,a,r,o,s){var l=this._getContext(o,s);l.beginPath(),l.moveTo(t,n),l.arc(t,n,i,a,r,!1),l.lineTo(t,n),l.closePath(),void 0!==o&&l.stroke(),s&&l.fill(),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawRect:function(e,t,n,i,a,r,o){return this._drawShape(e,[[t,n],[t+i,n],[t+i,n+a],[t,n+a],[t,n]],r,o)},appendShape:function(e){return this.shapes[e.id]=e,this.shapeseq.push(e.id),this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var n,i=this.shapeseq;for(this.shapes[t.id]=t,n=i.length;n--;)i[n]==e&&(i[n]=t.id);delete this.shapes[e]},replaceWithShapes:function(e,t){var n,i,a,r=this.shapeseq,o={};for(i=e.length;i--;)o[e[i]]=!0;for(i=r.length;i--;)n=r[i],o[n]&&(r.splice(i,1),delete this.shapes[n],a=i);for(i=t.length;i--;)r.splice(a,0,t[i].id),this.shapes[t[i].id]=t[i]},insertAfterShape:function(e,t){var n,i=this.shapeseq;for(n=i.length;n--;)if(i[n]===e)return i.splice(n+1,0,t.id),void(this.shapes[t.id]=t)},removeShapeId:function(e){var t,n=this.shapeseq;for(t=n.length;t--;)if(n[t]===e){n.splice(t,1);break}delete this.shapes[e]},getShapeAt:function(e,t,n){return this.targetX=t,this.targetY=n,this.render(),this.currentTargetShapeId},render:function(){var e,t,n,i=this.shapeseq,a=this.shapes,r=i.length,o=this._getContext();for(o.clearRect(0,0,this.pixelWidth,this.pixelHeight),n=0;r>n;n++)e=i[n],t=a[e],this["_draw"+t.type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}}),M=n(F,{init:function(t,n,i){var a;M._super.init.call(this,t,n,i),i[0]&&(i=i[0]),e.data(i,"_jqs_vcanvas",this),this.canvas=document.createElement("span"),e(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:n,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(t,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,a='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",a),this.group=e(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(e,t,n,i,a){var r,o,s,l,d,c,u,h=[];for(u=0,c=t.length;c>u;u++)h[u]=""+t[u][0]+","+t[u][1];return r=h.splice(0,1),a=void 0===a?1:a,o=void 0===n?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+n+'" ',s=void 0===i?' filled="false"':' fillColor="'+i+'" filled="true" ',l=h[0]===h[h.length-1]?"x ":"",d='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+e+'" '+o+s+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+r+" l "+h.join(", ")+" "+l+'e"> </v:shape>'},_drawCircle:function(e,t,n,i,a,r,o){var s,l,d;return t-=i,n-=i,s=void 0===a?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+a+'" ',l=void 0===r?' filled="false"':' fillColor="'+r+'" filled="true" ',d='<v:oval  id="jqsshape'+e+'" '+s+l+' style="position:absolute;top:'+n+"px; left:"+t+"px; width:"+2*i+"px; height:"+2*i+'px"></v:oval>'},_drawPieSlice:function(e,t,n,i,a,r,o,s){var l,d,c,u,h,p,f,g;if(a===r)return"";if(r-a===2*Math.PI&&(a=0,r=2*Math.PI),d=t+Math.round(Math.cos(a)*i),c=n+Math.round(Math.sin(a)*i),u=t+Math.round(Math.cos(r)*i),h=n+Math.round(Math.sin(r)*i),d===u&&c===h){if(r-a<Math.PI)return"";d=u=t+i,c=h=n}return d===u&&c===h&&r-a<Math.PI?"":(l=[t-i,n-i,t+i,n+i,d,c,u,h],p=void 0===o?' stroked="false" ':' strokeWeight="1px" strokeColor="'+o+'" ',f=void 0===s?' filled="false"':' fillColor="'+s+'" filled="true" ',g='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+e+'" '+p+f+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+t+","+n+" wa "+l.join(", ")+' x e"> </v:shape>')},_drawRect:function(e,t,n,i,a,r,o){return this._drawShape(e,[[t,n],[t,n+a],[t+i,n+a],[t+i,n],[t,n]],r,o)},reset:function(){this.group.innerHTML=""},appendShape:function(e){var t=this["_draw"+e.type].apply(this,e.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",t):this.prerender+=t,this.lastShapeId=e.id,e.id},replaceWithShape:function(t,n){var i=e("#jqsshape"+t),a=this["_draw"+n.type].apply(this,n.args);i[0].outerHTML=a},replaceWithShapes:function(t,n){var i,a=e("#jqsshape"+t[0]),r="",o=n.length;for(i=0;o>i;i++)r+=this["_draw"+n[i].type].apply(this,n[i].args);for(a[0].outerHTML=r,i=1;i<t.length;i++)e("#jqsshape"+t[i]).remove()},insertAfterShape:function(t,n){var i=e("#jqsshape"+t),a=this["_draw"+n.type].apply(this,n.args);i[0].insertAdjacentHTML("afterEnd",a)},removeShapeId:function(t){var n=e("#jqsshape"+t);this.group.removeChild(n[0])},getShapeAt:function(e){var t=e.id.substr(8);return t},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})}),function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0)}),this.submit(function(t){function i(){var i;return n.settings.submitHandler?(n.submitButton&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(n.submitButton.value).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&i.remove(),!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,n=e(this[0].form).validate();return this.each(function(){t&=n.element(this)}),t},removeAttrs:function(t){var n={},i=this;return e.each(t.split(/\s/),function(e,t){n[t]=i.attr(t),i.removeAttr(t)}),n},rules:function(t,n){var i=this[0];if(t){var a=e.data(i.form,"validator").settings,r=a.rules,o=e.validator.staticRules(i);switch(t){case"add":e.extend(o,e.validator.normalizeRule(n)),r[i.name]=o,n.messages&&(a.messages[i.name]=e.extend(a.messages[i.name],n.messages));break;case"remove":if(!n)return delete r[i.name],o;var s={};return e.each(n.split(/\s/),function(e,t){s[t]=o[t],delete o[t]}),s}}var l=e.validator.normalizeRules(e.extend({},e.validator.classRules(i),e.validator.attributeRules(i),e.validator.dataRules(i),e.validator.staticRules(i)),i);if(l.required){var d=l.required;delete l.required,l=e.extend({required:d},l)}return l}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+t.value)},filled:function(t){return!!e.trim(""+t.value)},unchecked:function(e){return!e.checked}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"invalid",validClass:"valid",errorElement:"em",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i).parent().addClass("state-error").removeClass("state-success"):e(t).addClass(n).removeClass(i).parent().addClass("state-error").removeClass("state-success")},unhighlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(i).parent().addClass("state-success").removeClass("state-error"):e(t).removeClass(n).addClass(i).parent().addClass("state-success").removeClass("state-error")}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required",remote:"Please fix this field",email:"Please enter a valid email address",url:"Please enter a valid URL",date:"Please enter a valid date",dateISO:"Please enter a valid date (ISO)",number:"Please enter a valid number",digits:"Please enter only digits",creditcard:"Please enter a valid credit card number",equalTo:"Please enter the same value again",maxlength:e.validator.format("Please enter no more than {0} characters"),minlength:e.validator.format("Please enter at least {0} characters"),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long"),range:e.validator.format("Please enter a value between {0} and {1}"),max:e.validator.format("Please enter a value less than or equal to {0}"),min:e.validator.format("Please enter a value greater than or equal to {0}")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=e.data(this[0].form,"validator"),i="on"+t.type.replace(/^validate/,"");n.settings[i]&&n.settings[i].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){n[i]=t})});var i=this.settings.rules;e.each(i,function(t,n){i[t]=e.validator.normalizeRule(n)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",t).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var n=this.check(t)!==!1;return n?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n=e(t).attr("type"),i=e(t).val();return"radio"===n||"checkbox"===n?e("input[name='"+e(t).attr("name")+"']:checked").val():"string"==typeof i?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i=e(t).rules(),a=!1,r=this.elementValue(t);for(var o in i){var s={method:o,parameters:i[o]};try{if(n=e.validator.methods[o].call(this,r,t,s.parameters),"dependency-mismatch"===n){a=!0;continue}if(a=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,s),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occured when checking element "+t.id+", check the '"+s.method+"' method.",l),l}}return a?void 0:(this.objectLength(i)&&this.successList.push(t),!0)},customDataMessage:function(t,n){return e(t).data("msg-"+n.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+n.toLowerCase())},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var i=this.defaultMessage(t,n.method),a=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,t):a.test(i)&&(i=e.validator.format(i.replace(a,"{$1}"),n.parameters)),this.errorList.push({message:i,element:t}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var n=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var i=this.errorsFor(t);i.length?(i.removeClass(this.settings.validClass).addClass(this.settings.errorClass),i.html(n)):(i=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(i).length||(this.settings.errorPlacement?this.settings.errorPlacement(i,e(t)):i.insertAfter(t))),!n&&this.settings.success&&(i.text(""),"string"==typeof this.settings.success?i.addClass(this.settings.success):this.settings.success(i,t)),this.toShow=this.toShow.add(i)},errorsFor:function(t){var n=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===n})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n={},i=e(t);for(var a in e.validator.methods){var r;"required"===a?(r=i.get(0).getAttribute(a),""===r&&(r=!0),r=!!r):r=i.attr(a),r?n[a]=r:i[0].getAttribute("type")===a&&(n[a]=!0)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var n,i,a={},r=e(t);for(n in e.validator.methods)i=r.data("rule-"+n.toLowerCase()),void 0!==i&&(a[n]=i);return a},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(i,a){if(a===!1)return void delete t[i];if(a.param||a.depends){var r=!0;switch(typeof a.depends){case"string":r=!!e(a.depends,n.form).length;break;case"function":r=a.depends.call(n,n)}r?t[i]=void 0!==a.param?a.param:!0:delete t[i]}}),e.each(t,function(i,a){t[i]=e.isFunction(a)?a(n):a}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))
}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var a=e(n).val();return a&&a.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},remote:function(t,n,i){if(this.optional(n))return"dependency-mismatch";var a=this.previousValue(n);if(this.settings.messages[n.name]||(this.settings.messages[n.name]={}),a.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=a.message,i="string"==typeof i&&{url:i}||i,a.old===t)return a.valid;a.old=t;var r=this;this.startRequest(n);var o={};return o[n.name]=t,e.ajax(e.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:o,success:function(i){r.settings.messages[n.name].remote=a.originalMessage;var o=i===!0||"true"===i;if(o){var s=r.formSubmitted;r.prepareElement(n),r.formSubmitted=s,r.successList.push(n),delete r.invalid[n.name],r.showErrors()}else{var l={},d=i||r.defaultMessage(n,"remote");l[n.name]=a.message=e.isFunction(d)?d(t):d,r.invalid[n.name]=!0,r.showErrors(l)}a.valid=o,r.stopRequest(n,o)}},i)),"pending"},minlength:function(t,n,i){var a=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||a>=i},maxlength:function(t,n,i){var a=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=a},rangelength:function(t,n,i){var a=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||a>=i[0]&&a<=i[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n=0,i=0,a=!1;e=e.replace(/\D/g,"");for(var r=e.length-1;r>=0;r--){var o=e.charAt(r);i=parseInt(o,10),a&&(i*=2)>9&&(i-=9),n+=i,a=!a}return n%10===0},equalTo:function(t,n,i){var a=e(i);return this.settings.onfocusout&&a.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===a.val()}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,i){var a=e.port;"abort"===e.mode&&(t[a]&&t[a].abort(),t[a]=i)});else{var n=e.ajax;e.ajax=function(i){var a=("mode"in i?i:e.ajaxSettings).mode,r=("port"in i?i:e.ajaxSettings).port;return"abort"===a?(t[r]&&t[r].abort(),t[r]=n.apply(this,arguments)):n.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,n,i){return this.bind(n,function(n){var a=e(n.target);return a.is(t)?i.apply(a,arguments):void 0})}})}(jQuery),function(){var e,t,n,i,a,r,o,s,l,d,c,u,h,p,f,g,m,v,b,_,y,k,w,x,C,T,S,D,E,F,A,M,H,z,I,R,N,P,O,L,B=[].slice,j={}.hasOwnProperty,W=function(e,t){function n(){this.constructor=e}for(var i in t)j.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},V=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};b={catchupTime:500,initialRate:.03,minTime:500,ghostTime:250,maxProgressPerFrame:10,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!1}},T=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},D=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,v=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==D&&(D=function(e){return setTimeout(e,50)},v=function(e){return clearTimeout(e)}),F=function(e){var t,n;return t=T(),(n=function(){var i;return i=T()-t,t=T(),e(i,function(){return D(n)})})()},E=function(){var e,t,n;return n=arguments[0],t=arguments[1],e=3<=arguments.length?B.call(arguments,2):[],"function"==typeof n[t]?n[t].apply(n,e):n[t]},_=function(){var e,t,n,i,a,r,o;for(t=arguments[0],i=2<=arguments.length?B.call(arguments,1):[],r=0,o=i.length;o>r;r++)if(n=i[r])for(e in n)j.call(n,e)&&(a=n[e],null!=t[e]&&"object"==typeof t[e]&&null!=a&&"object"==typeof a?_(t[e],a):t[e]=a);return t},f=function(e){var t,n,i,a,r;for(n=t=0,a=0,r=e.length;r>a;a++)i=e[a],n+=Math.abs(i),t++;return n/t},k=function(e,t){var n,i,a;if(null==e&&(e="options"),null==t&&(t=!0),a=document.querySelector("[data-pace-"+e+"]")){if(n=a.getAttribute("data-pace-"+e),!t)return n;try{return JSON.parse(n)}catch(r){return i=r,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",i):void 0}}},null==window.Pace&&(window.Pace={}),S=Pace.options=_(b,window.paceOptions,k()),s=function(e){function t(){return O=t.__super__.constructor.apply(this,arguments)}return W(t,e),t}(Error),t=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(e=document.querySelector(S.target),!e)throw new s;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace("pace-done",""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return e=this.getElement(),e.className=e.className.replace("pace-active",""),e.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){return this.getElement().parentNode.removeChild(this.getElement()),this.el=void 0},e.prototype.render=function(){var e,t;return null==document.querySelector(S.target)?!1:(e=this.getElement(),e.children[0].style.width=""+this.progress+"%",(!this.lastRenderedProgress||0|(this.lastRenderedProgress|0!==this.progress))&&(e.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?t="99":(t=this.progress<10?"0":"",t+=0|this.progress),e.children[0].setAttribute("data-progress",""+t)),this.lastRenderedProgress=this.progress)},e.prototype.done=function(){return this.progress>=100},e}(),o=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var n,i,a,r,o;if(null!=this.bindings[e]){for(r=this.bindings[e],o=[],i=0,a=r.length;a>i;i++)n=r[i],o.push(n.call(this,t));return o}},e.prototype.on=function(e,t){var n;return null==(n=this.bindings)[e]&&(n[e]=[]),this.bindings[e].push(t)},e}(),R=window.XMLHttpRequest,I=window.XDomainRequest,z=window.WebSocket,y=function(e,t){var n,i,a,r;r=[];for(i in t.prototype)try{a=t.prototype[i],r.push(null==e[i]&&"function"!=typeof a?e[i]=a:void 0)}catch(o){n=o}return r},l=function(e){function t(){var e,n=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(i,a){var r;return r=(null!=i?i:"GET").toUpperCase(),V.call(S.ajax.trackMethods,r)>=0&&n.trigger("request",{type:i,url:a,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(t){var n;return n=new R(t),e(n),n},y(window.XMLHttpRequest,R),null!=I&&(window.XDomainRequest=function(){var t;return t=new I,e(t),t},y(window.XDomainRequest,I)),null!=z&&S.ajax.trackWebSockets&&(window.WebSocket=function(e,t){var i;return i=new z(e,t),n.trigger("request",{type:"socket",url:e,protocols:t,request:i}),i},y(window.WebSocket,z))}return W(t,e),t}(o),N=null,w=function(){return null==N&&(N=new l),N},S.restartOnRequestAfter!==!1&&w().on("request",function(t){var n,i,a;return a=t.type,i=t.request,Pace.running?void 0:(n=arguments,setTimeout(function(){var t,r,o,s,l,d,c;if(r="socket"===a?i.readyState<2:0<(l=i.readyState)&&4>l){for(Pace.restart(),d=Pace.sources,c=[],o=0,s=d.length;s>o;o++){if(t=d[o],t instanceof e){t.watch.apply(t,n);break}c.push(void 0)}return c}},S.restartOnRequestAfter))}),e=function(){function e(){var e=this;this.elements=[],w().on("request",function(){return e.watch.apply(e,arguments)})}return e.prototype.watch=function(e){var t,n,i;return i=e.type,t=e.request,n="socket"===i?new u(t):new h(t),this.elements.push(n)},e}(),h=function(){function e(e){var t,n,i,a,r,o,s=this;if(this.progress=0,null!=window.ProgressEvent)for(n=null,e.addEventListener("progress",function(e){return s.progress=e.lengthComputable?100*e.loaded/e.total:s.progress+(100-s.progress)/2}),o=["load","abort","timeout","error"],i=0,a=o.length;a>i;i++)t=o[i],e.addEventListener(t,function(){return s.progress=100});else r=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?s.progress=100:3===e.readyState&&(s.progress=50),"function"==typeof r?r.apply(null,arguments):void 0}}return e}(),u=function(){function e(e){var t,n,i,a,r=this;for(this.progress=0,a=["error","open"],n=0,i=a.length;i>n;n++)t=a[n],e.addEventListener(t,function(){return r.progress=100})}return e}(),i=function(){function e(e){var t,n,i,r;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),r=e.selectors,n=0,i=r.length;i>n;n++)t=r[n],this.elements.push(new a(t))}return e}(),a=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},S.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),n=function(){function e(){var e,t,n=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),r=function(){function e(){var e,t,n,i,a,r=this;this.progress=0,e=0,a=[],i=0,n=T(),t=setInterval(function(){var o;return o=T()-n-50,n=T(),a.push(o),a.length>S.eventLag.sampleCount&&a.shift(),e=f(a),++i>=S.eventLag.minSamples&&e<S.eventLag.lagThreshold?(r.progress=100,clearInterval(t)):r.progress=100*(3/(e+3))},50)}return e}(),c=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=S.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=E(this.source,"progress"))}return e.prototype.tick=function(e,t){var n;return null==t&&(t=E(this.source,"progress")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/S.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),n=1-Math.pow(this.progress/100,S.easeFactor),this.progress+=n*this.rate*e,this.progress=Math.min(this.lastProgress+S.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),M=null,A=null,g=null,H=null,p=null,m=null,Pace.running=!1,x=function(){return S.restartOnPushState?Pace.restart():void 0},null!=window.history.pushState&&(P=window.history.pushState,window.history.pushState=function(){return x(),P.apply(window.history,arguments)}),null!=window.history.replaceState&&(L=window.history.replaceState,window.history.replaceState=function(){return x(),L.apply(window.history,arguments)}),d={ajax:e,elements:i,document:n,eventLag:r},(C=function(){var e,n,i,a,r,o,s,l,u;for(Pace.sources=M=[],s=["ajax","elements","document","eventLag"],i=0,r=s.length;r>i;i++)n=s[i],S[n]!==!1&&M.push(new d[n](S[n]));for(u=null!=(l=S.extraSources)?l:[],a=0,o=u.length;o>a;a++)e=u[a],M.push(new e(S));return Pace.bar=g=new t,A=[],H=new c})(),Pace.stop=function(){return Pace.running=!1,g.destroy(),m=!0,null!=p&&("function"==typeof v&&v(p),p=null),C()},Pace.restart=function(){return Pace.stop(),Pace.go()},Pace.go=function(){return Pace.running=!0,g.render(),m=!1,p=F(function(e,t){var n,i,a,r,o,s,l,d,u,h,p,f,v,b,_,y,k,w;for(d=100-g.progress,i=v=0,a=!0,s=b=0,y=M.length;y>b;s=++b)for(p=M[s],h=null!=A[s]?A[s]:A[s]=[],o=null!=(w=p.elements)?w:[p],l=_=0,k=o.length;k>_;l=++_)r=o[l],u=null!=h[l]?h[l]:h[l]=new c(r),a&=u.done,u.done||(i++,v+=u.tick(e));return n=v/i,g.update(H.tick(e,n)),f=T(),g.done()||a||m?(g.update(100),setTimeout(function(){return g.finish(),Pace.running=!1},Math.max(S.ghostTime,Math.min(S.minTime,T()-f)))):t()})},Pace.start=function(e){_(S,e),Pace.running=!0;try{g.render()}catch(t){s=t}return document.querySelector(".pace")?Pace.go():setTimeout(Pace.start,50)},"function"==typeof define&&define.amd?define(function(){return Pace}):"object"==typeof exports?module.exports=Pace:S.startOnPageLoad&&Pace.start()}.call(this),!function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),i=-1,a=this.length;++i<a&&(n.context=n[0]=this[i])&&t.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(e){var t,n,i,a;if(!e||e.length<1)return e;for(t="",n=0,i=e.length;i>n;n++)a=e.charAt(n),t+=L[a]||a;return t}function i(e,t){for(var n=0,i=t.length;i>n;n+=1)if(r(e,t[n]))return n;return-1}function a(){var t=e(O);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function r(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function o(t,n){var i,a,r;if(null===t||t.length<1)return[];for(i=t.split(n),a=0,r=i.length;r>a;a+=1)i[a]=e.trim(i[a]);return i}function s(e){return e.outerWidth(!1)-e.width()}function l(n){var i="keyup-change-value";n.on("keydown",function(){e.data(n,i)===t&&e.data(n,i,n.val())}),n.on("keyup",function(){var a=e.data(n,i);a!==t&&n.val()!==a&&(e.removeData(n,i),n.trigger("keyup-change"))})}function d(n){n.on("mousemove",function(n){var i=P;(i===t||i.x!==n.pageX||i.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function c(e,n,i){i=i||t;var a;return function(){var t=arguments;window.clearTimeout(a),a=window.setTimeout(function(){n.apply(i,t)},e)}}function u(e){var t,n=!1;return function(){return n===!1&&(t=e(),n=!0),t}}function h(e,t){var n=c(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){i(e.target,t.get())>=0&&n(e)})}function p(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],i=e.val().length;e.focus(),e.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function f(t){t=e(t)[0];var n=0,i=0;if("selectionStart"in t)n=t.selectionStart,i=t.selectionEnd-n;else if("selection"in document){t.focus();var a=document.selection.createRange();i=document.selection.createRange().text.length,a.moveStart("character",-t.value.length),n=a.text.length-i}return{offset:n,length:i}}function g(e){e.preventDefault(),e.stopPropagation()}function m(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!I){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);I=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),I.attr("class","select2-sizer"),e("body").append(I)}return I.text(t.val()),I.width()}function b(t,n,i){var a,r,o=[];a=t.attr("class"),a&&(a=""+a,e(a.split(" ")).each2(function(){0===this.indexOf("select2-")&&o.push(this)})),a=n.attr("class"),a&&(a=""+a,e(a.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(r=i(this),r&&o.push(r))})),t.attr("class",o.join(" "))}function _(e,t,i,a){var r=n(e.toUpperCase()).indexOf(n(t.toUpperCase())),o=t.length;return 0>r?void i.push(a(e)):(i.push(a(e.substring(0,r))),i.push("<span class='select2-match'>"),i.push(a(e.substring(r,r+o))),i.push("</span>"),void i.push(a(e.substring(r+o,e.length))))}function y(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function k(n){var i,a=null,r=n.quietMillis||100,o=n.url,s=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){var i=n.data,r=o,d=n.transport||e.fn.select2.ajaxDefaults.transport,c={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},u=e.extend({},e.fn.select2.ajaxDefaults.params,c);i=i?i.call(s,l.term,l.page,l.context):null,r="function"==typeof r?r.call(s,l.term,l.page,l.context):r,a&&a.abort(),n.params&&(e.isFunction(n.params)?e.extend(u,n.params.call(s)):e.extend(u,n.params)),e.extend(u,{url:r,dataType:n.dataType,data:i,success:function(e){var t=n.results(e,l.page);l.callback(t)}}),a=d.call(s,u)},r)}}function w(t){var n,i,a=t,r=function(e){return""+e.text};e.isArray(a)&&(i=a,a={results:i}),e.isFunction(a)===!1&&(i=a,a=function(){return i});var o=a();return o.text&&(r=o.text,e.isFunction(r)||(n=o.text,r=function(e){return e[n]})),function(t){var n,i=t.term,o={results:[]};return""===i?void t.callback(a()):(n=function(a,o){var s,l;if(a=a[0],a.children){s={};for(l in a)a.hasOwnProperty(l)&&(s[l]=a[l]);s.children=[],e(a.children).each2(function(e,t){n(t,s.children)}),(s.children.length||t.matcher(i,r(s),a))&&o.push(s)}else t.matcher(i,r(a),a)&&o.push(a)},e(a().results).each2(function(e,t){n(t,o.results)}),void t.callback(o))}}function x(n){var i=e.isFunction(n);return function(a){var r=a.term,o={results:[]};e(i?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(""===r||a.matcher(r,n))&&o.results.push(e?this:{id:this,text:this})}),a.callback(o)}}function C(t,n){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error(n+" must be a function or a falsy value")}function T(t){return e.isFunction(t)?t():t}function S(t){var n=0;return e.each(t,function(e,t){t.children?n+=S(t.children):n++}),n}function D(e,n,i,a){var o,s,l,d,c,u=e,h=!1;if(!a.createSearchChoice||!a.tokenSeparators||a.tokenSeparators.length<1)return t;for(;;){for(s=-1,l=0,d=a.tokenSeparators.length;d>l&&(c=a.tokenSeparators[l],s=e.indexOf(c),!(s>=0));l++);if(0>s)break;if(o=e.substring(0,s),e=e.substring(s+c.length),o.length>0&&(o=a.createSearchChoice.call(this,o,n),o!==t&&null!==o&&a.id(o)!==t&&null!==a.id(o))){for(h=!1,l=0,d=n.length;d>l;l++)if(r(a.id(o),a.id(n[l]))){h=!0;break}h||i(o)}}return u!==e?e:void 0}function E(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}if(window.Select2===t){var F,A,M,H,z,I,R,N,P={x:0,y:0},F={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case F.LEFT:case F.RIGHT:case F.UP:case F.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case F.SHIFT:case F.CTRL:case F.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},O="<div class='select2-measure-scrollbar'></div>",L={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G","\ua7a0":"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H","\ua78d":"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K","\ua7a2":"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N","\ua790":"N","\ua7a4":"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R","\ua7a6":"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S","\u2c7e":"S","\ua7a8":"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z","\u2c7f":"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g","\ua7a1":"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k","\ua7a3":"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n","\ua791":"n","\ua7a5":"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r","\ua7a7":"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s","\ua7a9":"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z"};R=e(document),z=function(){var e=1;return function(){return e++}}(),R.on("mousemove",function(e){P.x=e.pageX,P.y=e.pageY}),A=E(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var i,r,o=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+z()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=u(function(){return n.element.closest("body")}),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(T(n.containerCss)),this.container.addClass(T(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(n.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=i=this.container.find(o),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),d(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",o,this.bind(this.highlightUnderEvent)),h(80,this.results),this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()
}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&i.mousewheel(function(e,t,n,a){var r=i.scrollTop();a>0&&0>=r-a?(i.scrollTop(0),g(e)):0>a&&i.get(0).scrollHeight-i.scrollTop()+a<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),g(e))}),l(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",function(){r.addClass("select2-focused")}),r.on("blur",function(){r.removeClass("select2-focused")}),this.dropdown.on("mouseup",o,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var s=n.element.prop("disabled");s===t&&(s=!1),this.enable(!s);var c=n.element.prop("readonly");c===t&&(c=!1),this.readonly(c),N=N||a(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=t},destroy:function(){var e=this.opts.element,n=e.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),n!==t&&(n.container.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:r(e.attr("locked"),"locked")||r(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var i,a,s,l,d=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=a=n.element),a&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(i,a,r){var o,s=this.opts.id;(o=function(i,a,l){var c,u,h,p,f,g,m,v,b,_;for(i=n.sortResults(i,a,r),c=0,u=i.length;u>c;c+=1)h=i[c],f=h.disabled===!0,p=!f&&s(h)!==t,g=h.children&&h.children.length>0,m=e("<li></li>"),m.addClass("select2-results-dept-"+l),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&m.addClass("select2-disabled"),g&&m.addClass("select2-result-with-children"),m.addClass(d.opts.formatResultCssClass(h)),v=e(document.createElement("div")),v.addClass("select2-result-label"),_=n.formatResult(h,v,r,d.opts.escapeMarkup),_!==t&&v.html(_),m.append(v),g&&(b=e("<ul></ul>"),b.addClass("select2-result-sub"),o(h.children,b,l+1),m.append(b)),m.data("select2-data",h),a.append(m)})(a,i,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(s=n.id,n.id=function(e){return e[s]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(a?(n.query=this.bind(function(e){var n,a,r,o={results:[],more:!1},s=e.term;r=function(t,n){var i;t.is("option")?e.matcher(s,t.text(),t)&&n.push(d.optionToData(t)):t.is("optgroup")&&(i=d.optionToData(t),t.children().each2(function(e,t){r(t,i.children)}),i.children.length>0&&n.push(i))},n=i.children(),this.getPlaceholder()!==t&&n.length>0&&(a=this.getPlaceholderOption(),a&&(n=n.not(a))),n.each2(function(e,t){r(t,o.results)}),e.callback(o)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=k.call(n.element,n.ajax)):"data"in n?n.query=w(n.data):"tags"in n&&(n.query=x(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,i){var a=[];e(o(t.val(),n.separator)).each(function(){var t={id:this,text:this},i=n.tags;e.isFunction(i)&&(i=i()),e(i).each(function(){return r(this.id,t.id)?(t=this,!1):void 0}),a.push(t)}),i(a)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e,n,i=this.opts.element;i.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e=i.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=i.prop("readonly");n===t&&(n=!1),this.readonly(n),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(T(this.opts.containerCssClass)),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(this.opts.dropdownCssClass))}),i.on("propertychange.select2",e),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(e)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(this.mutationCallback),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){return e===t&&(e=!1),this._readonly===e?!1:(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,i,a,r,o=this.dropdown,s=this.container.offset(),l=this.container.outerHeight(!1),d=this.container.outerWidth(!1),c=o.outerHeight(!1),u=e(window),h=u.width(),p=u.height(),f=u.scrollLeft()+h,g=u.scrollTop()+p,m=s.top+l,v=s.left,b=g>=m+c,_=s.top-c>=this.body().scrollTop(),y=o.outerWidth(!1),k=f>=v+y,w=o.hasClass("select2-drop-above");w?(n=!0,!_&&b&&(i=!0,n=!1)):(n=!1,!b&&_&&(i=!0,n=!0)),i&&(o.hide(),s=this.container.offset(),l=this.container.outerHeight(!1),d=this.container.outerWidth(!1),c=o.outerHeight(!1),f=u.scrollLeft()+h,g=u.scrollTop()+p,m=s.top+l,v=s.left,y=o.outerWidth(!1),k=f>=v+y,o.show()),this.opts.dropdownAutoWidth?(r=e(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),y=o.outerWidth(!1)+(r.scrollHeight===r.clientHeight?0:N.width),y>d?d=y:y=d,k=f>=v+y):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),m-=t.top,v-=t.left),k||(v=s.left+d-y),a={left:v,width:d},n?(a.bottom=p-s.top,a.top="auto",this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(a.top=m,a.bottom="auto",this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),a=e.extend(a,T(this.opts.dropdownCss)),o.css(a)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var t,n=this.containerId,i="scroll."+n,a="resize."+n,r="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body()),t.on("mousedown touchstart click",function(t){var n,i=e("#select2-drop");i.length>0&&(n=i.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close({focus:!0}),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var o=this;this.container.parents().add(window).each(function(){e(this).on(a+" "+i+" "+r,function(){o.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,n="scroll."+t,i="resize."+t,a="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(i).off(a)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return T(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,n,i,a,r,o,s,l=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return void l.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),i=e(t[n]),a=i.offset().top+i.outerHeight(!0),n===t.length-1&&(s=l.find("li.select2-more-results"),s.length>0&&(a=s.offset().top+s.outerHeight(!0))),r=l.offset().top+l.outerHeight(!0),a>r&&l.scrollTop(l.scrollTop()+(a-r)),o=i.offset().top-l.offset().top,0>o&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+o)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=t;var a=e(n[i]);if(a.hasClass("select2-result-selectable")&&!a.hasClass("select2-disabled")&&!a.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var n,a,r=this.findHighlightableChoices();return 0===arguments.length?i(r.filter(".select2-highlighted")[0],r.get()):(t>=r.length&&(t=r.length-1),0>t&&(t=0),this.removeHighlight(),n=e(r[t]),n.addClass("select2-highlighted"),this.ensureHighlightVisible(),a=n.data("select2-data"),void(a&&this.opts.element.trigger({type:"select2-highlight",val:this.id(a),choice:a})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),i=this.resultsPage+1,a=this,r=this.search.val(),o=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:r,page:i,context:o,matcher:this.opts.matcher,callback:this.bind(function(e){a.opened()&&(a.opts.populateResults.call(this,t,e.results,{term:r,page:i,context:o}),a.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text(a.opts.formatLoadMore(i+1)),window.setTimeout(function(){a.loadMoreIfNeeded()},10)):n.remove(),a.positionDropdown(),a.resultsPage=i,a.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(n){function i(){d.removeClass("select2-active"),h.positionDropdown()}function a(e){c.html(e),i()}var o,s,l,d=this.search,c=this.results,u=this.opts,h=this,p=d.val(),f=e.data(this.container,"select2-last-term");if((n===!0||!f||!r(p,f))&&(e.data(this.container,"select2-last-term",p),n===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var g=this.getMaximumSelectionSize();if(g>=1&&(o=this.data(),e.isArray(o)&&o.length>=g&&C(u.formatSelectionTooBig,"formatSelectionTooBig")))return void a("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(g)+"</li>");if(d.val().length<u.minimumInputLength)return a(C(u.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+u.formatInputTooShort(d.val(),u.minimumInputLength)+"</li>":""),void(n&&this.showSearch&&this.showSearch(!0));if(u.maximumInputLength&&d.val().length>u.maximumInputLength)return void a(C(u.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+u.formatInputTooLong(d.val(),u.maximumInputLength)+"</li>":"");u.formatSearching&&0===this.findHighlightableChoices().length&&a("<li class='select2-searching'>"+u.formatSearching()+"</li>"),d.addClass("select2-active"),this.removeHighlight(),s=this.tokenize(),s!=t&&null!=s&&d.val(s),this.resultsPage=1,u.query({element:u.element,term:d.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(o){var s;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&""!==d.val()&&(s=this.opts.createSearchChoice.call(h,d.val(),o.results),s!==t&&null!==s&&h.id(s)!==t&&null!==h.id(s)&&0===e(o.results).filter(function(){return r(h.id(this),h.id(s))}).length&&o.results.unshift(s)),0===o.results.length&&C(u.formatNoMatches,"formatNoMatches"))return void a("<li class='select2-no-results'>"+u.formatNoMatches(d.val())+"</li>");c.empty(),h.opts.populateResults.call(this,c,o.results,{term:d.val(),page:this.resultsPage,context:null}),o.more===!0&&C(u.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),i(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i?(this.highlight(t),this.onSelect(i,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var e=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.text()&&""===e.val())return e}},initContainerWidth:function(){function n(){var n,i,a,r,o,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(i=n.split(";"),r=0,o=i.length;o>r;r+=1)if(s=i[r].replace(/\s/g,""),a=s.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==a&&a.length>=1)return a[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),M=E(A,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,i,a;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),n=this.search.get(0),n.createTextRange?(i=n.createTextRange(),i.collapse(!1),i.select()):n.setSelectionRange&&(a=this.search.val().length,n.setSelectionRange(a,a)),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(e){this.opened()&&(this.parent.close.apply(this,arguments),e=e||{focus:!0},this.focusser.removeAttr("disabled"),e.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n=this.container,i=this.dropdown;this.showSearch(this.opts.minimumResultsForSearch<0?!1:!0),this.selection=t=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+z()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===F.PAGE_UP||e.which===F.PAGE_DOWN)return void g(e);switch(e.which){case F.UP:case F.DOWN:return this.moveHighlight(e.which===F.UP?-1:1),void g(e);case F.ENTER:return this.selectHighlighted(),void g(e);case F.TAB:return void this.selectHighlighted({noFocus:!0});case F.ESC:return this.cancel(e),void g(e)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==F.TAB&&!F.isControl(e)&&!F.isFunctionKey(e)&&e.which!==F.ESC){if(this.opts.openOnEnter===!1&&e.which===F.ENTER)return void g(e);if(e.which==F.DOWN||e.which==F.UP||e.which==F.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void g(e)}return e.which==F.DELETE||e.which==F.BACKSPACE?(this.opts.allowClear&&this.clear(),void g(e)):void 0}})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),m(e),this.close(),this.selection.focus())})),t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(t)})),i.on("mousedown",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(e){g(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var i=e.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var a=this.getPlaceholderOption();this.opts.element.val(a?a.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()?(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val():!1},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find("option").filter(function(){return this.selected});t(n.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var a=n.val(),o=null;t.query({matcher:function(e,n,i){var s=r(a,t.id(i));return s&&(o=i),s},callback:e.isFunction(i)?function(){i(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var i=0,a=this;if(this.findHighlightableChoices().each2(function(e,t){return r(a.id(t.data("select2-data")),a.opts.element.val())?(i=e,!1):void 0}),n!==!1&&this.highlight(t===!0&&i>=0?i:0),t===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(S(e.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||this.focusser.focus(),r(n,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var n,i,a=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),a.empty(),null!==e&&(n=this.opts.formatSelection(e,a,this.opts.escapeMarkup)),n!==t&&a.append(n),i=this.opts.formatSelectionCssClass(e,a),i!==t&&a.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,i=null,a=this,r=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return i=a.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:r});else{if(!e&&0!==e)return void this.clear(n);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){a.opts.element.val(e?a.id(e):""),a.updateSelection(e),a.setPlaceholder(),n&&a.triggerChange({added:e,removed:r})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,i=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(arguments.length>1&&(i=arguments[1]),void(e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),i&&this.triggerChange({added:e,removed:n})):this.clear(i)))}}),H=E(A,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find("option").filter(function(){return this.selected}).each2(function(e,t){i.push(n.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var a=o(n.val(),t.separator),s=[];t.query({matcher:function(n,i,o){var l=e.grep(a,function(e){return r(e,t.id(o))}).length;return l&&s.push(o),l},callback:e.isFunction(i)?function(){for(var e=[],n=0;n<a.length;n++)for(var o=a[n],l=0;l<s.length;l++){var d=s[l];if(r(o,t.id(d))){e.push(d),s.splice(l,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){i.search[0].focus(),i.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+z()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),i=n.prev(".select2-search-choice:not(.select2-locked)"),a=n.next(".select2-search-choice:not(.select2-locked)"),r=f(this.search);if(n.length&&(e.which==F.LEFT||e.which==F.RIGHT||e.which==F.BACKSPACE||e.which==F.DELETE||e.which==F.ENTER)){var o=n;return e.which==F.LEFT&&i.length?o=i:e.which==F.RIGHT?o=a.length?a:null:e.which===F.BACKSPACE?(this.unselect(n.first()),this.search.width(10),o=i.length?i:a):e.which==F.DELETE?(this.unselect(n.first()),this.search.width(10),o=a.length?a:null):e.which==F.ENTER&&(o=null),this.selectChoice(o),g(e),void(o&&o.length||this.open())}if((e.which===F.BACKSPACE&&1==this.keydowns||e.which==F.LEFT)&&0==r.offset&&!r.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void g(e);if(this.selectChoice(null),this.opened())switch(e.which){case F.UP:case F.DOWN:return this.moveHighlight(e.which===F.UP?-1:1),void g(e);case F.ENTER:return this.selectHighlighted(),void g(e);case F.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case F.ESC:return this.cancel(e),void g(e)}if(e.which!==F.TAB&&!F.isControl(e)&&!F.isFunctionKey(e)&&e.which!==F.BACKSPACE&&e.which!==F.ESC){if(e.which===F.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===F.PAGE_UP||e.which===F.PAGE_DOWN)&&g(e),e.which===F.ENTER&&g(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],a=[],r=this;e(t).each(function(){i(r.id(this),n)<0&&(n.push(r.id(this)),a.push(this))}),t=a,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){r.addSelectedChoice(this)}),r.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())
},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,a,r=!n.locked,o=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=r?o:s,d=this.id(n),c=this.getVal();i=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup),i!=t&&l.find("div").replaceWith("<div>"+i+"</div>"),a=this.opts.formatSelectionCssClass(n,l.find("div")),a!=t&&l.addClass(a),r&&l.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),g(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),c.push(d),this.setVal(c)},unselect:function(t){var n,a,r=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){for(;(a=i(this.id(n),r))>=0;)r.splice(a,1),this.setVal(r),this.select&&this.postprocessResults();var o=e.Event("select2-removing");o.val=this.id(n),o.choice=n,this.opts.element.trigger(o),o.isDefaultPrevented()||(t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},postprocessResults:function(e,t,n){var a=this.getVal(),r=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),s=this;r.each2(function(e,t){var n=s.id(t.data("select2-data"));i(n,a)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&s.highlight(0),!this.opts.createSearchChoice&&!r.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&C(s.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+s.opts.formatNoMatches(s.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-s(this.search)},resizeSearch:function(){var e,t,n,i,a,r=s(this.search);e=v(this.search)+10,t=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,a=n-(t-i)-r,e>a&&(a=n-r),40>a&&(a=n-r),0>=a&&(a=e),this.search.width(Math.floor(a))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),o(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){i(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var i=0;i<e.length;i++)r(this.opts.id(t[n]),this.opts.id(e[i]))&&(t.splice(n,1),n>0&&n--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(n,i){var a,r=this;if(0===arguments.length)return this.getVal();if(a=this.data(),a.length||(a=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:a}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(a,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,r.id);r.setVal(n),r.updateSelection(t),r.clearSearch(),i&&r.triggerChange(r.buildChangeDetails(a,r.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var i,a,r=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(a=this.data(),t||(t=[]),i=e.map(t,function(e){return r.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),void(n&&this.triggerChange(this.buildChangeDetails(a,this.data()))))}}),e.fn.select2=function(){var n,a,r,o,s,l=Array.prototype.slice.call(arguments,0),d=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],u=["val","data"],h={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])n=0===l.length?{}:e.extend({},l[0]),n.element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?s=n.element.prop("multiple"):(s=n.multiple||!1,"tags"in n&&(n.multiple=s=!0)),a=s?new H:new M,a.init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(i(l[0],d)<0)throw"Unknown method: "+l[0];if(o=t,a=e(this).data("select2"),a===t)return;if(r=l[0],"container"===r?o=a.container:"dropdown"===r?o=a.dropdown:(h[r]&&(r=h[r]),o=a[r].apply(a,l.slice(1))),i(l[0],c)>=0||i(l[0],u)&&1==l.length)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var a=[];return _(e.text,n.term,a,i),a.join("")},formatSelection:function(e,n,i){return e?i(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatSelectionCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return n(""+t).toUpperCase().indexOf(n(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:D,escapeMarkup:y,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:k,local:w,tags:x},util:{debounce:c,markMatch:_,escapeMarkup:y,stripDiacritics:n},"class":{"abstract":A,single:M,multi:H}}}}(jQuery),function(){}.call(this),function(){}.call(this);